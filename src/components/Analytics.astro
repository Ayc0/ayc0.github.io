---
declare global {
  interface Window {
    DD_RUM?: any;
    DD_LOGS?: any;
  }
}

const MODE = import.meta.env.MODE;
const GITHUB_RUN_ID = import.meta.env.GITHUB_RUN_ID;
const datadogClientToken = "pub65a306a096de7824a32d9879df04de68";
---

<!-- 100% privacy-first analytics -->
<script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"
></script>
<noscript
  ><img
    src="https://queue.simpleanalyticscdn.com/noscript.gif"
    alt=""
    referrerpolicy="no-referrer-when-downgrade"
  /></noscript
>

<!-- Datadog -->
<script
  src="https://www.datadoghq-browser-agent.com/eu1/v6/datadog-rum.js"
  type="text/javascript"></script>
<script define:vars={{ MODE, GITHUB_RUN_ID, datadogClientToken }}>
  window.DD_RUM &&
    window.DD_RUM.init({
      clientToken: datadogClientToken,
      applicationId: "d5dc836c-8af7-48c6-85d4-ada010f382f5",
      site: "datadoghq.eu",
      service: "ayc0.github.io",
      env: MODE,
      version: GITHUB_RUN_ID,
      sessionSampleRate: 100,
      sessionReplaySampleRate: 20,
      defaultPrivacyLevel: "allow",
    });
</script>

<script
  type="text/javascript"
  src="https://www.datadoghq-browser-agent.com/eu1/v6/datadog-logs.js"></script>
<script define:vars={{ GITHUB_RUN_ID, datadogClientToken }}>
  window.DD_LOGS &&
    window.DD_LOGS.init({
      clientToken: datadogClientToken,
      site: "datadoghq.eu",
      version: GITHUB_RUN_ID,
      forwardErrorsToLogs: true,
      sessionSampleRate: 100,
    });
</script>
