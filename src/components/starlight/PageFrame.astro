---
import Default from "@astrojs/starlight/components/PageFrame.astro";
import Analytics from "@components/Analytics.astro";

Astro.locals.starlightRoute.hasSidebar = false;
---

<Default hasSidebar={false}>
  <slot name="header" slot="header" />
  <slot name="sidebar" slot="sidebar" />
  <slot />
</Default>

<script>
  delete document.documentElement.dataset.hasSidebar;
</script>

<style is:global>
  .main-frame {
    max-width: 80ch;
  }

  @media (min-width: 50rem) {
    .main-frame {
      margin-inline: auto;
    }
  }

  @media (max-width: 50rem) {
    .title-wrapper + * {
      order: 2; /* On mobile, put search at the end */
    }
  }
  .title-wrapper + * + * {
    display: flex; /* On mobile, keep the buttons & theme in header */
    margin-left: auto; /* and put it on the right, instead of centered */
  }

  [data-series] {
    /* TODO: more beautiful colors */
    background-color: var(--sl-color-bg-inline-code);
    color: var(--sl-color-white);

    margin-block: -0.125em;
    padding: 0.125em 0.375em;
    border-radius: 0.375em;
    font-size: max(var(--sl-text-code-sm), 0.5em);
    font-style: italic;
    vertical-align: middle;

    text-decoration: none;
  }
  [data-series]:hover {
    color: var(--sl-color-text-accent);
  }
</style>

<Analytics />
