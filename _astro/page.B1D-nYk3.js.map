{"version":3,"file":"page.B1D-nYk3.js","sources":["../../node_modules/.pnpm/astro@5.16.6_@azure+identity@4.12.0_@types+node@25.0.3_rollup@4.54.0_typescript@5.9.3_yaml@2.8.2/node_modules/astro/dist/prefetch/index.js","../../astro:scripts/page.js"],"sourcesContent":["import { internalFetchHeaders } from \"virtual:astro:adapter-config/client\";\nconst debug = import.meta.env.DEV ? console.debug : void 0;\nconst inBrowser = import.meta.env.SSR === false;\nconst prefetchedUrls = /* @__PURE__ */ new Set();\nconst listenedAnchors = /* @__PURE__ */ new WeakSet();\nlet prefetchAll = __PREFETCH_PREFETCH_ALL__;\nlet defaultStrategy = __PREFETCH_DEFAULT_STRATEGY__;\nlet clientPrerender = __EXPERIMENTAL_CLIENT_PRERENDER__;\nlet inited = false;\nfunction init(defaultOpts) {\n  if (!inBrowser) return;\n  if (inited) return;\n  inited = true;\n  debug?.(`[astro] Initializing prefetch script`);\n  prefetchAll ??= defaultOpts?.prefetchAll ?? false;\n  defaultStrategy ??= defaultOpts?.defaultStrategy ?? \"hover\";\n  initTapStrategy();\n  initHoverStrategy();\n  initViewportStrategy();\n  initLoadStrategy();\n}\nfunction initTapStrategy() {\n  for (const event of [\"touchstart\", \"mousedown\"]) {\n    document.addEventListener(\n      event,\n      (e) => {\n        if (elMatchesStrategy(e.target, \"tap\")) {\n          prefetch(e.target.href, { ignoreSlowConnection: true });\n        }\n      },\n      { passive: true }\n    );\n  }\n}\nfunction initHoverStrategy() {\n  let timeout;\n  document.body.addEventListener(\n    \"focusin\",\n    (e) => {\n      if (elMatchesStrategy(e.target, \"hover\")) {\n        handleHoverIn(e);\n      }\n    },\n    { passive: true }\n  );\n  document.body.addEventListener(\"focusout\", handleHoverOut, { passive: true });\n  onPageLoad(() => {\n    for (const anchor of document.getElementsByTagName(\"a\")) {\n      if (listenedAnchors.has(anchor)) continue;\n      if (elMatchesStrategy(anchor, \"hover\")) {\n        listenedAnchors.add(anchor);\n        anchor.addEventListener(\"mouseenter\", handleHoverIn, { passive: true });\n        anchor.addEventListener(\"mouseleave\", handleHoverOut, { passive: true });\n      }\n    }\n  });\n  function handleHoverIn(e) {\n    const href = e.target.href;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      prefetch(href);\n    }, 80);\n  }\n  function handleHoverOut() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = 0;\n    }\n  }\n}\nfunction initViewportStrategy() {\n  let observer;\n  onPageLoad(() => {\n    for (const anchor of document.getElementsByTagName(\"a\")) {\n      if (listenedAnchors.has(anchor)) continue;\n      if (elMatchesStrategy(anchor, \"viewport\")) {\n        listenedAnchors.add(anchor);\n        observer ??= createViewportIntersectionObserver();\n        observer.observe(anchor);\n      }\n    }\n  });\n}\nfunction createViewportIntersectionObserver() {\n  const timeouts = /* @__PURE__ */ new WeakMap();\n  return new IntersectionObserver((entries, observer) => {\n    for (const entry of entries) {\n      const anchor = entry.target;\n      const timeout = timeouts.get(anchor);\n      if (entry.isIntersecting) {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        timeouts.set(\n          anchor,\n          setTimeout(() => {\n            observer.unobserve(anchor);\n            timeouts.delete(anchor);\n            prefetch(anchor.href);\n          }, 300)\n        );\n      } else {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeouts.delete(anchor);\n        }\n      }\n    }\n  });\n}\nfunction initLoadStrategy() {\n  onPageLoad(() => {\n    for (const anchor of document.getElementsByTagName(\"a\")) {\n      if (elMatchesStrategy(anchor, \"load\")) {\n        prefetch(anchor.href);\n      }\n    }\n  });\n}\nfunction prefetch(url, opts) {\n  url = url.replace(/#.*/, \"\");\n  const ignoreSlowConnection = opts?.ignoreSlowConnection ?? false;\n  if (!canPrefetchUrl(url, ignoreSlowConnection)) return;\n  prefetchedUrls.add(url);\n  if (clientPrerender && HTMLScriptElement.supports?.(\"speculationrules\")) {\n    debug?.(`[astro] Prefetching ${url} with <script type=\"speculationrules\">`);\n    appendSpeculationRules(url, opts?.eagerness ?? \"immediate\");\n  } else if (document.createElement(\"link\").relList?.supports?.(\"prefetch\") && opts?.with !== \"fetch\") {\n    debug?.(`[astro] Prefetching ${url} with <link rel=\"prefetch\">`);\n    const link = document.createElement(\"link\");\n    link.rel = \"prefetch\";\n    link.setAttribute(\"href\", url);\n    document.head.append(link);\n  } else {\n    debug?.(`[astro] Prefetching ${url} with fetch`);\n    const headers = new Headers();\n    for (const [key, value] of Object.entries(internalFetchHeaders)) {\n      headers.set(key, value);\n    }\n    fetch(url, { priority: \"low\", headers });\n  }\n}\nfunction canPrefetchUrl(url, ignoreSlowConnection) {\n  if (!navigator.onLine) return false;\n  if (!ignoreSlowConnection && isSlowConnection()) return false;\n  try {\n    const urlObj = new URL(url, location.href);\n    return location.origin === urlObj.origin && (location.pathname !== urlObj.pathname || location.search !== urlObj.search) && !prefetchedUrls.has(url);\n  } catch {\n  }\n  return false;\n}\nfunction elMatchesStrategy(el, strategy) {\n  if (el?.tagName !== \"A\") return false;\n  const attrValue = el.dataset.astroPrefetch;\n  if (attrValue === \"false\") {\n    return false;\n  }\n  if (strategy === \"tap\" && (attrValue != null || prefetchAll) && isSlowConnection()) {\n    return true;\n  }\n  if (attrValue == null && prefetchAll || attrValue === \"\") {\n    return strategy === defaultStrategy;\n  }\n  if (attrValue === strategy) {\n    return true;\n  }\n  return false;\n}\nfunction isSlowConnection() {\n  if (\"connection\" in navigator) {\n    const conn = navigator.connection;\n    return conn.saveData || /2g/.test(conn.effectiveType);\n  }\n  return false;\n}\nfunction onPageLoad(cb) {\n  cb();\n  let firstLoad = false;\n  document.addEventListener(\"astro:page-load\", () => {\n    if (!firstLoad) {\n      firstLoad = true;\n      return;\n    }\n    cb();\n  });\n}\nfunction appendSpeculationRules(url, eagerness) {\n  const script = document.createElement(\"script\");\n  script.type = \"speculationrules\";\n  script.textContent = JSON.stringify({\n    prerender: [\n      {\n        source: \"list\",\n        urls: [url],\n        eagerness\n      }\n    ],\n    // Currently, adding `prefetch` is required to fallback if `prerender` fails.\n    // Possibly will be automatic in the future, in which case it can be removed.\n    // https://github.com/WICG/nav-speculation/issues/162#issuecomment-1977818473\n    prefetch: [\n      {\n        source: \"list\",\n        urls: [url],\n        eagerness\n      }\n    ]\n  });\n  document.head.append(script);\n}\nexport {\n  init,\n  prefetch\n};\n","import { init } from 'astro/virtual-modules/prefetch.js';init()"],"names":["prefetchedUrls","listenedAnchors","prefetchAll","defaultStrategy","inited","init","defaultOpts","initTapStrategy","initHoverStrategy","initViewportStrategy","initLoadStrategy","event","e","elMatchesStrategy","prefetch","timeout","handleHoverIn","handleHoverOut","onPageLoad","anchor","href","observer","createViewportIntersectionObserver","timeouts","entries","entry","url","opts","ignoreSlowConnection","canPrefetchUrl","link","headers","key","value","internalFetchHeaders","isSlowConnection","urlObj","el","strategy","attrValue","conn","cb","firstLoad"],"mappings":"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","x_google_ignoreList":[0]}