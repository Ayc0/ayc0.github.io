{"version":3,"file":"Unit.Bwp3LWxy.js","sources":["../../src/components/page-length-units/Unit.tsx"],"sourcesContent":["import React, { useState, useRef, startTransition } from \"react\";\n\nexport const Unit = ({\n  unit,\n  description,\n}: {\n  unit: string;\n  description: string;\n}) => {\n  const [size, setSize] = useState<null | number>(null);\n  const nodeRef = useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const node = nodeRef.current;\n    if (!node) return;\n\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entry = entries[0]!;\n      startTransition(() => {\n        setSize(entry.contentRect.width);\n      });\n    });\n    resizeObserver.observe(node);\n    return () => {\n      resizeObserver.unobserve(node);\n    };\n  }, []);\n\n  if (typeof CSS !== \"undefined\" && !CSS.supports(\"width\", `1${unit}`)) {\n    return (\n      <>\n        <span style={{ gridRow: \"span 2\" }} />\n        <span style={{ color: \"var(--danger)\", gridColumn: \"span 2\" }}>\n          <code>“{unit}”</code> isn’t supported\n        </span>\n        <span className=\"description\">{description}</span>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div\n        ref={nodeRef}\n        style={{\n          justifySelf: \"center\",\n          width: `1${unit}`,\n          height: `1${unit}`,\n          background: \"var(--color)\",\n          gridRow: \"span 2\",\n        }}\n      />\n      <code>{`1${unit}`}</code>\n      <code>{size && `= ${size}px`}</code>\n      <span className=\"description\">{description}</span>\n    </>\n  );\n};\n"],"names":["Unit","unit","description","size","setSize","useState","nodeRef","useRef","React","node","resizeObserver","entries","entry","startTransition","jsxs","Fragment","jsx"],"mappings":"6FAEO,MAAMA,EAAO,CAAC,CACnB,KAAAC,EACA,YAAAC,CACF,IAGM,CACJ,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAwB,IAAI,EAC9CC,EAAUC,SAAuB,IAAI,EAkBvC,OAhBJC,EAAM,UAAU,IAAM,CACpB,MAAMC,EAAOH,EAAQ,QACrB,GAAI,CAACG,EAAM,OAEX,MAAMC,EAAiB,IAAI,eAAgBC,GAAY,CAC/C,MAAAC,EAAQD,EAAQ,CAAC,EACvBE,EAAAA,gBAAgB,IAAM,CACZT,EAAAQ,EAAM,YAAY,KAAK,CAAA,CAChC,CAAA,CACF,EACD,OAAAF,EAAe,QAAQD,CAAI,EACpB,IAAM,CACXC,EAAe,UAAUD,CAAI,CAC/B,CACF,EAAG,EAAE,EAED,OAAO,IAAQ,KAAe,CAAC,IAAI,SAAS,QAAS,IAAIR,CAAI,EAAE,EAG7Da,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAC,EAAA,IAAC,OAAK,CAAA,MAAO,CAAE,QAAS,UAAY,EACpCF,OAAC,QAAK,MAAO,CAAE,MAAO,gBAAiB,WAAY,QACjD,EAAA,SAAA,CAAAA,OAAC,OAAK,CAAA,SAAA,CAAA,IAAEb,EAAK,GAAA,EAAC,EAAO,kBAAA,EACvB,EACCe,EAAA,IAAA,OAAA,CAAK,UAAU,cAAe,SAAYd,CAAA,CAAA,CAAA,EAC7C,EAMAY,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAC,EAAA,IAAC,MAAA,CACC,IAAKV,EACL,MAAO,CACL,YAAa,SACb,MAAO,IAAIL,CAAI,GACf,OAAQ,IAAIA,CAAI,GAChB,WAAY,eACZ,QAAS,QAAA,CACX,CACF,EACCe,EAAA,IAAA,OAAA,CAAM,SAAI,IAAAf,CAAI,GAAG,EACjBe,MAAA,OAAA,CAAM,SAAQb,GAAA,KAAKA,CAAI,KAAK,EAC5Ba,EAAA,IAAA,OAAA,CAAK,UAAU,cAAe,SAAYd,CAAA,CAAA,CAAA,EAC7C,CAEJ"}