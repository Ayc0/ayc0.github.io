import{r as c}from"./index.CRdpAhVf.js";import{g as k,b as w}from"./fiber.BaD_b5FM.js";import"./src-HIN0w1H-.DdHOfhrL.js";function E(t){let r=t.stack;r.startsWith(`Error: ========
`)&&(r=r.slice(16));let e=r.indexOf(`
`);return e!==-1&&(r=r.slice(e+1)),e=r.indexOf(`
`),e!==-1&&(r=r.slice(0,e+1)),e=r.indexOf("react-stack-bottom-frame"),e===0?"":(e!==-1&&(e=r.lastIndexOf(`
`,e)),e!==-1&&(r=r.slice(0,e)),r)}function d(t,r){const e=[];let n=t;for(;n;){console.log("current.pendingProps",n.pendingProps),n.pendingProps||console.log(n);const i=window._DEBUG_MAPPED_PROPS.get(n.pendingProps);if(i?e.push(E(i)):console.warn(`[CUSTOM] No stack for "${n.elementType?.name}"`,n),n.return===n)break;n=n.return}const s=new Error(r);return s.stack=(r?r+`
`:"")+e.join(""),s}const a=new WeakMap,l=new WeakSet;window._DEBUG_MAPPED_PROPS=a;function o(t,...r){const e=new Error("========"),n=c.createElement(t,...r);return n.props&&(a.has(n.props)&&(console.warn("[CUSTOM][PROPS] THIS SHOULD NOT EXIST: CONFLICT ON ",n.props,n),a.delete(n.props),l.add(n.props)),l.has(n.props)||a.set(n.props,e)),n}const g=t=>{const r=t.target,e=k(r);if(!e)return;const n=d(e,`[CUSTOM] Clicked on ${w(e)}`);console.log(n.stack),window.DD_RUM?.addError(n)};function u(){return o("button",null,"Function")}const h=c.memo(function(){return o("button",null,"Memoized with an internal name")}),T=c.memo(()=>o("button",null,"Memoized anonymous")),P=c.forwardRef(function(){return o("button",null,"ForwardedRef with an internal name")}),S=c.forwardRef(()=>o("button",null,"ForwardedRef anonymous"));class C extends c.Component{render(){return console.log("[CUSTOM] Test component render log in all browser dev tools",new Error().stack),console.trace(),o("button",null,"Class")}}const f=c.createContext(void 0),p=()=>{const t=c.useContext(f),r=new Error(void 0,{cause:t});"captureStackTrace"in Error&&Error.captureStackTrace(r,p);function e(n){const s=new Error(n.message,{cause:r});return"captureStackTrace"in Error&&Error.captureStackTrace(s,e),s}return e};function b(){const t=p();c.useEffect(()=>{setTimeout(()=>{fetch("https://ayc0.github.io/unknown").then(r=>{if(!r.ok)throw new Error(`Fetch error: ${r.status}`)}).catch(r=>{window.DD_RUM?.addError(t(r))})},100)},[])}function O(){b()}function F(){O()}function m(){return F(),o("div",null,"Hook")}const M=t=>{class r extends c.Component{render(){const n=d(this._reactInternals);return o(f.Provider,{value:n},o(t,{...this.props}))}}return r},x=M(m),y=()=>o("fieldset",{style:{display:"inline",border:"1px dashed blue"},onClick:g},o("legend",null,"Click Tracker"),o(u,null),o(u,null),o("hr",null),o(C,{with:{props:!0}}),o("hr",null),o(h,null),o(T,null),o("hr",null),o(P,null),o(S,null),o("hr",null),o(m,null),o(x,null));export{y as CustomPragma};
//# sourceMappingURL=CustomPragma.CeXxyFHT.js.map
