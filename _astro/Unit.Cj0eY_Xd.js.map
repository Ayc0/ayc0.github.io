{"version":3,"file":"Unit.Cj0eY_Xd.js","sources":["../../src/components/page-length-units/Unit.tsx"],"sourcesContent":["import React, { useState, useRef, startTransition } from \"react\";\n\nexport const Unit = ({\n  unit,\n  description,\n}: {\n  unit: string;\n  description: string;\n}) => {\n  const [size, setSize] = useState<null | number>(null);\n  const nodeRef = useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const node = nodeRef.current;\n    if (!node) return;\n\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entry = entries[0]!;\n      startTransition(() => {\n        setSize(entry.contentRect.width);\n      });\n    });\n    resizeObserver.observe(node);\n    return () => {\n      resizeObserver.unobserve(node);\n    };\n  }, []);\n\n  if (typeof CSS !== \"undefined\" && !CSS.supports(\"width\", `1${unit}`)) {\n    return (\n      <>\n        <span style={{ gridRow: \"span 2\" }} />\n        <span style={{ color: \"var(--danger)\", gridColumn: \"span 2\" }}>\n          <code>“{unit}”</code> isn’t supported\n        </span>\n        <span className=\"description\">{description}</span>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <div\n        ref={nodeRef}\n        style={{\n          justifySelf: \"center\",\n          width: `1${unit}`,\n          height: `1${unit}`,\n          background: \"var(--color)\",\n          gridRow: \"span 2\",\n        }}\n      />\n      <code>{`1${unit}`}</code>\n      <code>{size && `= ${size}px`}</code>\n      <span className=\"description\">{description}</span>\n    </>\n  );\n};\n"],"names":["Unit","unit","description","size","setSize","useState","nodeRef","useRef","React","node","resizeObserver","entries","entry","startTransition","jsxs","Fragment","jsx"],"mappings":"6FAEO,MAAMA,EAAO,CAAC,CACnB,KAAAC,EACA,YAAAC,CACF,IAGM,CACJ,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAwB,IAAI,EAC9CC,EAAUC,EAAAA,OAAuB,IAAI,EAkB3C,OAhBAC,EAAM,UAAU,IAAM,CACpB,MAAMC,EAAOH,EAAQ,QACrB,GAAI,CAACG,EAAM,OAEX,MAAMC,EAAiB,IAAI,eAAgBC,GAAY,CACrD,MAAMC,EAAQD,EAAQ,CAAC,EACvBE,EAAAA,gBAAgB,IAAM,CACpBT,EAAQQ,EAAM,YAAY,KAAK,CACjC,CAAC,CACH,CAAC,EACD,OAAAF,EAAe,QAAQD,CAAI,EACpB,IAAM,CACXC,EAAe,UAAUD,CAAI,CAC/B,CACF,EAAG,CAAA,CAAE,EAED,OAAO,IAAQ,KAAe,CAAC,IAAI,SAAS,QAAS,IAAIR,CAAI,EAAE,EAE/Da,EAAAA,KAAAC,WAAA,CACE,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,MAAO,CAAE,QAAS,UAAY,EACpCF,OAAC,QAAK,MAAO,CAAE,MAAO,gBAAiB,WAAY,UACjD,SAAA,CAAAA,OAAC,OAAA,CAAK,SAAA,CAAA,IAAEb,EAAK,GAAA,EAAC,EAAO,kBAAA,EACvB,EACAe,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,SAAAd,CAAA,CAAY,CAAA,EAC7C,EAKFY,EAAAA,KAAAC,WAAA,CACE,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,IAAKV,EACL,MAAO,CACL,YAAa,SACb,MAAO,IAAIL,CAAI,GACf,OAAQ,IAAIA,CAAI,GAChB,WAAY,eACZ,QAAS,QAAA,CACX,CAAA,EAEFe,EAAAA,IAAC,OAAA,CAAM,SAAA,IAAIf,CAAI,GAAG,EAClBe,MAAC,OAAA,CAAM,SAAAb,GAAQ,KAAKA,CAAI,KAAK,EAC7Ba,EAAAA,IAAC,OAAA,CAAK,UAAU,cAAe,SAAAd,CAAA,CAAY,CAAA,EAC7C,CAEJ"}