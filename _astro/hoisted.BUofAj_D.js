/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fe=globalThis,Ot=Fe.ShadowRoot&&(Fe.ShadyCSS===void 0||Fe.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Tt=Symbol(),rr=new WeakMap;let fn=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==Tt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(Ot&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=rr.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&rr.set(r,e))}return e}toString(){return this.cssText}};const ds=t=>new fn(typeof t=="string"?t:t+"",void 0,Tt),K=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,s,a)=>n+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[a+1],t[0]);return new fn(r,t,Tt)},ps=(t,e)=>{if(Ot)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),s=Fe.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)}},nr=Ot?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return ds(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:fs,defineProperty:ms,getOwnPropertyDescriptor:gs,getOwnPropertyNames:bs,getOwnPropertySymbols:ys,getPrototypeOf:$s}=Object,at=globalThis,sr=at.trustedTypes,Ms=sr?sr.emptyScript:"",ws=at.reactiveElementPolyfillSupport,Ce=(t,e)=>t,Ve={toAttribute(t,e){switch(e){case Boolean:t=t?Ms:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},Ht=(t,e)=>!fs(t,e),ar={attribute:!0,type:String,converter:Ve,reflect:!1,hasChanged:Ht};Symbol.metadata??=Symbol("metadata"),at.litPropertyMetadata??=new WeakMap;let he=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=ar){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),s=this.getPropertyDescriptor(e,n,r);s!==void 0&&ms(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){const{get:s,set:a}=gs(this.prototype,e)??{get(){return this[r]},set(i){this[r]=i}};return{get(){return s?.call(this)},set(i){const l=s?.call(this);a.call(this,i),this.requestUpdate(e,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??ar}static _$Ei(){if(this.hasOwnProperty(Ce("elementProperties")))return;const e=$s(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Ce("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ce("properties"))){const r=this.properties,n=[...bs(r),...ys(r)];for(const s of n)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const s of n)r.unshift(nr(s))}else e!==void 0&&r.push(nr(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ps(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){const n=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,n);if(s!==void 0&&n.reflect===!0){const a=(n.converter?.toAttribute!==void 0?n.converter:Ve).toAttribute(r,n.type);this._$Em=e,a==null?this.removeAttribute(s):this.setAttribute(s,a),this._$Em=null}}_$AK(e,r){const n=this.constructor,s=n._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=n.getPropertyOptions(s),i=typeof a.converter=="function"?{fromAttribute:a.converter}:a.converter?.fromAttribute!==void 0?a.converter:Ve;this._$Em=s,this[s]=i.fromAttribute(r,a.type),this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){if(n??=this.constructor.getPropertyOptions(e),!(n.hasChanged??Ht)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&(this._$Ej??=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,a]of this._$Ep)this[s]=a;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[s,a]of n)a.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],a)}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(r)):this._$EU()}catch(n){throw e=!1,this._$EU(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&=this._$Ej.forEach(r=>this._$EC(r,this[r])),this._$EU()}updated(e){}firstUpdated(e){}};he.elementStyles=[],he.shadowRootOptions={mode:"open"},he[Ce("elementProperties")]=new Map,he[Ce("finalized")]=new Map,ws?.({ReactiveElement:he}),(at.reactiveElementVersions??=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dt=globalThis,Ke=Dt.trustedTypes,ir=Ke?Ke.createPolicy("lit-html",{createHTML:t=>t}):void 0,mn="$lit$",q=`lit$${Math.random().toFixed(9).slice(2)}$`,gn="?"+q,_s=`<${gn}>`,se=document,Se=()=>se.createComment(""),Ae=t=>t===null||typeof t!="object"&&typeof t!="function",bn=Array.isArray,vs=t=>bn(t)||typeof t?.[Symbol.iterator]=="function",ft=`[ 	
\f\r]`,_e=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,or=/-->/g,lr=/>/g,ee=RegExp(`>|${ft}(?:([^\\s"'>=/]+)(${ft}*=${ft}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),cr=/'/g,hr=/"/g,yn=/^(?:script|style|textarea|title)$/i,Cs=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Pe=Cs(1),ue=Symbol.for("lit-noChange"),A=Symbol.for("lit-nothing"),ur=new WeakMap,re=se.createTreeWalker(se,129);function $n(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return ir!==void 0?ir.createHTML(e):e}const xs=(t,e)=>{const r=t.length-1,n=[];let s,a=e===2?"<svg>":"",i=_e;for(let l=0;l<r;l++){const o=t[l];let h,u,c=-1,d=0;for(;d<o.length&&(i.lastIndex=d,u=i.exec(o),u!==null);)d=i.lastIndex,i===_e?u[1]==="!--"?i=or:u[1]!==void 0?i=lr:u[2]!==void 0?(yn.test(u[2])&&(s=RegExp("</"+u[2],"g")),i=ee):u[3]!==void 0&&(i=ee):i===ee?u[0]===">"?(i=s??_e,c=-1):u[1]===void 0?c=-2:(c=i.lastIndex-u[2].length,h=u[1],i=u[3]===void 0?ee:u[3]==='"'?hr:cr):i===hr||i===cr?i=ee:i===or||i===lr?i=_e:(i=ee,s=void 0);const m=i===ee&&t[l+1].startsWith("/>")?" ":"";a+=i===_e?o+_s:c>=0?(n.push(h),o.slice(0,c)+mn+o.slice(c)+q+m):o+q+(c===-2?l:m)}return[$n(t,a+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class ke{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let a=0,i=0;const l=e.length-1,o=this.parts,[h,u]=xs(e,r);if(this.el=ke.createElement(h,n),re.currentNode=this.el.content,r===2){const c=this.el.content.firstChild;c.replaceWith(...c.childNodes)}for(;(s=re.nextNode())!==null&&o.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(const c of s.getAttributeNames())if(c.endsWith(mn)){const d=u[i++],m=s.getAttribute(c).split(q),f=/([.?@])?(.*)/.exec(d);o.push({type:1,index:a,name:f[2],strings:m,ctor:f[1]==="."?As:f[1]==="?"?Ps:f[1]==="@"?ks:it}),s.removeAttribute(c)}else c.startsWith(q)&&(o.push({type:6,index:a}),s.removeAttribute(c));if(yn.test(s.tagName)){const c=s.textContent.split(q),d=c.length-1;if(d>0){s.textContent=Ke?Ke.emptyScript:"";for(let m=0;m<d;m++)s.append(c[m],Se()),re.nextNode(),o.push({type:2,index:++a});s.append(c[d],Se())}}}else if(s.nodeType===8)if(s.data===gn)o.push({type:2,index:a});else{let c=-1;for(;(c=s.data.indexOf(q,c+1))!==-1;)o.push({type:7,index:a}),c+=q.length-1}a++}}static createElement(e,r){const n=se.createElement("template");return n.innerHTML=e,n}}function de(t,e,r=t,n){if(e===ue)return e;let s=n!==void 0?r._$Co?.[n]:r._$Cl;const a=Ae(e)?void 0:e._$litDirective$;return s?.constructor!==a&&(s?._$AO?.(!1),a===void 0?s=void 0:(s=new a(t),s._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=s:r._$Cl=s),s!==void 0&&(e=de(t,s._$AS(t,e.values),s,n)),e}class Ss{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,s=(e?.creationScope??se).importNode(r,!0);re.currentNode=s;let a=re.nextNode(),i=0,l=0,o=n[0];for(;o!==void 0;){if(i===o.index){let h;o.type===2?h=new Ne(a,a.nextSibling,this,e):o.type===1?h=new o.ctor(a,o.name,o.strings,this,e):o.type===6&&(h=new Es(a,this,e)),this._$AV.push(h),o=n[++l]}i!==o?.index&&(a=re.nextNode(),i++)}return re.currentNode=se,s}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Ne{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,s){this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=de(this,e,r),Ae(e)?e===A||e==null||e===""?(this._$AH!==A&&this._$AR(),this._$AH=A):e!==this._$AH&&e!==ue&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):vs(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==A&&Ae(this._$AH)?this._$AA.nextSibling.data=e:this.T(se.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=ke.createElement($n(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===s)this._$AH.p(r);else{const a=new Ss(s,this),i=a.u(this.options);a.p(r),this.T(i),this._$AH=a}}_$AC(e){let r=ur.get(e.strings);return r===void 0&&ur.set(e.strings,r=new ke(e)),r}k(e){bn(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const a of e)s===r.length?r.push(n=new Ne(this.S(Se()),this.S(Se()),this,this.options)):n=r[s],n._$AI(a),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class it{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,a){this.type=1,this._$AH=A,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=a,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=A}_$AI(e,r=this,n,s){const a=this.strings;let i=!1;if(a===void 0)e=de(this,e,r,0),i=!Ae(e)||e!==this._$AH&&e!==ue,i&&(this._$AH=e);else{const l=e;let o,h;for(e=a[0],o=0;o<a.length-1;o++)h=de(this,l[n+o],r,o),h===ue&&(h=this._$AH[o]),i||=!Ae(h)||h!==this._$AH[o],h===A?e=A:e!==A&&(e+=(h??"")+a[o+1]),this._$AH[o]=h}i&&!s&&this.j(e)}j(e){e===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class As extends it{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===A?void 0:e}}class Ps extends it{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==A)}}class ks extends it{constructor(e,r,n,s,a){super(e,r,n,s,a),this.type=5}_$AI(e,r=this){if((e=de(this,e,r,0)??A)===ue)return;const n=this._$AH,s=e===A&&n!==A||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,a=e!==A&&(n===A||s);s&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Es{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){de(this,e)}}const Rs=Dt.litHtmlPolyfillSupport;Rs?.(ke,Ne),(Dt.litHtmlVersions??=[]).push("3.1.4");const Ls=(t,e,r)=>{const n=r?.renderBefore??e;let s=n._$litPart$;if(s===void 0){const a=r?.renderBefore??null;n._$litPart$=s=new Ne(e.insertBefore(Se(),a),a,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class W extends he{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Ls(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ue}}W._$litElement$=!0,W.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:W});const Ns=globalThis.litElementPolyfillSupport;Ns?.({LitElement:W});(globalThis.litElementVersions??=[]).push("4.0.6");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ot=t=>(e,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Is={attribute:!0,type:String,converter:Ve,reflect:!1,hasChanged:Ht},Bs=(t=Is,e,r)=>{const{kind:n,metadata:s}=r;let a=globalThis.litPropertyMetadata.get(s);if(a===void 0&&globalThis.litPropertyMetadata.set(s,a=new Map),a.set(r.name,t),n==="accessor"){const{name:i}=r;return{set(l){const o=e.get.call(this);e.set.call(this,l),this.requestUpdate(i,o,t)},init(l){return l!==void 0&&this.P(i,void 0,t),l}}}if(n==="setter"){const{name:i}=r;return function(l){const o=this[i];e.call(this,l),this.requestUpdate(i,o,t)}}throw Error("Unsupported decorator location: "+n)};function U(t){return(e,r)=>typeof r=="object"?Bs(t,e,r):((n,s,a)=>{const i=s.hasOwnProperty(a);return s.constructor.createProperty(a,i?{...n,wrapped:!0}:n),i?Object.getOwnPropertyDescriptor(s,a):void 0})(t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function jt(t){return U({...t,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Mn(t){return(e,r)=>{const n=typeof e=="function"?e:e[r];Object.assign(n,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zs=(t,e,r)=>(r.configurable=!0,r.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(t,e,r),r);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function lt(t,e){return(r,n,s)=>{const a=i=>i.renderRoot?.querySelector(t)??null;return zs(r,n,{get(){return a(this)}})}}function Os(t,e=r=>r){const[r,n]=function(){const o=new Set;return[h=>(o.add(h),h()),o]}();let s=e(typeof t=="function"?t(r):t);const a=new Set,i=(o,h)=>{const u=e(o,s);Object.is(s,u)||(s=u,a.forEach(c=>{c(s,h)}))};function l(o,h=new WeakSet){return arguments.length===0?s:Promise.resolve(typeof o=="function"?o(s):o).then(u=>(h.has(l)||(h.add(l),i(u,h)),s))}return typeof t=="function"&&n.forEach(o=>{o.on((h,u)=>{i(t(r),u)})}),l.on=o=>{a.add(o);const h=()=>a.delete(o);return Object.defineProperty(h,"listening",{get:()=>a.has(o)}),h},l}function w(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(i=>[i]));let n=e[0].length,s=e[0].map((i,l)=>e.map(o=>o[l])),a=t.map(i=>s.map(l=>{let o=0;if(!Array.isArray(i)){for(let h of l)o+=i*h;return o}for(let h=0;h<i.length;h++)o+=i[h]*(l[h]||0);return o}));return r===1&&(a=a[0]),n===1?a.map(i=>i[0]):a}function Ie(t){return X(t)==="string"}function X(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function et(t,{precision:e,unit:r}){return Z(t)?"none":wn(t,e)+(r??"")}function Z(t){return Number.isNaN(t)||t instanceof Number&&t?.none}function C(t){return Z(t)?0:t}function wn(t,e){if(t===0)return 0;let r=~~t,n=0;r&&e&&(n=~~Math.log10(Math.abs(r))+1);const s=10**(e-n);return Math.floor(t*s+.5)/s}const Ts={deg:1,grad:.9,rad:180/Math.PI,turn:360};function _n(t){if(!t)return;t=t.trim();const e=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,s=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let a=t.match(e);if(a){let i=[];return a[2].replace(s,(l,o)=>{let h=o.match(n),u=o;if(h){let c=h[0],d=u.slice(0,-c.length);c==="%"?(u=new Number(d/100),u.type="<percentage>"):(u=new Number(d*Ts[c]),u.type="<angle>",u.unit=c)}else r.test(u)?(u=new Number(u),u.type="<number>"):u==="none"&&(u=new Number(NaN),u.none=!0);l.startsWith("/")&&(u=u instanceof Number?u:new Number(u),u.alpha=!0),typeof u=="object"&&u instanceof Number&&(u.raw=o),i.push(u)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:i}}}function vn(t){return t[t.length-1]}function Ee(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function Cn(t,e,r){return(r-t)/(e-t)}function Ut(t,e,r){return Ee(e[0],e[1],Cn(t[0],t[1],r))}function xn(t){return t.map(e=>e.split("|").map(r=>{r=r.trim();let n=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let s=new String(n[1]);return s.range=[+n[2],+n[3]],s}return r}))}function Sn(t,e,r){return Math.max(Math.min(r,e),t)}function ct(t,e){return Math.sign(t)===Math.sign(e)?t:-t}function O(t,e){return ct(Math.abs(t)**e,t)}function Yt(t,e){return e===0?0:t/e}function An(t,e,r=0,n=t.length){for(;r<n;){const s=r+n>>1;t[s]<e?r=s+1:n=s}return r}var Hs=Object.freeze({__proto__:null,bisectLeft:An,clamp:Sn,copySign:ct,interpolate:Ee,interpolateInv:Cn,isNone:Z,isString:Ie,last:vn,mapRange:Ut,multiplyMatrices:w,parseCoordGrammar:xn,parseFunction:_n,serializeNumber:et,skipNone:C,spow:O,toPrecision:wn,type:X,zdiv:Yt});class Ds{add(e,r,n){if(typeof arguments[0]!="string"){for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1]);return}(Array.isArray(e)?e:[e]).forEach(function(s){this[s]=this[s]||[],r&&this[s][n?"unshift":"push"](r)},this)}run(e,r){this[e]=this[e]||[],this[e].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}}const G=new Ds;var B={gamut_mapping:"css",precision:5,deltaE:"76",verbose:globalThis?.process?.env?.NODE_ENV?.toLowerCase()!=="test",warn:function(e){this.verbose&&globalThis?.console?.warn?.(e)}};const k={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function Pt(t){return Array.isArray(t)?t:k[t]}function tt(t,e,r,n={}){if(t=Pt(t),e=Pt(e),!t||!e)throw new TypeError(`Missing white point to convert ${t?"":"from"}${!t&&!e?"/":""}${e?"":"to"}`);if(t===e)return r;let s={W1:t,W2:e,XYZ:r,options:n};if(G.run("chromatic-adaptation-start",s),s.M||(s.W1===k.D65&&s.W2===k.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===k.D50&&s.W2===k.D65&&(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),G.run("chromatic-adaptation-end",s),s.M)return w(s.M,s.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const js=new Set(["<number>","<percentage>","<angle>"]);function dr(t,e,r,n){return Object.entries(t.coords).map(([a,i],l)=>{let o=e.coordGrammar[l],h=n[l],u=h?.type,c;if(h.none?c=o.find(f=>js.has(f)):c=o.find(f=>f==u),!c){let f=i.name||a;throw new TypeError(`${u??h.raw} not allowed for ${f} in ${r}()`)}let d=c.range;u==="<percentage>"&&(d||=[0,1]);let m=i.range||i.refRange;return d&&m&&(n[l]=Ut(d,m,n[l])),c})}function Pn(t,{meta:e}={}){let r={str:String(t)?.trim()};if(G.run("parse-start",r),r.color)return r.color;if(r.parsed=_n(r.str),r.parsed){let n=r.parsed.name;if(n==="color"){let s=r.parsed.args.shift(),a=s.startsWith("--")?s.substring(2):`--${s}`,i=[s,a],l=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let u of p.all){let c=u.getFormat("color");if(c&&(i.includes(c.id)||c.ids?.filter(d=>i.includes(d)).length)){const d=Object.keys(u.coords).map((f,b)=>r.parsed.args[b]||0);let m;return c.coordGrammar&&(m=dr(u,c,"color",d)),e&&Object.assign(e,{formatId:"color",types:m}),c.id.startsWith("--")&&!s.startsWith("--")&&B.warn(`${u.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${c.id}) instead of color(${s}).`),s.startsWith("--")&&!c.id.startsWith("--")&&B.warn(`${u.name} is a standard space and supported in the CSS spec. Use color(${c.id}) instead of prefixed color(${s}).`),{spaceId:u.id,coords:d,alpha:l}}}let o="",h=s in p.registry?s:a;if(h in p.registry){let u=p.registry[h].formats?.color?.id;u&&(o=`Did you mean color(${u})?`)}throw new TypeError(`Cannot parse color(${s}). `+(o||"Missing a plugin?"))}else for(let s of p.all){let a=s.getFormat(n);if(a&&a.type==="function"){let i=1;(a.lastAlpha||vn(r.parsed.args).alpha)&&(i=r.parsed.args.pop());let l=r.parsed.args,o;return a.coordGrammar&&(o=dr(s,a,n,l)),e&&Object.assign(e,{formatId:a.name,types:o}),{spaceId:s.id,coords:l,alpha:i}}}}else for(let n of p.all)for(let s in n.formats){let a=n.formats[s];if(a.type!=="custom"||a.test&&!a.test(r.str))continue;let i=a.parse(r.str);if(i)return i.alpha??=1,e&&(e.formatId=s),i}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function g(t){if(Array.isArray(t))return t.map(g);if(!t)throw new TypeError("Empty color reference");Ie(t)&&(t=Pn(t));let e=t.space||t.spaceId;return e instanceof p||(t.space=p.get(e)),t.alpha===void 0&&(t.alpha=1),t}const Us=75e-6;class p{constructor(e){this.id=e.id,this.name=e.name,this.base=e.base?p.get(e.base):null,this.aliases=e.aliases,this.base&&(this.fromBase=e.fromBase,this.toBase=e.toBase);let r=e.coords??this.base.coords;for(let s in r)"name"in r[s]||(r[s].name=s);this.coords=r;let n=e.white??this.base.white??"D65";this.white=Pt(n),this.formats=e.formats??{};for(let s in this.formats){let a=this.formats[s];a.type||="function",a.name||=s}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:e.cssId||this.id}),e.gamutSpace?this.gamutSpace=e.gamutSpace==="self"?this:p.get(e.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(s,a)=>!0),this.referred=e.referred,Object.defineProperty(this,"path",{value:Ys(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),G.run("colorspace-init-end",this)}inGamut(e,{epsilon:r=Us}={}){if(!this.equals(this.gamutSpace))return e=this.to(this.gamutSpace,e),this.gamutSpace.inGamut(e,{epsilon:r});let n=Object.values(this.coords);return e.every((s,a)=>{let i=n[a];if(i.type!=="angle"&&i.range){if(Number.isNaN(s))return!0;let[l,o]=i.range;return(l===void 0||s>=l-r)&&(o===void 0||s<=o+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(e=>!("range"in e))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let e in this.coords)if(this.coords[e].type==="angle")return!0;return!1}getFormat(e){if(typeof e=="object")return e=pr(e,this),e;let r;return e==="default"?r=Object.values(this.formats)[0]:r=this.formats[e],r?(r=pr(r,this),r):null}equals(e){return e?this===e||this.id===e||this.id===e.id:!1}to(e,r){if(arguments.length===1){const l=g(e);[e,r]=[l.space,l.coords]}if(e=p.get(e),this.equals(e))return r;r=r.map(l=>Number.isNaN(l)?0:l);let n=this.path,s=e.path,a,i;for(let l=0;l<n.length&&n[l].equals(s[l]);l++)a=n[l],i=l;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${e}: no connection space was found`);for(let l=n.length-1;l>i;l--)r=n[l].toBase(r);for(let l=i+1;l<s.length;l++)r=s[l].fromBase(r);return r}from(e,r){if(arguments.length===1){const n=g(e);[e,r]=[n.space,n.coords]}return e=p.get(e),e.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let e=[];for(let r in this.coords){let n=this.coords[r],s=n.range||n.refRange;e.push(s?.min??0)}return e}static registry={};static get all(){return[...new Set(Object.values(p.registry))]}static register(e,r){if(arguments.length===1&&(r=arguments[0],e=r.id),r=this.get(r),this.registry[e]&&this.registry[e]!==r)throw new Error(`Duplicate color space registration: '${e}'`);if(this.registry[e]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(e,...r){if(!e||e instanceof p)return e;if(X(e)==="string"){let s=p.registry[e.toLowerCase()];if(!s)throw new TypeError(`No color space found with id = "${e}"`);return s}if(r.length)return p.get(...r);throw new TypeError(`${e} is not a valid color space`)}static resolveCoord(e,r){let n=X(e),s,a;if(n==="string"?e.includes(".")?[s,a]=e.split("."):[s,a]=[,e]:Array.isArray(e)?[s,a]=e:(s=e.space,a=e.coordId),s=p.get(s),s||(s=r),!s)throw new TypeError(`Cannot resolve coordinate reference ${e}: No color space specified and relative references are not allowed here`);if(n=X(a),n==="number"||n==="string"&&a>=0){let o=Object.entries(s.coords)[a];if(o)return{space:s,id:o[0],index:a,...o[1]}}s=p.get(s);let i=a.toLowerCase(),l=0;for(let o in s.coords){let h=s.coords[o];if(o.toLowerCase()===i||h.name?.toLowerCase()===i)return{space:s,id:o,index:l,...h};l++}throw new TypeError(`No "${a}" coordinate found in ${s.name}. Its coordinates are: ${Object.keys(s.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function Ys(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function pr(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||="function",t.name||="color",t.coordGrammar=xn(t.coords);let r=Object.entries(e).map(([n,s],a)=>{let i=t.coordGrammar[a][0],l=s.range||s.refRange,o=i.range,h="";return i=="<percentage>"?(o=[0,100],h="%"):i=="<angle>"&&(h="deg"),{fromRange:l,toRange:o,suffix:h}});t.serializeCoords=(n,s)=>n.map((a,i)=>{let{fromRange:l,toRange:o,suffix:h}=r[i];return l&&o&&(a=Ut(l,o,a)),a=et(a,{precision:s,unit:h}),a})}return t}var P=new p({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class R extends p{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=P),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=r=>{let n=w(e.toXYZ_M,r);return this.white!==this.base.white&&(n=tt(this.white,this.base.white,n)),n},e.fromBase??=r=>(r=tt(this.base.white,this.white,r),w(e.fromXYZ_M,r))),e.referred??="display",super(e)}}function Be(t,e){return t=g(t),!e||t.space.equals(e)?t.coords.slice():(e=p.get(e),e.from(t))}function N(t,e){t=g(t);let{space:r,index:n}=p.resolveCoord(e,t.space);return Be(t,r)[n]}function qt(t,e,r){return t=g(t),e=p.get(e),t.coords=e.to(t.space,r),t}qt.returns="color";function D(t,e,r){if(t=g(t),arguments.length===2&&X(arguments[1])==="object"){let n=arguments[1];for(let s in n)D(t,s,n[s])}else{typeof r=="function"&&(r=r(N(t,e)));let{space:n,index:s}=p.resolveCoord(e,t.space),a=Be(t,n);a[s]=r,qt(t,n,a)}return t}D.returns="color";var Wt=new p({id:"xyz-d50",name:"XYZ D50",white:"D50",base:P,fromBase:t=>tt(P.white,"D50",t),toBase:t=>tt("D50",P.white,t)});const qs=216/24389,fr=24/116,De=24389/27;let mt=k.D50;var I=new p({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:mt,base:Wt,fromBase(t){let r=t.map((n,s)=>n/mt[s]).map(n=>n>qs?Math.cbrt(n):(De*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>fr?Math.pow(e[0],3):(116*e[0]-16)/De,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/De,e[2]>fr?Math.pow(e[2],3):(116*e[2]-16)/De].map((n,s)=>n*mt[s])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function T(t){return(t%360+360)%360}function Ws(t,e){if(t==="raw")return e;let[r,n]=e.map(T),s=n-r;return t==="increasing"?s<0&&(n+=360):t==="decreasing"?s>0&&(r+=360):t==="longer"?-180<s&&s<180&&(s>0?r+=360:n+=360):t==="shorter"&&(s>180?r+=360:s<-180&&(n+=360)),[r,n]}var Re=new p({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:I,fromBase(t){let[e,r,n]=t,s;const a=.02;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),T(s)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const mr=25**7,rt=Math.PI,gr=180/rt,ie=rt/180;function br(t){const e=t*t;return e*e*e*t}function kn(t,e,{kL:r=1,kC:n=1,kH:s=1}={}){[t,e]=g([t,e]);let[a,i,l]=I.from(t),o=Re.from(I,[a,i,l])[1],[h,u,c]=I.from(e),d=Re.from(I,[h,u,c])[1];o<0&&(o=0),d<0&&(d=0);let m=(o+d)/2,f=br(m),b=.5*(1-Math.sqrt(f/(f+mr))),$=(1+b)*i,x=(1+b)*u,_=Math.sqrt($**2+l**2),v=Math.sqrt(x**2+c**2),L=$===0&&l===0?0:Math.atan2(l,$),Y=x===0&&c===0?0:Math.atan2(c,x);L<0&&(L+=2*rt),Y<0&&(Y+=2*rt),L*=gr,Y*=gr;let Oe=h-a,Te=v-_,z=Y-L,$e=L+Y,Ft=Math.abs(z),Me;_*v===0?Me=0:Ft<=180?Me=z:z>180?Me=z-360:z<-180?Me=z+360:B.warn("the unthinkable has happened");let Qt=2*Math.sqrt(v*_)*Math.sin(Me*ie/2),os=(a+h)/2,pt=(_+v)/2,Vt=br(pt),H;_*v===0?H=$e:Ft<=180?H=$e/2:$e<360?H=($e+360)/2:H=($e-360)/2;let Kt=(os-50)**2,ls=1+.015*Kt/Math.sqrt(20+Kt),er=1+.045*pt,we=1;we-=.17*Math.cos((H-30)*ie),we+=.24*Math.cos(2*H*ie),we+=.32*Math.cos((3*H+6)*ie),we-=.2*Math.cos((4*H-63)*ie);let tr=1+.015*pt*we,cs=30*Math.exp(-1*((H-275)/25)**2),hs=2*Math.sqrt(Vt/(Vt+mr)),us=-1*Math.sin(2*cs*ie)*hs,He=(Oe/(r*ls))**2;return He+=(Te/(n*er))**2,He+=(Qt/(s*tr))**2,He+=us*(Te/(n*er))*(Qt/(s*tr)),Math.sqrt(He)}const Xs=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],Zs=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],Gs=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],Js=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]];var pe=new p({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:P,fromBase(t){let r=w(Xs,t).map(n=>Math.cbrt(n));return w(Gs,r)},toBase(t){let r=w(Js,t).map(n=>n**3);return w(Zs,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function kt(t,e){[t,e]=g([t,e]);let[r,n,s]=pe.from(t),[a,i,l]=pe.from(e),o=r-a,h=n-i,u=s-l;return Math.sqrt(o**2+h**2+u**2)}const Fs=75e-6;function ne(t,e,{epsilon:r=Fs}={}){t=g(t),e||(e=t.space),e=p.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:r})}function fe(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function En(t,e,r="lab"){r=p.get(r);let n=r.from(t),s=r.from(e);return Math.sqrt(n.reduce((a,i,l)=>{let o=s[l];return isNaN(i)||isNaN(o)?a:a+(o-i)**2},0))}function Qs(t,e){return En(t,e,"lab")}const Vs=Math.PI,yr=Vs/180;function Ks(t,e,{l:r=2,c:n=1}={}){[t,e]=g([t,e]);let[s,a,i]=I.from(t),[,l,o]=Re.from(I,[s,a,i]),[h,u,c]=I.from(e),d=Re.from(I,[h,u,c])[1];l<0&&(l=0),d<0&&(d=0);let m=s-h,f=l-d,b=a-u,$=i-c,x=b**2+$**2-f**2,_=.511;s>=16&&(_=.040975*s/(1+.01765*s));let v=.0638*l/(1+.0131*l)+.638,L;Number.isNaN(o)&&(o=0),o>=164&&o<=345?L=.56+Math.abs(.2*Math.cos((o+168)*yr)):L=.36+Math.abs(.4*Math.cos((o+35)*yr));let Y=Math.pow(l,4),Oe=Math.sqrt(Y/(Y+1900)),Te=v*(Oe*L+1-Oe),z=(m/(r*_))**2;return z+=(f/(n*v))**2,z+=x/Te**2,Math.sqrt(z)}const $r=203;var Xt=new p({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:P,fromBase(t){return t.map(e=>Math.max(e*$r,0))},toBase(t){return t.map(e=>Math.max(e/$r,0))}});const je=1.15,Ue=.66,Mr=2610/2**14,ea=2**14/2610,wr=3424/2**12,_r=2413/2**7,vr=2392/2**7,ta=1.7*2523/2**5,Cr=2**5/(1.7*2523),Ye=-.56,gt=16295499532821565e-27,ra=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],na=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],sa=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],aa=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var Rn=new p({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:Xt,fromBase(t){let[e,r,n]=t,s=je*e-(je-1)*n,a=Ue*r-(Ue-1)*e,l=w(ra,[s,a,n]).map(function(d){let m=wr+_r*(d/1e4)**Mr,f=1+vr*(d/1e4)**Mr;return(m/f)**ta}),[o,h,u]=w(sa,l);return[(1+Ye)*o/(1+Ye*o)-gt,h,u]},toBase(t){let[e,r,n]=t,s=(e+gt)/(1+Ye-Ye*(e+gt)),i=w(aa,[s,r,n]).map(function(d){let m=wr-d**Cr,f=vr*d**Cr-_r;return 1e4*(m/f)**ea}),[l,o,h]=w(na,i),u=(l+(je-1)*h)/je,c=(o+(Ue-1)*u)/Ue;return[u,c,h]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Et=new p({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Rn,fromBase(t){let[e,r,n]=t,s;const a=2e-4;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),T(s)]},toBase(t){return[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]}});function ia(t,e){[t,e]=g([t,e]);let[r,n,s]=Et.from(t),[a,i,l]=Et.from(e),o=r-a,h=n-i;Number.isNaN(s)&&Number.isNaN(l)?(s=0,l=0):Number.isNaN(s)?s=l:Number.isNaN(l)&&(l=s);let u=s-l,c=2*Math.sqrt(n*i)*Math.sin(u/2*(Math.PI/180));return Math.sqrt(o**2+h**2+c**2)}const Ln=3424/4096,Nn=2413/128,In=2392/128,xr=2610/16384,oa=2523/32,la=16384/2610,Sr=32/2523,ca=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],ha=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],ua=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],da=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]];var Rt=new p({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:Xt,fromBase(t){let e=w(ca,t);return pa(e)},toBase(t){let e=fa(t);return w(da,e)}});function pa(t){let e=t.map(function(r){let n=Ln+Nn*(r/1e4)**xr,s=1+In*(r/1e4)**xr;return(n/s)**oa});return w(ha,e)}function fa(t){return w(ua,t).map(function(n){let s=Math.max(n**Sr-Ln,0),a=Nn-In*n**Sr;return 1e4*(s/a)**la})}function ma(t,e){[t,e]=g([t,e]);let[r,n,s]=Rt.from(t),[a,i,l]=Rt.from(e);return 720*Math.sqrt((r-a)**2+.25*(n-i)**2+(s-l)**2)}const ga=k.D65,Bn=.42,Ar=1/Bn,bt=2*Math.PI,zn=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],ba=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],ya=[[460,451,288],[460,-891,-261],[460,-220,-6300]],$a={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},te={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Ma=180/Math.PI,Pr=Math.PI/180;function On(t,e){return t.map(n=>{const s=O(e*Math.abs(n)*.01,Bn);return 400*ct(s,n)/(s+27.13)})}function wa(t,e){const r=100/e*27.13**Ar;return t.map(n=>{const s=Math.abs(n);return ct(r*O(s/(400-s),Ar),n)})}function _a(t){let e=T(t);e<=te.h[0]&&(e+=360);const r=An(te.h,e)-1,[n,s]=te.h.slice(r,r+2),[a,i]=te.e.slice(r,r+2),l=te.H[r],o=(e-n)/a;return l+100*o/(o+(s-e)/i)}function va(t){let e=(t%400+400)%400;const r=Math.floor(.01*e);e=e%100;const[n,s]=te.h.slice(r,r+2),[a,i]=te.e.slice(r,r+2);return T((e*(i*n-a*s)-100*n*i)/(e*(i-a)-100*i))}function Tn(t,e,r,n,s){const a={};a.discounting=s,a.refWhite=t,a.surround=n;const i=t.map(b=>b*100);a.la=e,a.yb=r;const l=i[1],o=w(zn,i);n=$a[a.surround];const h=n[0];a.c=n[1],a.nc=n[2];const c=(1/(5*a.la+1))**4;a.fl=c*a.la+.1*(1-c)*(1-c)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/l,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;const d=Math.max(Math.min(h*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=o.map(b=>Ee(1,l/b,d)),a.dRgbInv=a.dRgb.map(b=>1/b);const m=o.map((b,$)=>b*a.dRgb[$]),f=On(m,a.fl);return a.aW=a.nbb*(2*f[0]+f[1]+.05*f[2]),a}const kr=Tn(ga,64/Math.PI*.2,20,"average",!1);function Lt(t,e){if(!(t.J!==void 0^t.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(t.C!==void 0^t.M!==void 0^t.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(t.h!==void 0^t.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(t.J===0||t.Q===0)return[0,0,0];let r=0;t.h!==void 0?r=T(t.h)*Pr:r=va(t.H)*Pr;const n=Math.cos(r),s=Math.sin(r);let a=0;t.J!==void 0?a=O(t.J,1/2)*.1:t.Q!==void 0&&(a=.25*e.c*t.Q/((e.aW+4)*e.flRoot));let i=0;t.C!==void 0?i=t.C/a:t.M!==void 0?i=t.M/e.flRoot/a:t.s!==void 0&&(i=4e-4*t.s**2*(e.aW+4)/e.c);const l=O(i*Math.pow(1.64-Math.pow(.29,e.n),-.73),10/9),o=.25*(Math.cos(r+2)+3.8),h=e.aW*O(a,2/e.c/e.z),u=5e4/13*e.nc*e.ncb*o,c=h/e.nbb,d=23*(c+.305)*Yt(l,23*u+l*(11*n+108*s)),m=d*n,f=d*s,b=wa(w(ya,[c,m,f]).map($=>$*1/1403),e.fl);return w(ba,b.map(($,x)=>$*e.dRgbInv[x])).map($=>$/100)}function Hn(t,e){const r=t.map(v=>v*100),n=On(w(zn,r).map((v,L)=>v*e.dRgb[L]),e.fl),s=n[0]+(-12*n[1]+n[2])/11,a=(n[0]+n[1]-2*n[2])/9,i=(Math.atan2(a,s)%bt+bt)%bt,l=.25*(Math.cos(i+2)+3.8),o=5e4/13*e.nc*e.ncb*Yt(l*Math.sqrt(s**2+a**2),n[0]+n[1]+1.05*n[2]+.305),h=O(o,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),u=e.nbb*(2*n[0]+n[1]+.05*n[2]),c=O(u/e.aW,.5*e.c*e.z),d=100*O(c,2),m=4/e.c*c*(e.aW+4)*e.flRoot,f=h*c,b=f*e.flRoot,$=T(i*Ma),x=_a($),_=50*O(e.c*h/(e.aW+4),1/2);return{J:d,C:f,h:$,s:_,Q:m,M:b,H:x}}var Ca=new p({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:P,fromBase(t){const e=Hn(t,kr);return[e.J,e.M,e.h]},toBase(t){return Lt({J:t[0],M:t[1],h:t[2]},kr)}});const xa=k.D65,Sa=216/24389,Dn=24389/27;function Aa(t){return 116*(t>Sa?Math.cbrt(t):(Dn*t+16)/116)-16}function Nt(t){return t>8?Math.pow((t+16)/116,3):t/Dn}function Pa(t,e){let[r,n,s]=t,a=[],i=0;if(s===0)return[0,0,0];let l=Nt(s);s>0?i=.00379058511492914*s**2+.608983189401032*s+.9155088574762233:i=9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;const o=2e-12,h=15;let u=0,c=1/0;for(;u<=h;){a=Lt({J:i,C:n,h:r},e);const d=Math.abs(a[1]-l);if(d<c){if(d<=o)return a;c=d}i=i-(a[1]-l)*i/(2*a[1]),u+=1}return Lt({J:i,C:n,h:r},e)}function ka(t,e){const r=Aa(t[1]);if(r===0)return[0,0,0];const n=Hn(t,Zt);return[T(n.h),n.C,r]}const Zt=Tn(xa,200/Math.PI*Nt(50),Nt(50)*100,"average",!1);var Le=new p({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:P,fromBase(t){return ka(t)},toBase(t){return Pa(t,Zt)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const Ea=Math.PI/180,Er=[1,.007,.0228];function Rr(t){t[1]<0&&(t=Le.fromBase(Le.toBase(t)));const e=Math.log(Math.max(1+Er[2]*t[1]*Zt.flRoot,1))/Er[2],r=t[0]*Ea,n=e*Math.cos(r),s=e*Math.sin(r);return[t[2],n,s]}function Ra(t,e){[t,e]=g([t,e]);let[r,n,s]=Rr(Le.from(t)),[a,i,l]=Rr(Le.from(e));return Math.sqrt((r-a)**2+(n-i)**2+(s-l)**2)}var me={deltaE76:Qs,deltaECMC:Ks,deltaE2000:kn,deltaEJz:ia,deltaEITP:ma,deltaEOK:kt,deltaEHCT:Ra};function La(t){const e=t?Math.floor(Math.log10(Math.abs(t))):0;return Math.max(parseFloat(`1e${e-2}`),1e-6)}const Lr={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function J(t,{method:e=B.gamut_mapping,space:r=void 0,deltaEMethod:n="",jnd:s=2,blackWhiteClamp:a={}}={}){if(t=g(t),Ie(arguments[1])?r=arguments[1]:r||(r=t.space),r=p.get(r),ne(t,r,{epsilon:0}))return t;let i;if(e==="css")i=Na(t,{space:r});else{if(e!=="clip"&&!ne(t,r)){Object.prototype.hasOwnProperty.call(Lr,e)&&({method:e,jnd:s,deltaEMethod:n,blackWhiteClamp:a}=Lr[e]);let l=kn;if(n!==""){for(let h in me)if("deltae"+n.toLowerCase()===h.toLowerCase()){l=me[h];break}}let o=J(M(t,r),{method:"clip",space:r});if(l(t,o)>s){if(Object.keys(a).length===3){let _=p.resolveCoord(a.channel),v=N(M(t,_.space),_.id);if(Z(v)&&(v=0),v>=a.max)return M({space:"xyz-d65",coords:k.D65},t.space);if(v<=a.min)return M({space:"xyz-d65",coords:[0,0,0]},t.space)}let h=p.resolveCoord(e),u=h.space,c=h.id,d=M(t,u);d.coords.forEach((_,v)=>{Z(_)&&(d.coords[v]=0)});let f=(h.range||h.refRange)[0],b=La(s),$=f,x=N(d,c);for(;x-$>b;){let _=fe(d);_=J(_,{space:r,method:"clip"}),l(d,_)-s<b?$=N(d,c):x=N(d,c),D(d,c,($+x)/2)}i=M(d,r)}else i=o}else i=M(t,r);if(e==="clip"||!ne(i,r,{epsilon:0})){let l=Object.values(r.coords).map(o=>o.range||[]);i.coords=i.coords.map((o,h)=>{let[u,c]=l[h];return u!==void 0&&(o=Math.max(u,o)),c!==void 0&&(o=Math.min(o,c)),o})}}return r!==t.space&&(i=M(i,t.space)),t.coords=i.coords,t}J.returns="color";const Nr={WHITE:{space:pe,coords:[1,0,0]},BLACK:{space:pe,coords:[0,0,0]}};function Na(t,{space:e}={}){t=g(t),e||(e=t.space),e=p.get(e);const s=p.get("oklch");if(e.isUnbounded)return M(t,e);const a=M(t,s);let i=a.coords[0];if(i>=1){const f=M(Nr.WHITE,e);return f.alpha=t.alpha,M(f,e)}if(i<=0){const f=M(Nr.BLACK,e);return f.alpha=t.alpha,M(f,e)}if(ne(a,e,{epsilon:0}))return M(a,e);function l(f){const b=M(f,e),$=Object.values(e.coords);return b.coords=b.coords.map((x,_)=>{if("range"in $[_]){const[v,L]=$[_].range;return Sn(v,x,L)}return x}),b}let o=0,h=a.coords[1],u=!0,c=fe(a),d=l(c),m=kt(d,c);if(m<.02)return d;for(;h-o>1e-4;){const f=(o+h)/2;if(c.coords[1]=f,u&&ne(c,e,{epsilon:0}))o=f;else if(d=l(c),m=kt(d,c),m<.02){if(.02-m<1e-4)break;u=!1,o=f}else h=f}return d}function M(t,e,{inGamut:r}={}){t=g(t),e=p.get(e);let n=e.from(t),s={space:e,coords:n,alpha:t.alpha};return r&&(s=J(s,r===!0?void 0:r)),s}M.returns="color";function xe(t,{precision:e=B.precision,format:r="default",inGamut:n=!0,...s}={}){let a;t=g(t);let i=r;r=t.space.getFormat(r)??t.space.getFormat("default")??p.DEFAULT_FORMAT;let l=t.coords.slice();if(n||=r.toGamut,n&&!ne(t)&&(l=J(fe(t),n===!0?void 0:n).coords),r.type==="custom")if(s.precision=e,r.serialize)a=r.serialize(l,t.alpha,s);else throw new TypeError(`format ${i} can only be used to parse colors, not for serialization`);else{let o=r.name||"color";r.serializeCoords?l=r.serializeCoords(l,e):e!==null&&(l=l.map(d=>et(d,{precision:e})));let h=[...l];if(o==="color"){let d=r.id||r.ids?.[0]||t.space.id;h.unshift(d)}let u=t.alpha;e!==null&&(u=et(u,{precision:e}));let c=t.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${u}`;a=`${o}(${h.join(r.commas?", ":" ")}${c})`}return a}const Ia=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],Ba=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var ht=new R({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:Ia,fromXYZ_M:Ba});const qe=1.09929682680944,Ir=.018053968510807;var jn=new R({id:"rec2020",name:"REC.2020",base:ht,toBase(t){return t.map(function(e){return e<Ir*4.5?e/4.5:Math.pow((e+qe-1)/qe,1/.45)})},fromBase(t){return t.map(function(e){return e>=Ir?qe*Math.pow(e,.45)-(qe-1):4.5*e})}});const za=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Oa=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var Un=new R({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:za,fromXYZ_M:Oa});const Ta=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],S=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var Yn=new R({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:Ta,fromXYZ_M:S}),Br={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let zr=Array(3).fill("<percentage> | <number>[0, 255]"),Or=Array(3).fill("<number>[0, 255]");var ge=new R({id:"srgb",name:"sRGB",base:Yn,fromBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*e}),toBase:t=>t.map(e=>{let r=e<0?-1:1,n=e*r;return n<=.04045?e/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:zr},rgb_number:{name:"rgb",commas:!0,coords:Or,noAlpha:!0},color:{},rgba:{coords:zr,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Or},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,r=>{e.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(a=>Math.round(a*255));let n=r&&t.every(a=>a%17===0);return"#"+t.map(a=>n?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){t=t.toLowerCase();let e={spaceId:"srgb",coords:null,alpha:1};if(t==="transparent"?(e.coords=Br.black,e.alpha=0):e.coords=Br[t],e.coords)return e}}}}),qn=new R({id:"p3",cssId:"display-p3",name:"P3",base:Un,fromBase:ge.fromBase,toBase:ge.toBase});B.display_space=ge;let Ha;if(typeof CSS<"u"&&CSS.supports)for(let t of[I,jn,qn]){let e=t.getMinCoords(),n=xe({space:t,coords:e,alpha:1});if(CSS.supports("color",n)){B.display_space=t;break}}function Da(t,{space:e=B.display_space,...r}={}){let n=xe(t,r);if(typeof CSS>"u"||CSS.supports("color",n)||!B.display_space)n=new String(n),n.color=t;else{let s=t;if((t.coords.some(Z)||Z(t.alpha))&&!(Ha??=CSS.supports("color","hsl(none 50% 50%)"))&&(s=fe(t),s.coords=s.coords.map(C),s.alpha=C(s.alpha),n=xe(s,r),CSS.supports("color",n)))return n=new String(n),n.color=s,n;s=M(s,e),n=new String(xe(s,r)),n.color=s}return n}function ja(t,e){return t=g(t),e=g(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((r,n)=>r===e.coords[n])}function F(t){return N(t,[P,"y"])}function Wn(t,e){D(t,[P,"y"],e)}function Ua(t){Object.defineProperty(t.prototype,"luminance",{get(){return F(this)},set(e){Wn(this,e)}})}var Ya=Object.freeze({__proto__:null,getLuminance:F,register:Ua,setLuminance:Wn});function qa(t,e){t=g(t),e=g(e);let r=Math.max(F(t),0),n=Math.max(F(e),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)}const Wa=.56,Xa=.57,Za=.62,Ga=.65,Tr=.022,Ja=1.414,Fa=.1,Qa=5e-4,Va=1.14,Hr=.027,Ka=1.14;function Dr(t){return t>=Tr?t:t+(Tr-t)**Ja}function oe(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}function e0(t,e){e=g(e),t=g(t);let r,n,s,a,i,l;e=M(e,"srgb"),[a,i,l]=e.coords;let o=oe(a)*.2126729+oe(i)*.7151522+oe(l)*.072175;t=M(t,"srgb"),[a,i,l]=t.coords;let h=oe(a)*.2126729+oe(i)*.7151522+oe(l)*.072175,u=Dr(o),c=Dr(h),d=c>u;return Math.abs(c-u)<Qa?n=0:d?(r=c**Wa-u**Xa,n=r*Va):(r=c**Ga-u**Za,n=r*Ka),Math.abs(n)<Fa?s=0:n>0?s=n-Hr:s=n+Hr,s*100}function t0(t,e){t=g(t),e=g(e);let r=Math.max(F(t),0),n=Math.max(F(e),0);n>r&&([r,n]=[n,r]);let s=r+n;return s===0?0:(r-n)/s}const r0=5e4;function n0(t,e){t=g(t),e=g(e);let r=Math.max(F(t),0),n=Math.max(F(e),0);return n>r&&([r,n]=[n,r]),n===0?r0:(r-n)/n}function s0(t,e){t=g(t),e=g(e);let r=N(t,[I,"l"]),n=N(e,[I,"l"]);return Math.abs(r-n)}const a0=216/24389,jr=24/116,We=24389/27;let yt=k.D65;var It=new p({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:yt,base:P,fromBase(t){let r=t.map((n,s)=>n/yt[s]).map(n=>n>a0?Math.cbrt(n):(We*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>jr?Math.pow(e[0],3):(116*e[0]-16)/We,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/We,e[2]>jr?Math.pow(e[2],3):(116*e[2]-16)/We].map((n,s)=>n*yt[s])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const $t=Math.pow(5,.5)*.5+.5;function i0(t,e){t=g(t),e=g(e);let r=N(t,[It,"l"]),n=N(e,[It,"l"]),s=Math.abs(Math.pow(r,$t)-Math.pow(n,$t)),a=Math.pow(s,1/$t)*Math.SQRT2-40;return a<7.5?0:a}var Qe=Object.freeze({__proto__:null,contrastAPCA:e0,contrastDeltaPhi:i0,contrastLstar:s0,contrastMichelson:t0,contrastWCAG21:qa,contrastWeber:n0});function o0(t,e,r={}){Ie(r)&&(r={algorithm:r});let{algorithm:n,...s}=r;if(!n){let a=Object.keys(Qe).map(i=>i.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${a}`)}t=g(t),e=g(e);for(let a in Qe)if("contrast"+n.toLowerCase()===a.toLowerCase())return Qe[a](t,e,s);throw new TypeError(`Unknown contrast algorithm: ${n}`)}function ut(t){let[e,r,n]=Be(t,P),s=e+15*r+3*n;return[4*e/s,9*r/s]}function Xn(t){let[e,r,n]=Be(t,P),s=e+r+n;return[e/s,r/s]}function l0(t){Object.defineProperty(t.prototype,"uv",{get(){return ut(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return Xn(this)}})}var c0=Object.freeze({__proto__:null,register:l0,uv:ut,xy:Xn});function ve(t,e,r={}){Ie(r)&&(r={method:r});let{method:n=B.deltaE,...s}=r;for(let a in me)if("deltae"+n.toLowerCase()===a.toLowerCase())return me[a](t,e,s);throw new TypeError(`Unknown deltaE method: ${n}`)}function h0(t,e=.25){let n=[p.get("oklch","lch"),"l"];return D(t,n,s=>s*(1+e))}function u0(t,e=.25){let n=[p.get("oklch","lch"),"l"];return D(t,n,s=>s*(1-e))}var d0=Object.freeze({__proto__:null,darken:u0,lighten:h0});function Zn(t,e,r=.5,n={}){return[t,e]=[g(t),g(e)],X(r)==="object"&&([r,n]=[.5,r]),ze(t,e,n)(r)}function Gn(t,e,r={}){let n;Gt(t)&&([n,r]=[t,e],[t,e]=n.rangeArgs.colors);let{maxDeltaE:s,deltaEMethod:a,steps:i=2,maxSteps:l=1e3,...o}=r;n||([t,e]=[g(t),g(e)],n=ze(t,e,o));let h=ve(t,e),u=s>0?Math.max(i,Math.ceil(h/s)+1):i,c=[];if(l!==void 0&&(u=Math.min(u,l)),u===1)c=[{p:.5,color:n(.5)}];else{let d=1/(u-1);c=Array.from({length:u},(m,f)=>{let b=f*d;return{p:b,color:n(b)}})}if(s>0){let d=c.reduce((m,f,b)=>{if(b===0)return 0;let $=ve(f.color,c[b-1].color,a);return Math.max(m,$)},0);for(;d>s;){d=0;for(let m=1;m<c.length&&c.length<l;m++){let f=c[m-1],b=c[m],$=(b.p+f.p)/2,x=n($);d=Math.max(d,ve(x,f.color),ve(x,b.color)),c.splice(m,0,{p:$,color:n($)}),m++}}}return c=c.map(d=>d.color),c}function ze(t,e,r={}){if(Gt(t)){let[o,h]=[t,e];return ze(...o.rangeArgs.colors,{...o.rangeArgs.options,...h})}let{space:n,outputSpace:s,progression:a,premultiplied:i}=r;t=g(t),e=g(e),t=fe(t),e=fe(e);let l={colors:[t,e],options:r};if(n?n=p.get(n):n=p.registry[B.interpolationSpace]||t.space,s=s?p.get(s):n,t=M(t,n),e=M(e,n),t=J(t),e=J(e),n.coords.h&&n.coords.h.type==="angle"){let o=r.hue=r.hue||"shorter",h=[n,"h"],[u,c]=[N(t,h),N(e,h)];isNaN(u)&&!isNaN(c)?u=c:isNaN(c)&&!isNaN(u)&&(c=u),[u,c]=Ws(o,[u,c]),D(t,h,u),D(e,h,c)}return i&&(t.coords=t.coords.map(o=>o*t.alpha),e.coords=e.coords.map(o=>o*e.alpha)),Object.assign(o=>{o=a?a(o):o;let h=t.coords.map((d,m)=>{let f=e.coords[m];return Ee(d,f,o)}),u=Ee(t.alpha,e.alpha,o),c={space:n,coords:h,alpha:u};return i&&(c.coords=c.coords.map(d=>d/u)),s!==n&&(c=M(c,s)),c},{rangeArgs:l})}function Gt(t){return X(t)==="function"&&!!t.rangeArgs}B.interpolationSpace="lab";function p0(t){t.defineFunction("mix",Zn,{returns:"color"}),t.defineFunction("range",ze,{returns:"function<color>"}),t.defineFunction("steps",Gn,{returns:"array<color>"})}var f0=Object.freeze({__proto__:null,isRange:Gt,mix:Zn,range:ze,register:p0,steps:Gn}),Jn=new p({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ge,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[n,s,a]=t,[i,l,o]=[NaN,0,(r+e)/2],h=e-r;if(h!==0){switch(l=o===0||o===1?0:(e-o)/Math.min(o,1-o),e){case n:i=(s-a)/h+(s<a?6:0);break;case s:i=(a-n)/h+2;break;case a:i=(n-s)/h+4}i=i*60}return l<0&&(i+=180,l=Math.abs(l)),i>=360&&(i-=360),[i,l*100,o*100]},toBase:t=>{let[e,r,n]=t;e=e%360,e<0&&(e+=360),r/=100,n/=100;function s(a){let i=(a+e/30)%12,l=r*Math.min(n,1-n);return n-l*Math.max(-1,Math.min(i-3,9-i,1))}return[s(0),s(8),s(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Fn=new p({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Jn,fromBase(t){let[e,r,n]=t;r/=100,n/=100;let s=n+r*Math.min(n,1-n);return[e,s===0?0:200*(1-n/s),100*s]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let s=n*(1-r/2);return[e,s===0||s===1?0:(n-s)/Math.min(s,1-s)*100,s*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),m0=new p({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Fn,fromBase(t){let[e,r,n]=t;return[e,n*(100-r)/100,100-n]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let s=r+n;if(s>=1){let l=r/s;return[e,0,l*100]}let a=1-n,i=a===0?0:1-r/a;return[e,i*100,a*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const g0=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],b0=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var Qn=new R({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:g0,fromXYZ_M:b0}),y0=new R({id:"a98rgb",cssId:"a98-rgb",name:"Adobe 98 RGB compatible",base:Qn,toBase:t=>t.map(e=>Math.pow(Math.abs(e),563/256)*Math.sign(e)),fromBase:t=>t.map(e=>Math.pow(Math.abs(e),256/563)*Math.sign(e))});const $0=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],M0=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]];var Vn=new R({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:Wt,toXYZ_M:$0,fromXYZ_M:M0});const w0=1/512,_0=16/512;var v0=new R({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:Vn,toBase(t){return t.map(e=>e<_0?e/16:e**1.8)},fromBase(t){return t.map(e=>e>=w0?e**(1/1.8):16*e)}}),C0=new p({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:pe,fromBase(t){let[e,r,n]=t,s;const a=2e-4;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),T(s)]},toBase(t){let[e,r,n]=t,s,a;return isNaN(n)?(s=0,a=0):(s=r*Math.cos(n*Math.PI/180),a=r*Math.sin(n*Math.PI/180)),[e,s,a]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});let Kn=k.D65;const x0=216/24389,Ur=24389/27,[Yr,qr]=ut({space:P,coords:Kn});var es=new p({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:Kn,base:P,fromBase(t){let e=[C(t[0]),C(t[1]),C(t[2])],r=e[1],[n,s]=ut({space:P,coords:e});if(!Number.isFinite(n)||!Number.isFinite(s))return[0,0,0];let a=r<=x0?Ur*r:116*Math.cbrt(r)-16;return[a,13*a*(n-Yr),13*a*(s-qr)]},toBase(t){let[e,r,n]=t;if(e===0||Z(e))return[0,0,0];r=C(r),n=C(n);let s=r/(13*e)+Yr,a=n/(13*e)+qr,i=e<=8?e/Ur:Math.pow((e+16)/116,3);return[i*(9*s/(4*a)),i,i*((12-3*s-20*a)/(4*a))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Jt=new p({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:es,fromBase(t){let[e,r,n]=t,s;const a=.02;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[e,Math.sqrt(r**2+n**2),T(s)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const S0=216/24389,A0=24389/27,Wr=S[0][0],Xr=S[0][1],Mt=S[0][2],Zr=S[1][0],Gr=S[1][1],wt=S[1][2],Jr=S[2][0],Fr=S[2][1],_t=S[2][2];function le(t,e,r){const n=e/(Math.sin(r)-t*Math.cos(r));return n<0?1/0:n}function nt(t){const e=Math.pow(t+16,3)/1560896,r=e>S0?e:t/A0,n=r*(284517*Wr-94839*Mt),s=r*(838422*Mt+769860*Xr+731718*Wr),a=r*(632260*Mt-126452*Xr),i=r*(284517*Zr-94839*wt),l=r*(838422*wt+769860*Gr+731718*Zr),o=r*(632260*wt-126452*Gr),h=r*(284517*Jr-94839*_t),u=r*(838422*_t+769860*Fr+731718*Jr),c=r*(632260*_t-126452*Fr);return{r0s:n/a,r0i:s*t/a,r1s:n/(a+126452),r1i:(s-769860)*t/(a+126452),g0s:i/o,g0i:l*t/o,g1s:i/(o+126452),g1i:(l-769860)*t/(o+126452),b0s:h/c,b0i:u*t/c,b1s:h/(c+126452),b1i:(u-769860)*t/(c+126452)}}function Qr(t,e){const r=e/360*Math.PI*2,n=le(t.r0s,t.r0i,r),s=le(t.r1s,t.r1i,r),a=le(t.g0s,t.g0i,r),i=le(t.g1s,t.g1i,r),l=le(t.b0s,t.b0i,r),o=le(t.b1s,t.b1i,r);return Math.min(n,s,a,i,l,o)}var P0=new p({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Jt,gamutSpace:ge,fromBase(t){let[e,r,n]=[C(t[0]),C(t[1]),C(t[2])],s;if(e>99.9999999)s=0,e=100;else if(e<1e-8)s=0,e=0;else{let a=nt(e),i=Qr(a,n);s=r/i*100}return[n,s,e]},toBase(t){let[e,r,n]=[C(t[0]),C(t[1]),C(t[2])],s;if(n>99.9999999)n=100,s=0;else if(n<1e-8)n=0,s=0;else{let a=nt(n);s=Qr(a,e)/100*r}return[n,s,e]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});S[0][0];S[0][1];S[0][2];S[1][0];S[1][1];S[1][2];S[2][0];S[2][1];S[2][2];function ce(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}function Vr(t){let e=ce(t.r0s,t.r0i),r=ce(t.r1s,t.r1i),n=ce(t.g0s,t.g0i),s=ce(t.g1s,t.g1i),a=ce(t.b0s,t.b0i),i=ce(t.b1s,t.b1i);return Math.min(e,r,n,s,a,i)}var k0=new p({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:Jt,gamutSpace:"self",fromBase(t){let[e,r,n]=[C(t[0]),C(t[1]),C(t[2])],s;if(e>99.9999999)s=0,e=100;else if(e<1e-8)s=0,e=0;else{let a=nt(e),i=Vr(a);s=r/i*100}return[n,s,e]},toBase(t){let[e,r,n]=[C(t[0]),C(t[1]),C(t[2])],s;if(n>99.9999999)n=100,s=0;else if(n<1e-8)n=0,s=0;else{let a=nt(n);s=Vr(a)/100*r}return[n,s,e]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const Kr=203,en=2610/2**14,E0=2**14/2610,R0=2523/2**5,tn=2**5/2523,rn=3424/2**12,nn=2413/2**7,sn=2392/2**7;var L0=new R({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:ht,toBase(t){return t.map(function(e){return(Math.max(e**tn-rn,0)/(nn-sn*e**tn))**E0*1e4/Kr})},fromBase(t){return t.map(function(e){let r=Math.max(e*Kr/1e4,0),n=rn+nn*r**en,s=1+sn*r**en;return(n/s)**R0})}});const an=.17883277,on=.28466892,ln=.55991073,vt=3.7743;var N0=new R({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:ht,toBase(t){return t.map(function(e){return e<=.5?e**2/3*vt:(Math.exp((e-ln)/an)+on)/12*vt})},fromBase(t){return t.map(function(e){return e/=vt,e<=1/12?Math.sqrt(3*e):an*Math.log(12*e-on)+ln})}});const ts={};G.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=rs(t.W1,t.W2,t.options.method))});G.add("chromatic-adaptation-end",t=>{t.M||(t.M=rs(t.W1,t.W2,t.options.method))});function dt({id:t,toCone_M:e,fromCone_M:r}){ts[t]=arguments[0]}function rs(t,e,r="Bradford"){let n=ts[r],[s,a,i]=w(n.toCone_M,t),[l,o,h]=w(n.toCone_M,e),u=[[l/s,0,0],[0,o/a,0],[0,0,h/i]],c=w(u,n.toCone_M);return w(n.fromCone_M,c)}dt({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]});dt({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]});dt({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]});dt({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]});Object.assign(k,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]});k.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const I0=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],B0=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var ns=new R({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:k.ACES,toXYZ_M:I0,fromXYZ_M:B0});const Xe=2**-16,Ct=-.35828683,Ze=(Math.log2(65504)+9.72)/17.52;var z0=new R({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[Ct,Ze],name:"Red"},g:{range:[Ct,Ze],name:"Green"},b:{range:[Ct,Ze],name:"Blue"}},referred:"scene",base:ns,toBase(t){const e=-.3013698630136986;return t.map(function(r){return r<=e?(2**(r*17.52-9.72)-Xe)*2:r<Ze?2**(r*17.52-9.72):65504})},fromBase(t){return t.map(function(e){return e<=0?(Math.log2(Xe)+9.72)/17.52:e<Xe?(Math.log2(Xe+e*.5)+9.72)/17.52:(Math.log2(e)+9.72)/17.52})}}),cn=Object.freeze({__proto__:null,A98RGB:y0,A98RGB_Linear:Qn,ACEScc:z0,ACEScg:ns,CAM16_JMh:Ca,HCT:Le,HPLuv:k0,HSL:Jn,HSLuv:P0,HSV:Fn,HWB:m0,ICTCP:Rt,JzCzHz:Et,Jzazbz:Rn,LCH:Re,LCHuv:Jt,Lab:I,Lab_D65:It,Luv:es,OKLCH:C0,OKLab:pe,P3:qn,P3_Linear:Un,ProPhoto:v0,ProPhoto_Linear:Vn,REC_2020:jn,REC_2020_Linear:ht,REC_2100_HLG:N0,REC_2100_PQ:L0,XYZ_ABS_D65:Xt,XYZ_D50:Wt,XYZ_D65:P,sRGB:ge,sRGB_Linear:Yn});class y{constructor(...e){let r;e.length===1&&(r=g(e[0]));let n,s,a;r?(n=r.space||r.spaceId,s=r.coords,a=r.alpha):[n,s,a]=e,Object.defineProperty(this,"space",{value:p.get(n),writable:!1,enumerable:!0,configurable:!0}),this.coords=s?s.slice():[0,0,0],this.alpha=a>1||a===void 0?1:a<0?0:a;for(let i=0;i<this.coords.length;i++)this.coords[i]==="NaN"&&(this.coords[i]=NaN);for(let i in this.space.coords)Object.defineProperty(this,i,{get:()=>this.get(i),set:l=>this.set(i,l)})}get spaceId(){return this.space.id}clone(){return new y(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...e){let r=Da(this,...e);return r.color=new y(r.color),r}static get(e,...r){return e instanceof y?e:new y(e,...r)}static defineFunction(e,r,n=r){let{instance:s=!0,returns:a}=n,i=function(...l){let o=r(...l);if(a==="color")o=y.get(o);else if(a==="function<color>"){let h=o;o=function(...u){let c=h(...u);return y.get(c)},Object.assign(o,h)}else a==="array<color>"&&(o=o.map(h=>y.get(h)));return o};e in y||(y[e]=i),s&&(y.prototype[e]=function(...l){return i(this,...l)})}static defineFunctions(e){for(let r in e)y.defineFunction(r,e[r],e[r])}static extend(e){if(e.register)e.register(y);else for(let r in e)y.defineFunction(r,e[r])}}y.defineFunctions({get:N,getAll:Be,set:D,setAll:qt,to:M,equals:ja,inGamut:ne,toGamut:J,distance:En,toString:xe});Object.assign(y,{util:Hs,hooks:G,WHITES:k,Space:p,spaces:p.registry,parse:Pn,defaults:B});for(let t of Object.keys(cn))p.register(cn[t]);for(let t in p.registry)Bt(t,p.registry[t]);G.add("colorspace-init-end",t=>{Bt(t.id,t),t.aliases?.forEach(e=>{Bt(e,t)})});function Bt(t,e){let r=t.replace(/-/g,"_");Object.defineProperty(y.prototype,r,{get(){let n=this.getAll(t);return typeof Proxy>"u"?n:new Proxy(n,{has:(s,a)=>{try{return p.resolveCoord([e,a]),!0}catch{}return Reflect.has(s,a)},get:(s,a,i)=>{if(a&&typeof a!="symbol"&&!(a in s)){let{index:l}=p.resolveCoord([e,a]);if(l>=0)return s[l]}return Reflect.get(s,a,i)},set:(s,a,i,l)=>{if(a&&typeof a!="symbol"&&!(a in s)||a>=0){let{index:o}=p.resolveCoord([e,a]);if(o>=0)return s[o]=i,this.setAll(t,s),!0}return Reflect.set(s,a,i,l)}})},set(n){this.setAll(t,n)},configurable:!0,enumerable:!0})}y.extend(me);y.extend({deltaE:ve});Object.assign(y,{deltaEMethods:me});y.extend(d0);y.extend({contrast:o0});y.extend(c0);y.extend(Ya);y.extend(f0);y.extend(Qe);const O0=new y("srgb",[.2,.45,.98]),T0=(t,e)=>{const r=new y(e).to(t.type);return r[t.kind]=t.value,r},E=Os([],(t,e=O0)=>{let r=e;for(const n of t)r=T0(n,r);return r});function H0(t){return new Worker("/_astro/generate-lch-colors.worker-BejGezxy.js",{name:t?.name})}let Ge=null;const xt=new WeakMap,D0=new ImageData(1,1).colorSpace!==void 0,j0=()=>(t,e,r)=>{Ge&&xt.get(Ge)&&Ge.terminate();const n=new H0;return Ge=n,new Promise(s=>{n.onmessage=a=>{xt.set(n,!1),s(a.data.slice())},xt.set(n,!0),n.postMessage([t,e,r,D0?"display-p3":"srgb"])})};var U0=Object.defineProperty,Y0=Object.getOwnPropertyDescriptor,be=(t,e,r,n)=>{for(var s=n>1?void 0:n?Y0(e,r):e,a=t.length-1,i;a>=0;a--)(i=t[a])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&U0(e,r,s),s};const hn=(t,e,r)=>Math.min(Math.max(e,t),r);let Q=class extends W{constructor(){super(),this.width=300,this.height=200,this.isPressed=!1,this.generateColors=j0(),this.updateMarkerPosition=()=>{const t=this.marker,e=this.canvas;if(!t||!e)return;const r=e.getBoundingClientRect(),n=E().to("lch"),s=Math.floor(hn(0,n.c,150)/150*r.width),a=Math.floor((1-hn(0,n.l,100)/100)*r.height);t.style.cssText=`transform: translate(calc(${s}px - 50%), calc(${a}px - 50%))`},this.updateCanvasColors=()=>{const t=this.canvas;if(!t)return;const e=t.getContext("2d",{colorSpace:"display-p3"});if(!e)return;const r=E().to("lch");this.generateColors(r.h,this.width,this.height).then(n=>{const s=new ImageData(n,this.width,this.height,{colorSpace:"display-p3"});e.putImageData(s,0,0)})},E.on(()=>{this.updateCanvasColors(),this.updateMarkerPosition()})}onPositionChange(t){const e=this.canvas;if(!e||!this.isPressed)return;const r=e.getBoundingClientRect(),n=Math.min(Math.max(t.clientX-r.x,0),r.width),s=Math.min(Math.max(t.clientY-r.y,0),r.height),a=Math.floor((1-s/r.height)*100),i=Math.floor(n/r.width*150);E([{type:"lch",kind:"l",value:a},{type:"lch",kind:"c",value:i}])}firstUpdated(){this.updateMarkerPosition()}updated(t){(t.has("width")||t.has("height"))&&this.updateCanvasColors()}render(){return Pe`
      <div class="wrapper">
        <canvas
          @pointerdown=${t=>{t.currentTarget.setPointerCapture(t.pointerId),this.isPressed=!0,this.onPositionChange(t)}}
          @pointermove=${this.onPositionChange}
          @pointerup=${t=>{t.currentTarget.releasePointerCapture(t.pointerId),this.isPressed=!1}}
          width="${this.width}px"
          height="${this.height}px"
        ></canvas>
        <div class="marker"></div>
      </div>
    `}};Q.styles=K`
    :host canvas {
      border-radius: 5px;
      border: 1px solid grey;
      width: 100%;
      /* Avoid making the page scroll on mobile when we are pressing on it */
      touch-action: none;
    }

    :host .wrapper {
      position: relative;
    }

    :host .marker {
      position: absolute;
      top: 0px;
      left: 0px;
      pointer-events: none;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      box-shadow: 0px 0px 0px 0.5px var(--black),
        inset 0px 0px 0px 0.5px var(--white);
      z-index: 1;
    }
  `;be([U({type:Number})],Q.prototype,"width",2);be([U({type:Number})],Q.prototype,"height",2);be([lt("canvas")],Q.prototype,"canvas",2);be([lt(".marker")],Q.prototype,"marker",2);be([Mn({passive:!0})],Q.prototype,"onPositionChange",1);Q=be([ot("lch-paint")],Q);function q0(t){return new Worker("/_astro/generate-oklch-colors.worker-DuQr1gTd.js",{name:t?.name})}let Je=null;const St=new WeakMap,W0=new ImageData(1,1).colorSpace!==void 0,X0=()=>(t,e,r)=>{Je&&St.get(Je)&&Je.terminate();const n=new q0;return Je=n,new Promise(s=>{n.onmessage=a=>{St.set(n,!1),s(a.data.slice())},St.set(n,!0),n.postMessage([t,e,r,W0?"display-p3":"srgb"])})};var Z0=Object.defineProperty,G0=Object.getOwnPropertyDescriptor,ye=(t,e,r,n)=>{for(var s=n>1?void 0:n?G0(e,r):e,a=t.length-1,i;a>=0;a--)(i=t[a])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&Z0(e,r,s),s};const un=(t,e,r)=>Math.min(Math.max(e,t),r);let V=class extends W{constructor(){super(),this.width=300,this.height=200,this.isPressed=!1,this.generateColors=X0(),this.updateMarkerPosition=()=>{const t=this.marker,e=this.canvas;if(!t||!e)return;const r=e.getBoundingClientRect(),n=E().to("oklch"),s=Math.floor(un(0,n.c,.4)/.4*r.width),a=Math.floor((1-un(0,n.l,1))*r.height);t.style.cssText=`transform: translate(calc(${s}px - 50%), calc(${a}px - 50%))`},this.updateCanvasColors=()=>{const t=this.canvas;if(!t)return;const e=t.getContext("2d",{colorSpace:"display-p3"});if(!e)return;const r=E().to("oklch");this.generateColors(r.h,this.width,this.height).then(n=>{const s=new ImageData(n,this.width,this.height,{colorSpace:"display-p3"});e.putImageData(s,0,0)})},E.on(()=>{this.updateCanvasColors(),this.updateMarkerPosition()})}onPositionChange(t){const e=this.canvas;if(!e||!this.isPressed)return;const r=e.getBoundingClientRect(),n=Math.min(Math.max(t.clientX-r.x,0),r.width),a=1-Math.min(Math.max(t.clientY-r.y,0),r.height)/r.height,i=n/r.width*.4;E([{type:"oklch",kind:"l",value:a},{type:"oklch",kind:"c",value:i}])}firstUpdated(){this.updateMarkerPosition()}updated(t){(t.has("width")||t.has("height"))&&this.updateCanvasColors()}render(){return Pe`
      <div class="wrapper">
        <canvas
          @pointerdown=${t=>{t.currentTarget.setPointerCapture(t.pointerId),this.isPressed=!0,this.onPositionChange(t)}}
          @pointermove=${this.onPositionChange}
          @pointerup=${t=>{t.currentTarget.releasePointerCapture(t.pointerId),this.isPressed=!1}}
          width="${this.width}px"
          height="${this.height}px"
        ></canvas>
        <div class="marker"></div>
      </div>
    `}};V.styles=K`
    :host canvas {
      border-radius: 5px;
      border: 1px solid grey;
      width: 100%;
      /* Avoid making the page scroll on mobile when we are pressing on it */
      touch-action: none;
    }

    :host .wrapper {
      position: relative;
    }

    :host .marker {
      position: absolute;
      top: 0px;
      left: 0px;
      pointer-events: none;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      box-shadow: 0px 0px 0px 0.5px var(--black),
        inset 0px 0px 0px 0.5px var(--white);
      z-index: 1;
    }
  `;ye([U({type:Number})],V.prototype,"width",2);ye([U({type:Number})],V.prototype,"height",2);ye([lt("canvas")],V.prototype,"canvas",2);ye([lt(".marker")],V.prototype,"marker",2);ye([Mn({passive:!0})],V.prototype,"onPositionChange",1);V=ye([ot("oklch-paint")],V);var J0=Object.defineProperty,F0=Object.getOwnPropertyDescriptor,ae=(t,e,r,n)=>{for(var s=n>1?void 0:n?F0(e,r):e,a=t.length-1,i;a>=0;a--)(i=t[a])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&J0(e,r,s),s};const ss=20,as=1,zt=1,Q0=K`var(--contrast)`,V0=14,dn=K`
  width: ${V0}px;
  height: ${ss+as*2}px;
  background: #00000000;
  box-shadow: 0 0 0 ${zt}px var(--black),
    inset 0 0 0 ${zt}px var(--white);
  border-radius: 3px;
  cursor: pointer;
`,K0=K`var(--track-background, #9e9e9e)`,pn=K`
  background: ${K0};
  background-size: 100% 100%;
  background-repeat: no-repeat;
  box-shadow: 0 0 0 ${zt}px ${Q0};
  border-radius: 3px;
  width: 100%;
  height: ${ss}px;
  cursor: pointer;
`;let j=class extends W{constructor(){super(...arguments),this.min=0,this.max=100,this.step=1,this.referenceColor=new y("srgb",[0,0,0]),this.valueToModify="h",this.getBackgroundRange=()=>{const t=this.referenceColor.space.coords[this.valueToModify];if(!t)return this.prevBackgroundRange;const e=t.refRange||t.range;if(!e)return this.prevBackgroundRange;const r=new y(this.referenceColor);r[this.valueToModify]=e[0];const n=new y(this.referenceColor);n[this.valueToModify]=e[1];const s=y.steps(r.range(n,{space:this.referenceColor.space.id,hue:"raw"}),{steps:50});return this.prevBackgroundRange=`linear-gradient(to right, ${s.join(", ")})`,this.prevBackgroundRange}}render(){return Pe`<input
      .min=${this.min}
      .max=${this.max}
      .step=${this.step}
      .value=${this.value}
      style="--track-background: ${this.getBackgroundRange()}"
      type="range"
      @input=${t=>{const e=t.target,r=Number(e.value);this.value=Number.isNaN(r)?void 0:r}}
    />`}};j.styles=K`
    :host input[type="range"] {
      width: 100%;
      margin: 0.5px 0;
      background-color: transparent;
      -webkit-appearance: none;
    }

    :host input[type="range"]::-webkit-slider-runnable-track {
      ${pn}
    }
    :host input[type="range"]::-moz-range-track {
      ${pn}
    }

    :host input[type="range"]::-moz-range-thumb {
      ${dn}
    }
    :host input[type="range"]::-webkit-slider-thumb {
      ${dn}
      margin-top: -${as}px;
      -webkit-appearance: none;
    }

    :host input[type="range"]:focus {
      outline: none;
    }

    :host input[type="range"]:hover::-moz-range-thumb {
      background: #00000044;
    }
    :host input[type="range"]:hover::-webkit-slider-thumb {
      background: #00000044;
    }
    :host input[type="range"]:focus-visible::-moz-range-thumb {
      outline: -moz-mac-focusring auto 1px;
      outline-offset: 1px;
    }
    :host input[type="range"]:focus-visible::-webkit-slider-thumb {
      outline: -webkit-focus-ring-color auto 1px;
      outline-offset: 1px;
    }
  `;ae([U({type:Number,reflect:!0})],j.prototype,"min",2);ae([U({type:Number,reflect:!0})],j.prototype,"max",2);ae([U({type:Number,reflect:!0})],j.prototype,"step",2);ae([U({type:Number,reflect:!0})],j.prototype,"value",2);ae([jt()],j.prototype,"referenceColor",2);ae([jt()],j.prototype,"valueToModify",2);j=ae([ot("color-slider")],j);class ei{constructor(e,r){this.host=e,e.addController(this),this.cup=r,this.listener=r.on(()=>this.host.requestUpdate())}hostDisconnected(){this.listener()}}var ti=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,is=(t,e,r,n)=>{for(var s=n>1?void 0:n?ri(e,r):e,a=t.length-1,i;a>=0;a--)(i=t[a])&&(s=(n?i(e,r,s):i(s))||s);return n&&s&&ti(e,r,s),s};const At=window.matchMedia("(max-width: 595px)");let st=class extends W{constructor(){super(),this.lchController=new ei(this,E),this.isMobile=At.matches,this.viewListener=t=>{this.isMobile=t.matches},At.addListener(this.viewListener)}disconnectedCallback(){At.removeListener(this.viewListener)}renderInput({category:t,kind:e,label:r,shortName:n=e.toUpperCase(),min:s,max:a,step:i=1}){const l=d=>Math.min(a,Math.max(s,d)),h=E().to(t),u=h[e],c=`${t}--${e}`;return Pe`
      <label for="slider-${c}">${n} (${r})</label>
      <color-slider
        .id="slider-${c}"
        .min=${s}
        .max=${a}
        .step=${i}
        .value=${u}
        .referenceColor=${h}
        .valueToModify=${e}
        @input=${d=>{const m=d.target,f=l(m.value||0);m.value=f,E([{type:t,kind:e,value:f}])}}
      ></color-slider>
    `}willUpdate(t){const e=new Set(t.keys());e.delete("luminance"),e.delete("chroma"),e.delete("hue"),e.size}render(){const t=E();return Pe`
      <div class="wrapper">
        <details open>
          <summary><h2>OkLCH</h2></summary>
          <div class="group">
            ${this.renderInput({category:"oklch",kind:"l",label:"luminance",min:0,step:.01,max:1})}
            ${this.renderInput({category:"oklch",kind:"c",label:"chroma",min:0,step:.01,max:.4})}
            ${this.renderInput({category:"oklch",kind:"h",label:"hue",min:0,max:360})}

            <pre class="code-wrapper"><code class="code">${t.to("oklch").toString({precision:3})}</code></pre>
          </div>
        </details>

        <details ?open=${!this.isMobile}>
          <summary><h2>OkLab</h2></summary>
          <div class="group">
            ${this.renderInput({category:"oklab",kind:"l",label:"luminance",min:0,step:.01,max:1})}
            ${this.renderInput({category:"oklab",kind:"a",label:"a",shortName:"a",min:-.4,step:.01,max:.4})}
            ${this.renderInput({category:"oklab",kind:"b",label:"b",shortName:"b",min:-.4,step:.01,max:.4})}

            <pre class="code-wrapper"><code class='code'>${t.to("oklab").toString({precision:3})}</code></pre>
          </div>
        </details>

        <details ?open=${!this.isMobile}>
          <summary><h2>LCH</h2></summary>
          <div class="group">
            ${this.renderInput({category:"lch",kind:"l",label:"luminance",min:0,max:100})}
            ${this.renderInput({category:"lch",kind:"c",label:"chroma",min:0,max:150})}
            ${this.renderInput({category:"lch",kind:"h",label:"hue",min:0,max:360})}

            <pre class="code-wrapper"><code class="code">${t.to("lch").toString({precision:3})}</code></pre>
          </div>
        </details>

        <details ?open=${!this.isMobile}>
          <summary><h2>Lab</h2></summary>
          <div class="group">
            ${this.renderInput({category:"lab",kind:"l",label:"luminance",min:0,max:100})}
            ${this.renderInput({category:"lab",kind:"a",label:"a",shortName:"a",min:-128,max:127})}
            ${this.renderInput({category:"lab",kind:"b",label:"b",shortName:"b",min:-128,max:127})}

            <pre class="code-wrapper"><code class='code'>${t.to("lab").toString({precision:3})}</code></pre>
          </div>
        </details>

        <details ?open=${!this.isMobile}>
          <summary><h2>RGB</h2></summary>
          <div class="group">
            ${this.renderInput({category:"srgb",kind:"r",label:"red",min:0,max:1,step:.01})}
            ${this.renderInput({category:"srgb",kind:"g",label:"green",min:0,max:1,step:.01})}
            ${this.renderInput({category:"srgb",kind:"b",label:"blue",min:0,max:1,step:.01})}

            <pre class="code-wrapper"><code class='code'>${t.to("srgb").toString({precision:3})}</code>
<code class='code'>${t.to("srgb").toString({format:"hex"})}</code></pre>
          </div>
        </details>

        <details ?open=${!this.isMobile}>
          <summary><h2>HSL</h2></summary>
          <div class="group">
            ${this.renderInput({category:"hsl",kind:"h",label:"hue",min:0,max:360})}
            ${this.renderInput({category:"hsl",kind:"s",label:"saturation",min:0,max:100})}
            ${this.renderInput({category:"hsl",kind:"l",label:"lightness",min:0,max:100})}

            <pre class="code-wrapper"><code class='code'>${t.to("hsl").toString({precision:3})}</code></pre>
          </div>
        </details>
      </div>
    `}};st.styles=K`
    :host label {
      display: block;
    }

    :host .wrapper {
      display: grid;
      grid-template-columns: 1fr 1fr;
      row-gap: 1em;
      column-gap: 2em;
      margin-bottom: 1em;
    }
    @media (max-width: 595px) {
      :host .wrapper {
        grid-template-columns: 1fr;
      }
    }

    :host .group {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: repeat(6, auto) 1fr;
      row-gap: 0.5em;

      margin-top: 1em;
    }

    :host h2 {
      display: inline-block;
      margin: 0;
    }

    :host color-slider {
      /* Avoid making the page scroll on mobile when we are pressing on it */
      touch-action: none;
    }

    :host .code {
      font-family: "Fira Code", monospace;
    }
  `;is([jt()],st.prototype,"isMobile",2);st=is([ot("color-picker")],st);document.documentElement.style.backgroundColor=E().toString();E.on(t=>{document.documentElement.style.backgroundColor=t.toString()});
