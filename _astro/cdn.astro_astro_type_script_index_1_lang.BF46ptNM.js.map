{"version":3,"file":"cdn.astro_astro_type_script_index_1_lang.BF46ptNM.js","sources":["../../src/components/experiments/page-react-extension/extension.js"],"sourcesContent":["const renderers = new Map();\nlet uidCounter = 0;\n\nwindow.customDevTools = false;\nif (!window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  customDevTools = true;\n  console.log(\n    \"%c[CUSTOM] Injecting custom React DevTools hook!\",\n    \"color:orangered\",\n  );\n  window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = {\n    // rendererInterfaces: new Map(),\n    // listeners: {},\n\n    // backends: new Map(),\n\n    // Fast Refresh for web relies on this.\n    renderers,\n    // hasUnsupportedRendererAttached: false,\n\n    // emit: () => {},\n    // getFiberRoots: () => {},\n    inject: (renderer) => {\n      const id = ++uidCounter;\n      // console.log(\"inject\", renderer);\n      renderers.set(id, renderer);\n    },\n    // on: () => {},\n    // off: () => {},\n    // sub: () => {},\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React Flight Client checks the hook for this to ensure DevTools is new enough.\n    supportsFlight: true,\n\n    // React calls these methods.\n    // checkDCE: () => {},\n    // onCommitFiberUnmount: () => {},\n    // onCommitFiberRoot: () => {},\n    // // React v18.0+\n    // onPostCommitFiberRoot: () => {},\n    // setStrictMode: () => {},\n\n    // // Schedule Profiler runtime helpers.\n    // // These internal React modules to report their own boundaries\n    // // which in turn enables the profiler to dim or filter internal frames.\n    // getInternalModuleRanges: () => {},\n    // registerInternalModuleStart: () => {},\n    // registerInternalModuleStop: () => {},\n  };\n}\n\nconst initialOnCommitFiberRoot =\n  window.__REACT_DEVTOOLS_GLOBAL_HOOK__.onCommitFiberRoot;\n\nlet logged = false;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.onCommitFiberRoot = (...args) => {\n  try {\n    initialOnCommitFiberRoot(...args);\n  } catch (e) {}\n\n  if (logged) {\n    return;\n  }\n\n  logged = true;\n\n  // console.log(\"onCommitFiberRoot\", args);\n  // See https://unpkg.com/browse/react-dom@18.3.1/umd/react-dom.development.js#L12003\n  console.log(\n    \"[CUSTOM] Root mode:\",\n    args[1].tag === 1 ? \"ConcurrentRoot\" : \"LegacyRoot\",\n  );\n};\n"],"names":["renderers","uidCounter","renderer","id","initialOnCommitFiberRoot","logged","args"],"mappings":"AAAA,MAAMA,EAAY,IAAI,IACtB,IAAIC,EAAa,EAEjB,OAAO,eAAiB,GACnB,OAAO,iCACV,eAAiB,GACjB,QAAQ,IACN,mDACA,iBACD,EACD,OAAO,+BAAiC,CAOtC,UAAAD,EAKA,OAASE,GAAa,CACpB,MAAMC,EAAK,EAAEF,EAEbD,EAAU,IAAIG,EAAID,CAAQ,CAC3B,EAOD,cAAe,GAGf,eAAgB,EAgBjB,GAGH,MAAME,EACJ,OAAO,+BAA+B,kBAExC,IAAIC,EAAS,GACb,OAAO,+BAA+B,kBAAoB,IAAIC,IAAS,CACrE,GAAI,CACFF,EAAyB,GAAGE,CAAI,CACjC,MAAW,CAAA,CAERD,IAIJA,EAAS,GAIT,QAAQ,IACN,sBACAC,EAAK,CAAC,EAAE,MAAQ,EAAI,iBAAmB,YACxC,EACH"}