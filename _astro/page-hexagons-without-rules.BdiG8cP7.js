import{j as ee}from"./jsx-runtime.D_zvdyIk.js";import{c as Dc,g as Xh,a as pd,r as xt,R as ae}from"./index.CRVbtxaI.js";import{r as jh}from"./index.SPyfQU6S.js";var ql={exports:{}},ii={},Er={},Tr={},Uc;function _t(){return Uc||(Uc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._registerNode=r.Konva=r.glob=void 0;const c=Math.PI/180;function V(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}r.glob=typeof Dc<"u"?Dc:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},r.Konva={_global:r.glob,version:"9.3.20",isBrowser:V(),isUnminified:/param/.test(function(E){}.toString()),dblClickWindow:400,getAngle(E){return r.Konva.angleDeg?E*c:E},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return r.Konva.DD.isDragging},isTransforming(){var E;return(E=r.Konva.Transformer)===null||E===void 0?void 0:E.isTransforming()},isDragReady(){return!!r.Konva.DD.node},releaseCanvasOnDestroy:!0,document:r.glob.document,_injectGlobal(E){r.glob.Konva=E}};const z=E=>{r.Konva[E.prototype.getClassName()]=E};r._registerNode=z,r.Konva._injectGlobal(r.Konva)}(Tr)),Tr}var Nr={},zc;function Kt(){return zc||(zc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Util=r.Transform=void 0;const c=_t();class V{constructor(v=[1,0,0,1,0,0]){this.dirty=!1,this.m=v&&v.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new V(this.m)}copyInto(v){v.m[0]=this.m[0],v.m[1]=this.m[1],v.m[2]=this.m[2],v.m[3]=this.m[3],v.m[4]=this.m[4],v.m[5]=this.m[5]}point(v){const A=this.m;return{x:A[0]*v.x+A[2]*v.y+A[4],y:A[1]*v.x+A[3]*v.y+A[5]}}translate(v,A){return this.m[4]+=this.m[0]*v+this.m[2]*A,this.m[5]+=this.m[1]*v+this.m[3]*A,this}scale(v,A){return this.m[0]*=v,this.m[1]*=v,this.m[2]*=A,this.m[3]*=A,this}rotate(v){const A=Math.cos(v),O=Math.sin(v),F=this.m[0]*A+this.m[2]*O,D=this.m[1]*A+this.m[3]*O,x=this.m[0]*-O+this.m[2]*A,M=this.m[1]*-O+this.m[3]*A;return this.m[0]=F,this.m[1]=D,this.m[2]=x,this.m[3]=M,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(v,A){const O=this.m[0]+this.m[2]*A,F=this.m[1]+this.m[3]*A,D=this.m[2]+this.m[0]*v,x=this.m[3]+this.m[1]*v;return this.m[0]=O,this.m[1]=F,this.m[2]=D,this.m[3]=x,this}multiply(v){const A=this.m[0]*v.m[0]+this.m[2]*v.m[1],O=this.m[1]*v.m[0]+this.m[3]*v.m[1],F=this.m[0]*v.m[2]+this.m[2]*v.m[3],D=this.m[1]*v.m[2]+this.m[3]*v.m[3],x=this.m[0]*v.m[4]+this.m[2]*v.m[5]+this.m[4],M=this.m[1]*v.m[4]+this.m[3]*v.m[5]+this.m[5];return this.m[0]=A,this.m[1]=O,this.m[2]=F,this.m[3]=D,this.m[4]=x,this.m[5]=M,this}invert(){const v=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),A=this.m[3]*v,O=-this.m[1]*v,F=-this.m[2]*v,D=this.m[0]*v,x=v*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),M=v*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=A,this.m[1]=O,this.m[2]=F,this.m[3]=D,this.m[4]=x,this.m[5]=M,this}getMatrix(){return this.m}decompose(){const v=this.m[0],A=this.m[1],O=this.m[2],F=this.m[3],D=this.m[4],x=this.m[5],M=v*F-A*O,H={x:D,y:x,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(v!=0||A!=0){const P=Math.sqrt(v*v+A*A);H.rotation=A>0?Math.acos(v/P):-Math.acos(v/P),H.scaleX=P,H.scaleY=M/P,H.skewX=(v*O+A*F)/M,H.skewY=0}else if(O!=0||F!=0){const P=Math.sqrt(O*O+F*F);H.rotation=Math.PI/2-(F>0?Math.acos(-O/P):-Math.acos(O/P)),H.scaleX=M/P,H.scaleY=P,H.skewX=0,H.skewY=(v*O+A*F)/M}return H.rotation=r.Util._getRotation(H.rotation),H}}r.Transform=V;const z="[object Array]",E="[object Number]",_="[object String]",p="[object Boolean]",d=Math.PI/180,g=180/Math.PI,m="#",y="",N="0",T="Konva warning: ",f="Konva error: ",o="rgb(",S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let U=[];const u=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(s){setTimeout(s,60)};r.Util={_isElement(s){return!!(s&&s.nodeType==1)},_isFunction(s){return!!(s&&s.constructor&&s.call&&s.apply)},_isPlainObject(s){return!!s&&s.constructor===Object},_isArray(s){return Object.prototype.toString.call(s)===z},_isNumber(s){return Object.prototype.toString.call(s)===E&&!isNaN(s)&&isFinite(s)},_isString(s){return Object.prototype.toString.call(s)===_},_isBoolean(s){return Object.prototype.toString.call(s)===p},isObject(s){return s instanceof Object},isValidSelector(s){if(typeof s!="string")return!1;const v=s[0];return v==="#"||v==="."||v===v.toUpperCase()},_sign(s){return s===0||s>0?1:-1},requestAnimFrame(s){U.push(s),U.length===1&&u(function(){const v=U;U=[],v.forEach(function(A){A()})})},createCanvasElement(){const s=document.createElement("canvas");try{s.style=s.style||{}}catch{}return s},createImageElement(){return document.createElement("img")},_isInDocument(s){for(;s=s.parentNode;)if(s==document)return!0;return!1},_urlToImage(s,v){const A=r.Util.createImageElement();A.onload=function(){v(A)},A.src=s},_rgbToHex(s,v,A){return((1<<24)+(s<<16)+(v<<8)+A).toString(16).slice(1)},_hexToRgb(s){s=s.replace(m,y);const v=parseInt(s,16);return{r:v>>16&255,g:v>>8&255,b:v&255}},getRandomColor(){let s=(Math.random()*16777215<<0).toString(16);for(;s.length<6;)s=N+s;return m+s},getRGB(s){let v;return s in S?(v=S[s],{r:v[0],g:v[1],b:v[2]}):s[0]===m?this._hexToRgb(s.substring(1)):s.substr(0,4)===o?(v=C.exec(s.replace(/ /g,"")),{r:parseInt(v[1],10),g:parseInt(v[2],10),b:parseInt(v[3],10)}):{r:0,g:0,b:0}},colorToRGBA(s){return s=s||"black",r.Util._namedColorToRBA(s)||r.Util._hex3ColorToRGBA(s)||r.Util._hex4ColorToRGBA(s)||r.Util._hex6ColorToRGBA(s)||r.Util._hex8ColorToRGBA(s)||r.Util._rgbColorToRGBA(s)||r.Util._rgbaColorToRGBA(s)||r.Util._hslColorToRGBA(s)},_namedColorToRBA(s){const v=S[s.toLowerCase()];return v?{r:v[0],g:v[1],b:v[2],a:1}:null},_rgbColorToRGBA(s){if(s.indexOf("rgb(")===0){s=s.match(/rgb\(([^)]+)\)/)[1];const v=s.split(/ *, */).map(Number);return{r:v[0],g:v[1],b:v[2],a:1}}},_rgbaColorToRGBA(s){if(s.indexOf("rgba(")===0){s=s.match(/rgba\(([^)]+)\)/)[1];const v=s.split(/ *, */).map((A,O)=>A.slice(-1)==="%"?O===3?parseInt(A)/100:parseInt(A)/100*255:Number(A));return{r:v[0],g:v[1],b:v[2],a:v[3]}}},_hex8ColorToRGBA(s){if(s[0]==="#"&&s.length===9)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:parseInt(s.slice(7,9),16)/255}},_hex6ColorToRGBA(s){if(s[0]==="#"&&s.length===7)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:1}},_hex4ColorToRGBA(s){if(s[0]==="#"&&s.length===5)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:parseInt(s[4]+s[4],16)/255}},_hex3ColorToRGBA(s){if(s[0]==="#"&&s.length===4)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:1}},_hslColorToRGBA(s){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(s)){const[v,...A]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s),O=Number(A[0])/360,F=Number(A[1])/100,D=Number(A[2])/100;let x,M,H;if(F===0)return H=D*255,{r:Math.round(H),g:Math.round(H),b:Math.round(H),a:1};D<.5?x=D*(1+F):x=D+F-D*F;const P=2*D-x,h=[0,0,0];for(let R=0;R<3;R++)M=O+1/3*-(R-1),M<0&&M++,M>1&&M--,6*M<1?H=P+(x-P)*6*M:2*M<1?H=x:3*M<2?H=P+(x-P)*(2/3-M)*6:H=P,h[R]=H*255;return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection(s,v){return!(v.x>s.x+s.width||v.x+v.width<s.x||v.y>s.y+s.height||v.y+v.height<s.y)},cloneObject(s){const v={};for(const A in s)this._isPlainObject(s[A])?v[A]=this.cloneObject(s[A]):this._isArray(s[A])?v[A]=this.cloneArray(s[A]):v[A]=s[A];return v},cloneArray(s){return s.slice(0)},degToRad(s){return s*d},radToDeg(s){return s*g},_degToRad(s){return r.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),r.Util.degToRad(s)},_radToDeg(s){return r.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),r.Util.radToDeg(s)},_getRotation(s){return c.Konva.angleDeg?r.Util.radToDeg(s):s},_capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)},throw(s){throw new Error(f+s)},error(s){console.error(f+s)},warn(s){c.Konva.showWarnings&&console.warn(T+s)},each(s,v){for(const A in s)v(A,s[A])},_inRange(s,v,A){return v<=s&&s<A},_getProjectionToSegment(s,v,A,O,F,D){let x,M,H;const P=(s-A)*(s-A)+(v-O)*(v-O);if(P==0)x=s,M=v,H=(F-A)*(F-A)+(D-O)*(D-O);else{const h=((F-s)*(A-s)+(D-v)*(O-v))/P;h<0?(x=s,M=v,H=(s-F)*(s-F)+(v-D)*(v-D)):h>1?(x=A,M=O,H=(A-F)*(A-F)+(O-D)*(O-D)):(x=s+h*(A-s),M=v+h*(O-v),H=(x-F)*(x-F)+(M-D)*(M-D))}return[x,M,H]},_getProjectionToLine(s,v,A){const O=r.Util.cloneObject(s);let F=Number.MAX_VALUE;return v.forEach(function(D,x){if(!A&&x===v.length-1)return;const M=v[(x+1)%v.length],H=r.Util._getProjectionToSegment(D.x,D.y,M.x,M.y,s.x,s.y),P=H[0],h=H[1],R=H[2];R<F&&(O.x=P,O.y=h,F=R)}),O},_prepareArrayForTween(s,v,A){const O=[],F=[];if(s.length>v.length){const x=v;v=s,s=x}for(let x=0;x<s.length;x+=2)O.push({x:s[x],y:s[x+1]});for(let x=0;x<v.length;x+=2)F.push({x:v[x],y:v[x+1]});const D=[];return F.forEach(function(x){const M=r.Util._getProjectionToLine(x,O,A);D.push(M.x),D.push(M.y)}),D},_prepareToStringify(s){let v;s.visitedByCircularReferenceRemoval=!0;for(const A in s)if(s.hasOwnProperty(A)&&s[A]&&typeof s[A]=="object"){if(v=Object.getOwnPropertyDescriptor(s,A),s[A].visitedByCircularReferenceRemoval||r.Util._isElement(s[A]))if(v.configurable)delete s[A];else return null;else if(r.Util._prepareToStringify(s[A])===null)if(v.configurable)delete s[A];else return null}return delete s.visitedByCircularReferenceRemoval,s},_assign(s,v){for(const A in v)s[A]=v[A];return s},_getFirstPointerId(s){return s.touches?s.changedTouches[0].identifier:s.pointerId||999},releaseCanvas(...s){c.Konva.releaseCanvasOnDestroy&&s.forEach(v=>{v.width=0,v.height=0})},drawRoundedRectPath(s,v,A,O){let F=0,D=0,x=0,M=0;typeof O=="number"?F=D=x=M=Math.min(O,v/2,A/2):(F=Math.min(O[0]||0,v/2,A/2),D=Math.min(O[1]||0,v/2,A/2),M=Math.min(O[2]||0,v/2,A/2),x=Math.min(O[3]||0,v/2,A/2)),s.moveTo(F,0),s.lineTo(v-D,0),s.arc(v-D,D,D,Math.PI*3/2,0,!1),s.lineTo(v,A-M),s.arc(v-M,A-M,M,0,Math.PI/2,!1),s.lineTo(x,A),s.arc(x,A-x,x,Math.PI/2,Math.PI,!1),s.lineTo(0,F),s.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}}(Nr)),Nr}var li={},Ar={},Ee={},Hc;function Et(){if(Hc)return Ee;Hc=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.RGBComponent=z,Ee.alphaComponent=E,Ee.getNumberValidator=_,Ee.getNumberOrArrayOfNumbersValidator=p,Ee.getNumberOrAutoValidator=d,Ee.getStringValidator=g,Ee.getStringOrGradientValidator=m,Ee.getFunctionValidator=y,Ee.getNumberArrayValidator=N,Ee.getBooleanValidator=T,Ee.getComponentValidator=f;const r=_t(),c=Kt();function V(o){return c.Util._isString(o)?'"'+o+'"':Object.prototype.toString.call(o)==="[object Number]"||c.Util._isBoolean(o)?o:Object.prototype.toString.call(o)}function z(o){return o>255?255:o<0?0:Math.round(o)}function E(o){return o>1?1:o<1e-4?1e-4:o}function _(){if(r.Konva.isUnminified)return function(o,S){return c.Util._isNumber(o)||c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a number.'),o}}function p(o){if(r.Konva.isUnminified)return function(S,C){let U=c.Util._isNumber(S),u=c.Util._isArray(S)&&S.length==o;return!U&&!u&&c.Util.warn(V(S)+' is a not valid value for "'+C+'" attribute. The value should be a number or Array<number>('+o+")"),S}}function d(){if(r.Konva.isUnminified)return function(o,S){var C=c.Util._isNumber(o),U=o==="auto";return C||U||c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a number or "auto".'),o}}function g(){if(r.Konva.isUnminified)return function(o,S){return c.Util._isString(o)||c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a string.'),o}}function m(){if(r.Konva.isUnminified)return function(o,S){const C=c.Util._isString(o),U=Object.prototype.toString.call(o)==="[object CanvasGradient]"||o&&o.addColorStop;return C||U||c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a string or a native gradient.'),o}}function y(){if(r.Konva.isUnminified)return function(o,S){return c.Util._isFunction(o)||c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a function.'),o}}function N(){if(r.Konva.isUnminified)return function(o,S){const C=Int8Array?Object.getPrototypeOf(Int8Array):null;return C&&o instanceof C||(c.Util._isArray(o)?o.forEach(function(U){c.Util._isNumber(U)||c.Util.warn('"'+S+'" attribute has non numeric element '+U+". Make sure that all elements are numbers.")}):c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a array of numbers.')),o}}function T(){if(r.Konva.isUnminified)return function(o,S){var C=o===!0||o===!1;return C||c.Util.warn(V(o)+' is a not valid value for "'+S+'" attribute. The value should be a boolean.'),o}}function f(o){if(r.Konva.isUnminified)return function(S,C){return S==null||c.Util.isObject(S)||c.Util.warn(V(S)+' is a not valid value for "'+C+'" attribute. The value should be an object with properties '+o),S}}return Ee}var Bc;function Ct(){return Bc||(Bc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Factory=void 0;const c=Kt(),V=Et(),z="get",E="set";r.Factory={addGetterSetter(_,p,d,g,m){r.Factory.addGetter(_,p,d),r.Factory.addSetter(_,p,g,m),r.Factory.addOverloadedGetterSetter(_,p)},addGetter(_,p,d){var g=z+c.Util._capitalize(p);_.prototype[g]=_.prototype[g]||function(){const m=this.attrs[p];return m===void 0?d:m}},addSetter(_,p,d,g){var m=E+c.Util._capitalize(p);_.prototype[m]||r.Factory.overWriteSetter(_,p,d,g)},overWriteSetter(_,p,d,g){var m=E+c.Util._capitalize(p);_.prototype[m]=function(y){return d&&y!==void 0&&y!==null&&(y=d.call(this,y,p)),this._setAttr(p,y),g&&g.call(this),this}},addComponentsGetterSetter(_,p,d,g,m){const y=d.length,N=c.Util._capitalize,T=z+N(p),f=E+N(p);_.prototype[T]=function(){const S={};for(let C=0;C<y;C++){const U=d[C];S[U]=this.getAttr(p+N(U))}return S};const o=(0,V.getComponentValidator)(d);_.prototype[f]=function(S){const C=this.attrs[p];g&&(S=g.call(this,S,p)),o&&o.call(this,S,p);for(const U in S)S.hasOwnProperty(U)&&this._setAttr(p+N(U),S[U]);return S||d.forEach(U=>{this._setAttr(p+N(U),void 0)}),this._fireChangeEvent(p,C,S),m&&m.call(this),this},r.Factory.addOverloadedGetterSetter(_,p)},addOverloadedGetterSetter(_,p){var d=c.Util._capitalize(p),g=E+d,m=z+d;_.prototype[p]=function(){return arguments.length?(this[g](arguments[0]),this):this[m]()}},addDeprecatedGetterSetter(_,p,d,g){c.Util.error("Adding deprecated "+p);const m=z+c.Util._capitalize(p),y=p+" property is deprecated and will be removed soon. Look at Konva change log for more information.";_.prototype[m]=function(){c.Util.error(y);const N=this.attrs[p];return N===void 0?d:N},r.Factory.addSetter(_,p,g,function(){c.Util.error(y)}),r.Factory.addOverloadedGetterSetter(_,p)},backCompat(_,p){c.Util.each(p,function(d,g){const m=_.prototype[g],y=z+c.Util._capitalize(d),N=E+c.Util._capitalize(d);function T(){m.apply(this,arguments),c.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+g+'" instead.')}_.prototype[d]=T,_.prototype[y]=T,_.prototype[N]=T})},afterSetFilter(){this._filterUpToDate=!1}}}(Ar)),Ar}var da={},ga={},Vc;function wh(){if(Vc)return ga;Vc=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.HitContext=ga.SceneContext=ga.Context=void 0;const r=Kt(),c=_t();function V(U){const u=[],s=U.length,v=r.Util;for(let A=0;A<s;A++){let O=U[A];v._isNumber(O)?O=Math.round(O*1e3)/1e3:v._isString(O)||(O=O+""),u.push(O)}return u}const z=",",E="(",_=")",p="([",d="])",g=";",m="()",y="=",N=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],T=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;let o=class{constructor(u){this.canvas=u,c.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(u){u.fillEnabled()&&this._fill(u)}_fill(u){}strokeShape(u){u.hasStroke()&&this._stroke(u)}_stroke(u){}fillStrokeShape(u){u.attrs.fillAfterStrokeEnabled?(this.strokeShape(u),this.fillShape(u)):(this.fillShape(u),this.strokeShape(u))}getTrace(u,s){let v=this.traceArr,A=v.length,O="",F,D,x,M;for(F=0;F<A;F++)D=v[F],x=D.method,x?(M=D.args,O+=x,u?O+=m:r.Util._isArray(M[0])?O+=p+M.join(z)+d:(s&&(M=M.map(H=>typeof H=="number"?Math.floor(H):H)),O+=E+M.join(z)+_)):(O+=D.property,u||(O+=y+D.val)),O+=g;return O}clearTrace(){this.traceArr=[]}_trace(u){let s=this.traceArr,v;s.push(u),v=s.length,v>=f&&s.shift()}reset(){const u=this.getCanvas().getPixelRatio();this.setTransform(1*u,0,0,1*u,0,0)}getCanvas(){return this.canvas}clear(u){const s=this.getCanvas();u?this.clearRect(u.x||0,u.y||0,u.width||0,u.height||0):this.clearRect(0,0,s.getWidth()/s.pixelRatio,s.getHeight()/s.pixelRatio)}_applyLineCap(u){const s=u.attrs.lineCap;s&&this.setAttr("lineCap",s)}_applyOpacity(u){const s=u.getAbsoluteOpacity();s!==1&&this.setAttr("globalAlpha",s)}_applyLineJoin(u){const s=u.attrs.lineJoin;s&&this.setAttr("lineJoin",s)}setAttr(u,s){this._context[u]=s}arc(u,s,v,A,O,F){this._context.arc(u,s,v,A,O,F)}arcTo(u,s,v,A,O){this._context.arcTo(u,s,v,A,O)}beginPath(){this._context.beginPath()}bezierCurveTo(u,s,v,A,O,F){this._context.bezierCurveTo(u,s,v,A,O,F)}clearRect(u,s,v,A){this._context.clearRect(u,s,v,A)}clip(...u){this._context.clip.apply(this._context,u)}closePath(){this._context.closePath()}createImageData(u,s){const v=arguments;if(v.length===2)return this._context.createImageData(u,s);if(v.length===1)return this._context.createImageData(u)}createLinearGradient(u,s,v,A){return this._context.createLinearGradient(u,s,v,A)}createPattern(u,s){return this._context.createPattern(u,s)}createRadialGradient(u,s,v,A,O,F){return this._context.createRadialGradient(u,s,v,A,O,F)}drawImage(u,s,v,A,O,F,D,x,M){const H=arguments,P=this._context;H.length===3?P.drawImage(u,s,v):H.length===5?P.drawImage(u,s,v,A,O):H.length===9&&P.drawImage(u,s,v,A,O,F,D,x,M)}ellipse(u,s,v,A,O,F,D,x){this._context.ellipse(u,s,v,A,O,F,D,x)}isPointInPath(u,s,v,A){return v?this._context.isPointInPath(v,u,s,A):this._context.isPointInPath(u,s,A)}fill(...u){this._context.fill.apply(this._context,u)}fillRect(u,s,v,A){this._context.fillRect(u,s,v,A)}strokeRect(u,s,v,A){this._context.strokeRect(u,s,v,A)}fillText(u,s,v,A){A?this._context.fillText(u,s,v,A):this._context.fillText(u,s,v)}measureText(u){return this._context.measureText(u)}getImageData(u,s,v,A){return this._context.getImageData(u,s,v,A)}lineTo(u,s){this._context.lineTo(u,s)}moveTo(u,s){this._context.moveTo(u,s)}rect(u,s,v,A){this._context.rect(u,s,v,A)}roundRect(u,s,v,A,O){this._context.roundRect(u,s,v,A,O)}putImageData(u,s,v){this._context.putImageData(u,s,v)}quadraticCurveTo(u,s,v,A){this._context.quadraticCurveTo(u,s,v,A)}restore(){this._context.restore()}rotate(u){this._context.rotate(u)}save(){this._context.save()}scale(u,s){this._context.scale(u,s)}setLineDash(u){this._context.setLineDash?this._context.setLineDash(u):"mozDash"in this._context?this._context.mozDash=u:"webkitLineDash"in this._context&&(this._context.webkitLineDash=u)}getLineDash(){return this._context.getLineDash()}setTransform(u,s,v,A,O,F){this._context.setTransform(u,s,v,A,O,F)}stroke(u){u?this._context.stroke(u):this._context.stroke()}strokeText(u,s,v,A){this._context.strokeText(u,s,v,A)}transform(u,s,v,A,O,F){this._context.transform(u,s,v,A,O,F)}translate(u,s){this._context.translate(u,s)}_enableTrace(){let u=this,s=N.length,v=this.setAttr,A,O;const F=function(D){let x=u[D],M;u[D]=function(){return O=V(Array.prototype.slice.call(arguments,0)),M=x.apply(u,arguments),u._trace({method:D,args:O}),M}};for(A=0;A<s;A++)F(N[A]);u.setAttr=function(){v.apply(u,arguments);const D=arguments[0];let x=arguments[1];(D==="shadowOffsetX"||D==="shadowOffsetY"||D==="shadowBlur")&&(x=x/this.canvas.getPixelRatio()),u._trace({property:D,val:x})}}_applyGlobalCompositeOperation(u){const s=u.attrs.globalCompositeOperation;!s||s==="source-over"||this.setAttr("globalCompositeOperation",s)}};ga.Context=o,T.forEach(function(U){Object.defineProperty(o.prototype,U,{get(){return this._context[U]},set(u){this._context[U]=u}})});class S extends o{constructor(u,{willReadFrequently:s=!1}={}){super(u),this._context=u._canvas.getContext("2d",{willReadFrequently:s})}_fillColor(u){const s=u.fill();this.setAttr("fillStyle",s),u._fillFunc(this)}_fillPattern(u){this.setAttr("fillStyle",u._getFillPattern()),u._fillFunc(this)}_fillLinearGradient(u){const s=u._getLinearGradient();s&&(this.setAttr("fillStyle",s),u._fillFunc(this))}_fillRadialGradient(u){const s=u._getRadialGradient();s&&(this.setAttr("fillStyle",s),u._fillFunc(this))}_fill(u){const s=u.fill(),v=u.getFillPriority();if(s&&v==="color"){this._fillColor(u);return}const A=u.getFillPatternImage();if(A&&v==="pattern"){this._fillPattern(u);return}const O=u.getFillLinearGradientColorStops();if(O&&v==="linear-gradient"){this._fillLinearGradient(u);return}const F=u.getFillRadialGradientColorStops();if(F&&v==="radial-gradient"){this._fillRadialGradient(u);return}s?this._fillColor(u):A?this._fillPattern(u):O?this._fillLinearGradient(u):F&&this._fillRadialGradient(u)}_strokeLinearGradient(u){const s=u.getStrokeLinearGradientStartPoint(),v=u.getStrokeLinearGradientEndPoint(),A=u.getStrokeLinearGradientColorStops(),O=this.createLinearGradient(s.x,s.y,v.x,v.y);if(A){for(let F=0;F<A.length;F+=2)O.addColorStop(A[F],A[F+1]);this.setAttr("strokeStyle",O)}}_stroke(u){const s=u.dash(),v=u.getStrokeScaleEnabled();if(u.hasStroke()){if(!v){this.save();const O=this.getCanvas().getPixelRatio();this.setTransform(O,0,0,O,0,0)}this._applyLineCap(u),s&&u.dashEnabled()&&(this.setLineDash(s),this.setAttr("lineDashOffset",u.dashOffset())),this.setAttr("lineWidth",u.strokeWidth()),u.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),u.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(u):this.setAttr("strokeStyle",u.stroke()),u._strokeFunc(this),v||this.restore()}}_applyShadow(u){var s,v,A;const O=(s=u.getShadowRGBA())!==null&&s!==void 0?s:"black",F=(v=u.getShadowBlur())!==null&&v!==void 0?v:5,D=(A=u.getShadowOffset())!==null&&A!==void 0?A:{x:0,y:0},x=u.getAbsoluteScale(),M=this.canvas.getPixelRatio(),H=x.x*M,P=x.y*M;this.setAttr("shadowColor",O),this.setAttr("shadowBlur",F*Math.min(Math.abs(H),Math.abs(P))),this.setAttr("shadowOffsetX",D.x*H),this.setAttr("shadowOffsetY",D.y*P)}}ga.SceneContext=S;class C extends o{constructor(u){super(u),this._context=u._canvas.getContext("2d",{willReadFrequently:!0})}_fill(u){this.save(),this.setAttr("fillStyle",u.colorKey),u._fillFuncHit(this),this.restore()}strokeShape(u){u.hasHitStroke()&&this._stroke(u)}_stroke(u){if(u.hasHitStroke()){const s=u.getStrokeScaleEnabled();if(!s){this.save();const O=this.getCanvas().getPixelRatio();this.setTransform(O,0,0,O,0,0)}this._applyLineCap(u);const v=u.hitStrokeWidth(),A=v==="auto"?u.strokeWidth():v;this.setAttr("lineWidth",A),this.setAttr("strokeStyle",u.colorKey),u._strokeFuncHit(this),s||this.restore()}}}return ga.HitContext=C,ga}var qc;function Yl(){if(qc)return da;qc=1,Object.defineProperty(da,"__esModule",{value:!0}),da.HitCanvas=da.SceneCanvas=da.Canvas=void 0;const r=Kt(),c=wh(),V=_t();let z;function E(){if(z)return z;const g=r.Util.createCanvasElement(),m=g.getContext("2d");return z=function(){const y=V.Konva._global.devicePixelRatio||1,N=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return y/N}(),r.Util.releaseCanvas(g),z}let _=class{constructor(m){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const N=(m||{}).pixelRatio||V.Konva.pixelRatio||E();this.pixelRatio=N,this._canvas=r.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(m){const y=this.pixelRatio;this.pixelRatio=m,this.setSize(this.getWidth()/y,this.getHeight()/y)}setWidth(m){this.width=this._canvas.width=m*this.pixelRatio,this._canvas.style.width=m+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}setHeight(m){this.height=this._canvas.height=m*this.pixelRatio,this._canvas.style.height=m+"px";const y=this.pixelRatio;this.getContext()._context.scale(y,y)}getWidth(){return this.width}getHeight(){return this.height}setSize(m,y){this.setWidth(m||0),this.setHeight(y||0)}toDataURL(m,y){try{return this._canvas.toDataURL(m,y)}catch{try{return this._canvas.toDataURL()}catch(T){return r.Util.error("Unable to get data URL. "+T.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};da.Canvas=_;class p extends _{constructor(m={width:0,height:0,willReadFrequently:!1}){super(m),this.context=new c.SceneContext(this,{willReadFrequently:m.willReadFrequently}),this.setSize(m.width,m.height)}}da.SceneCanvas=p;class d extends _{constructor(m={width:0,height:0}){super(m),this.hitCanvas=!0,this.context=new c.HitContext(this),this.setSize(m.width,m.height)}}return da.HitCanvas=d,da}var Rr={},Lc;function qr(){return Lc||(Lc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DD=void 0;const c=_t(),V=Kt();r.DD={get isDragging(){let z=!1;return r.DD._dragElements.forEach(E=>{E.dragStatus==="dragging"&&(z=!0)}),z},justDragged:!1,get node(){let z;return r.DD._dragElements.forEach(E=>{z=E.node}),z},_dragElements:new Map,_drag(z){const E=[];r.DD._dragElements.forEach((_,p)=>{const{node:d}=_,g=d.getStage();g.setPointersPositions(z),_.pointerId===void 0&&(_.pointerId=V.Util._getFirstPointerId(z));const m=g._changedPointerPositions.find(y=>y.id===_.pointerId);if(m){if(_.dragStatus!=="dragging"){const y=d.dragDistance();if(Math.max(Math.abs(m.x-_.startPointerPos.x),Math.abs(m.y-_.startPointerPos.y))<y||(d.startDrag({evt:z}),!d.isDragging()))return}d._setDragPosition(z,_),E.push(d)}}),E.forEach(_=>{_.fire("dragmove",{type:"dragmove",target:_,evt:z},!0)})},_endDragBefore(z){const E=[];r.DD._dragElements.forEach(_=>{const{node:p}=_,d=p.getStage();if(z&&d.setPointersPositions(z),!d._changedPointerPositions.find(y=>y.id===_.pointerId))return;(_.dragStatus==="dragging"||_.dragStatus==="stopped")&&(r.DD.justDragged=!0,c.Konva._mouseListenClick=!1,c.Konva._touchListenClick=!1,c.Konva._pointerListenClick=!1,_.dragStatus="stopped");const m=_.node.getLayer()||_.node instanceof c.Konva.Stage&&_.node;m&&E.indexOf(m)===-1&&E.push(m)}),E.forEach(_=>{_.draw()})},_endDragAfter(z){r.DD._dragElements.forEach((E,_)=>{E.dragStatus==="stopped"&&E.node.fire("dragend",{type:"dragend",target:E.node,evt:z},!0),E.dragStatus!=="dragging"&&r.DD._dragElements.delete(_)})}},c.Konva.isBrowser&&(window.addEventListener("mouseup",r.DD._endDragBefore,!0),window.addEventListener("touchend",r.DD._endDragBefore,!0),window.addEventListener("touchcancel",r.DD._endDragBefore,!0),window.addEventListener("mousemove",r.DD._drag),window.addEventListener("touchmove",r.DD._drag),window.addEventListener("mouseup",r.DD._endDragAfter,!1),window.addEventListener("touchend",r.DD._endDragAfter,!1),window.addEventListener("touchcancel",r.DD._endDragAfter,!1))}(Rr)),Rr}var Yc;function wt(){if(Yc)return li;Yc=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Node=void 0;const r=Kt(),c=Ct(),V=Yl(),z=_t(),E=qr(),_=Et(),p="absoluteOpacity",d="allEventListeners",g="absoluteTransform",m="absoluteScale",y="canvas",N="Change",T="children",f="konva",o="listening",S="mouseenter",C="mouseleave",U="set",u="Shape",s=" ",v="stage",A="transform",O="Stage",F="visible",D=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(s);let x=1,M=class Br{constructor(h){this._id=x++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(h),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(h){(h===A||h===g)&&this._cache.get(h)?this._cache.get(h).dirty=!0:h?this._cache.delete(h):this._cache.clear()}_getCache(h,R){let b=this._cache.get(h);return(b===void 0||(h===A||h===g)&&b.dirty===!0)&&(b=R.call(this),this._cache.set(h,b)),b}_calculate(h,R,b){if(!this._attachedDepsListeners.get(h)){const B=R.map(q=>q+"Change.konva").join(s);this.on(B,()=>{this._clearCache(h)}),this._attachedDepsListeners.set(h,!0)}return this._getCache(h,b)}_getCanvasCache(){return this._cache.get(y)}_clearSelfAndDescendantCache(h){this._clearCache(h),h===g&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(y)){const{scene:h,filter:R,hit:b}=this._cache.get(y);r.Util.releaseCanvas(h,R,b),this._cache.delete(y)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(h){const R=h||{};let b={};(R.x===void 0||R.y===void 0||R.width===void 0||R.height===void 0)&&(b=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let B=Math.ceil(R.width||b.width),q=Math.ceil(R.height||b.height),X=R.pixelRatio,W=R.x===void 0?Math.floor(b.x):R.x,Z=R.y===void 0?Math.floor(b.y):R.y,I=R.offset||0,lt=R.drawBorder||!1,k=R.hitCanvasPixelRatio||1;if(!B||!q){r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const tt=Math.abs(Math.round(b.x)-W)>.5?1:0,rt=Math.abs(Math.round(b.y)-Z)>.5?1:0;B+=I*2+tt,q+=I*2+rt,W-=I,Z-=I;const ct=new V.SceneCanvas({pixelRatio:X,width:B,height:q}),Y=new V.SceneCanvas({pixelRatio:X,width:0,height:0,willReadFrequently:!0}),J=new V.HitCanvas({pixelRatio:k,width:B,height:q}),et=ct.getContext(),it=J.getContext();return J.isCache=!0,ct.isCache=!0,this._cache.delete(y),this._filterUpToDate=!1,R.imageSmoothingEnabled===!1&&(ct.getContext()._context.imageSmoothingEnabled=!1,Y.getContext()._context.imageSmoothingEnabled=!1),et.save(),it.save(),et.translate(-W,-Z),it.translate(-W,-Z),this._isUnderCache=!0,this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(m),this.drawScene(ct,this),this.drawHit(J,this),this._isUnderCache=!1,et.restore(),it.restore(),lt&&(et.save(),et.beginPath(),et.rect(0,0,B,q),et.closePath(),et.setAttr("strokeStyle","red"),et.setAttr("lineWidth",5),et.stroke(),et.restore()),this._cache.set(y,{scene:ct,filter:Y,hit:J,x:W,y:Z}),this._requestDraw(),this}isCached(){return this._cache.has(y)}getClientRect(h){throw new Error('abstract "getClientRect" method call')}_transformedRect(h,R){const b=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}];let B=1/0,q=1/0,X=-1/0,W=-1/0;const Z=this.getAbsoluteTransform(R);return b.forEach(function(I){const lt=Z.point(I);B===void 0&&(B=X=lt.x,q=W=lt.y),B=Math.min(B,lt.x),q=Math.min(q,lt.y),X=Math.max(X,lt.x),W=Math.max(W,lt.y)}),{x:B,y:q,width:X-B,height:W-q}}_drawCachedSceneCanvas(h){h.save(),h._applyOpacity(this),h._applyGlobalCompositeOperation(this);const R=this._getCanvasCache();h.translate(R.x,R.y);const b=this._getCachedSceneCanvas(),B=b.pixelRatio;h.drawImage(b._canvas,0,0,b.width/B,b.height/B),h.restore()}_drawCachedHitCanvas(h){const R=this._getCanvasCache(),b=R.hit;h.save(),h.translate(R.x,R.y),h.drawImage(b._canvas,0,0,b.width/b.pixelRatio,b.height/b.pixelRatio),h.restore()}_getCachedSceneCanvas(){let h=this.filters(),R=this._getCanvasCache(),b=R.scene,B=R.filter,q=B.getContext(),X,W,Z,I;if(h){if(!this._filterUpToDate){const lt=b.pixelRatio;B.setSize(b.width/b.pixelRatio,b.height/b.pixelRatio);try{for(X=h.length,q.clear(),q.drawImage(b._canvas,0,0,b.getWidth()/lt,b.getHeight()/lt),W=q.getImageData(0,0,B.getWidth(),B.getHeight()),Z=0;Z<X;Z++){if(I=h[Z],typeof I!="function"){r.Util.error("Filter should be type of function, but got "+typeof I+" instead. Please check correct filters");continue}I.call(this,W),q.putImageData(W,0,0)}}catch(k){r.Util.error("Unable to apply filter. "+k.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return B}return b}on(h,R){if(this._cache&&this._cache.delete(d),arguments.length===3)return this._delegate.apply(this,arguments);let b=h.split(s),B=b.length,q,X,W,Z,I;for(q=0;q<B;q++)X=b[q],W=X.split("."),Z=W[0],I=W[1]||"",this.eventListeners[Z]||(this.eventListeners[Z]=[]),this.eventListeners[Z].push({name:I,handler:R});return this}off(h,R){let b=(h||"").split(s),B=b.length,q,X,W,Z,I,lt;if(this._cache&&this._cache.delete(d),!h)for(X in this.eventListeners)this._off(X);for(q=0;q<B;q++)if(W=b[q],Z=W.split("."),I=Z[0],lt=Z[1],I)this.eventListeners[I]&&this._off(I,lt,R);else for(X in this.eventListeners)this._off(X,lt,R);return this}dispatchEvent(h){const R={target:this,type:h.type,evt:h};return this.fire(h.type,R),this}addEventListener(h,R){return this.on(h,function(b){R.call(this,b.evt)}),this}removeEventListener(h){return this.off(h),this}_delegate(h,R,b){const B=this;this.on(h,function(q){const X=q.target.findAncestors(R,!0,B);for(let W=0;W<X.length;W++)q=r.Util.cloneObject(q),q.currentTarget=X[W],b.call(X[W],q)})}remove(){return this.isDragging()&&this.stopDrag(),E.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(o)}_remove(){this._clearCaches();const h=this.getParent();h&&h.children&&(h.children.splice(this.index,1),h._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(h){const R="get"+r.Util._capitalize(h);return r.Util._isFunction(this[R])?this[R]():this.attrs[h]}getAncestors(){let h=this.getParent(),R=[];for(;h;)R.push(h),h=h.getParent();return R}getAttrs(){return this.attrs||{}}setAttrs(h){return this._batchTransformChanges(()=>{let R,b;if(!h)return this;for(R in h)R!==T&&(b=U+r.Util._capitalize(R),r.Util._isFunction(this[b])?this[b](h[R]):this._setAttr(R,h[R]))}),this}isListening(){return this._getCache(o,this._isListening)}_isListening(h){if(!this.listening())return!1;const b=this.getParent();return b&&b!==h&&this!==h?b._isListening(h):!0}isVisible(){return this._getCache(F,this._isVisible)}_isVisible(h){if(!this.visible())return!1;const b=this.getParent();return b&&b!==h&&this!==h?b._isVisible(h):!0}shouldDrawHit(h,R=!1){if(h)return this._isVisible(h)&&this._isListening(h);const b=this.getLayer();let B=!1;E.DD._dragElements.forEach(X=>{X.dragStatus==="dragging"&&(X.node.nodeType==="Stage"||X.node.getLayer()===b)&&(B=!0)});const q=!R&&!z.Konva.hitOnDragEnabled&&(B||z.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!q}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let h=this.getDepth(),R=this,b=0,B,q,X,W;function Z(lt){for(B=[],q=lt.length,X=0;X<q;X++)W=lt[X],b++,W.nodeType!==u&&(B=B.concat(W.getChildren().slice())),W._id===R._id&&(X=q);B.length>0&&B[0].getDepth()<=h&&Z(B)}const I=this.getStage();return R.nodeType!==O&&I&&Z(I.getChildren()),b}getDepth(){let h=0,R=this.parent;for(;R;)h++,R=R.parent;return h}_batchTransformChanges(h){this._batchingTransformChange=!0,h(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(A),this._clearSelfAndDescendantCache(g)),this._needClearTransformCache=!1}setPosition(h){return this._batchTransformChanges(()=>{this.x(h.x),this.y(h.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const h=this.getStage();if(!h)return null;const R=h.getPointerPosition();if(!R)return null;const b=this.getAbsoluteTransform().copy();return b.invert(),b.point(R)}getAbsolutePosition(h){let R=!1,b=this.parent;for(;b;){if(b.isCached()){R=!0;break}b=b.parent}R&&!h&&(h=!0);const B=this.getAbsoluteTransform(h).getMatrix(),q=new r.Transform,X=this.offset();return q.m=B.slice(),q.translate(X.x,X.y),q.getTranslation()}setAbsolutePosition(h){const{x:R,y:b,...B}=this._clearTransform();this.attrs.x=R,this.attrs.y=b,this._clearCache(A);const q=this._getAbsoluteTransform().copy();return q.invert(),q.translate(h.x,h.y),h={x:this.attrs.x+q.getTranslation().x,y:this.attrs.y+q.getTranslation().y},this._setTransform(B),this.setPosition({x:h.x,y:h.y}),this._clearCache(A),this._clearSelfAndDescendantCache(g),this}_setTransform(h){let R;for(R in h)this.attrs[R]=h[R]}_clearTransform(){const h={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,h}move(h){let R=h.x,b=h.y,B=this.x(),q=this.y();return R!==void 0&&(B+=R),b!==void 0&&(q+=b),this.setPosition({x:B,y:q}),this}_eachAncestorReverse(h,R){let b=[],B=this.getParent(),q,X;if(!(R&&R._id===this._id)){for(b.unshift(this);B&&(!R||B._id!==R._id);)b.unshift(B),B=B.parent;for(q=b.length,X=0;X<q;X++)h(b[X])}}rotate(h){return this.rotation(this.rotation()+h),this}moveToTop(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const h=this.index,R=this.parent.getChildren().length;return h<R-1?(this.parent.children.splice(h,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;const h=this.index,R=this.parent.getChildren().length;return h<R-1?(this.parent.children.splice(h,1),this.parent.children.splice(h+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;const h=this.index;return h>0?(this.parent.children.splice(h,1),this.parent.children.splice(h-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const h=this.index;return h>0?(this.parent.children.splice(h,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(h){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(h<0||h>=this.parent.children.length)&&r.Util.warn("Unexpected value "+h+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const R=this.index;return this.parent.children.splice(R,1),this.parent.children.splice(h,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(p,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let h=this.opacity();const R=this.getParent();return R&&!R._isUnderCache&&(h*=R.getAbsoluteOpacity()),h}moveTo(h){return this.getParent()!==h&&(this._remove(),h.add(this)),this}toObject(){let h=this.getAttrs(),R,b,B,q,X;const W={attrs:{},className:this.getClassName()};for(R in h)b=h[R],X=r.Util.isObject(b)&&!r.Util._isPlainObject(b)&&!r.Util._isArray(b),!X&&(B=typeof this[R]=="function"&&this[R],delete h[R],q=B?B.call(this):null,h[R]=b,q!==b&&(W.attrs[R]=b));return r.Util._prepareToStringify(W)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(h,R,b){const B=[];R&&this._isMatch(h)&&B.push(this);let q=this.parent;for(;q;){if(q===b)return B;q._isMatch(h)&&B.push(q),q=q.parent}return B}isAncestorOf(h){return!1}findAncestor(h,R,b){return this.findAncestors(h,R,b)[0]}_isMatch(h){if(!h)return!1;if(typeof h=="function")return h(this);let R=h.replace(/ /g,"").split(","),b=R.length,B,q;for(B=0;B<b;B++)if(q=R[B],r.Util.isValidSelector(q)||(r.Util.warn('Selector "'+q+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),q.charAt(0)==="#"){if(this.id()===q.slice(1))return!0}else if(q.charAt(0)==="."){if(this.hasName(q.slice(1)))return!0}else if(this.className===q||this.nodeType===q)return!0;return!1}getLayer(){const h=this.getParent();return h?h.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){const h=this.getParent();return h?h.getStage():null}fire(h,R={},b){return R.target=R.target||this,b?this._fireAndBubble(h,R):this._fire(h,R),this}getAbsoluteTransform(h){return h?this._getAbsoluteTransform(h):this._getCache(g,this._getAbsoluteTransform)}_getAbsoluteTransform(h){let R;if(h)return R=new r.Transform,this._eachAncestorReverse(function(b){const B=b.transformsEnabled();B==="all"?R.multiply(b.getTransform()):B==="position"&&R.translate(b.x()-b.offsetX(),b.y()-b.offsetY())},h),R;{R=this._cache.get(g)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(R):R.reset();const b=this.transformsEnabled();if(b==="all")R.multiply(this.getTransform());else if(b==="position"){const B=this.attrs.x||0,q=this.attrs.y||0,X=this.attrs.offsetX||0,W=this.attrs.offsetY||0;R.translate(B-X,q-W)}return R.dirty=!1,R}}getAbsoluteScale(h){let R=this;for(;R;)R._isUnderCache&&(h=R),R=R.getParent();const B=this.getAbsoluteTransform(h).decompose();return{x:B.scaleX,y:B.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(A,this._getTransform)}_getTransform(){var h,R;const b=this._cache.get(A)||new r.Transform;b.reset();const B=this.x(),q=this.y(),X=z.Konva.getAngle(this.rotation()),W=(h=this.attrs.scaleX)!==null&&h!==void 0?h:1,Z=(R=this.attrs.scaleY)!==null&&R!==void 0?R:1,I=this.attrs.skewX||0,lt=this.attrs.skewY||0,k=this.attrs.offsetX||0,tt=this.attrs.offsetY||0;return(B!==0||q!==0)&&b.translate(B,q),X!==0&&b.rotate(X),(I!==0||lt!==0)&&b.skew(I,lt),(W!==1||Z!==1)&&b.scale(W,Z),(k!==0||tt!==0)&&b.translate(-1*k,-1*tt),b.dirty=!1,b}clone(h){let R=r.Util.cloneObject(this.attrs),b,B,q,X,W;for(b in h)R[b]=h[b];const Z=new this.constructor(R);for(b in this.eventListeners)for(B=this.eventListeners[b],q=B.length,X=0;X<q;X++)W=B[X],W.name.indexOf(f)<0&&(Z.eventListeners[b]||(Z.eventListeners[b]=[]),Z.eventListeners[b].push(W));return Z}_toKonvaCanvas(h){h=h||{};const R=this.getClientRect(),b=this.getStage(),B=h.x!==void 0?h.x:Math.floor(R.x),q=h.y!==void 0?h.y:Math.floor(R.y),X=h.pixelRatio||1,W=new V.SceneCanvas({width:h.width||Math.ceil(R.width)||(b?b.width():0),height:h.height||Math.ceil(R.height)||(b?b.height():0),pixelRatio:X}),Z=W.getContext(),I=new V.SceneCanvas({width:W.width/W.pixelRatio+Math.abs(B),height:W.height/W.pixelRatio+Math.abs(q),pixelRatio:W.pixelRatio});return h.imageSmoothingEnabled===!1&&(Z._context.imageSmoothingEnabled=!1),Z.save(),(B||q)&&Z.translate(-1*B,-1*q),this.drawScene(W,void 0,I),Z.restore(),W}toCanvas(h){return this._toKonvaCanvas(h)._canvas}toDataURL(h){h=h||{};const R=h.mimeType||null,b=h.quality||null,B=this._toKonvaCanvas(h).toDataURL(R,b);return h.callback&&h.callback(B),B}toImage(h){return new Promise((R,b)=>{try{const B=h?.callback;B&&delete h.callback,r.Util._urlToImage(this.toDataURL(h),function(q){R(q),B?.(q)})}catch(B){b(B)}})}toBlob(h){return new Promise((R,b)=>{try{const B=h?.callback;B&&delete h.callback,this.toCanvas(h).toBlob(q=>{R(q),B?.(q)},h?.mimeType,h?.quality)}catch(B){b(B)}})}setSize(h){return this.width(h.width),this.height(h.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():z.Konva.dragDistance}_off(h,R,b){let B=this.eventListeners[h],q,X,W;for(q=0;q<B.length;q++)if(X=B[q].name,W=B[q].handler,(X!=="konva"||R==="konva")&&(!R||X===R)&&(!b||b===W)){if(B.splice(q,1),B.length===0){delete this.eventListeners[h];break}q--}}_fireChangeEvent(h,R,b){this._fire(h+N,{oldVal:R,newVal:b})}addName(h){if(!this.hasName(h)){const R=this.name(),b=R?R+" "+h:h;this.name(b)}return this}hasName(h){if(!h)return!1;const R=this.name();return R?(R||"").split(/\s/g).indexOf(h)!==-1:!1}removeName(h){const R=(this.name()||"").split(/\s/g),b=R.indexOf(h);return b!==-1&&(R.splice(b,1),this.name(R.join(" "))),this}setAttr(h,R){const b=this[U+r.Util._capitalize(h)];return r.Util._isFunction(b)?b.call(this,R):this._setAttr(h,R),this}_requestDraw(){if(z.Konva.autoDrawEnabled){const h=this.getLayer()||this.getStage();h?.batchDraw()}}_setAttr(h,R){const b=this.attrs[h];b===R&&!r.Util.isObject(R)||(R==null?delete this.attrs[h]:this.attrs[h]=R,this._shouldFireChangeEvents&&this._fireChangeEvent(h,b,R),this._requestDraw())}_setComponentAttr(h,R,b){let B;b!==void 0&&(B=this.attrs[h],B||(this.attrs[h]=this.getAttr(h)),this.attrs[h][R]=b,this._fireChangeEvent(h,B,b))}_fireAndBubble(h,R,b){if(R&&this.nodeType===u&&(R.target=this),!((h===S||h===C)&&(b&&(this===b||this.isAncestorOf&&this.isAncestorOf(b))||this.nodeType==="Stage"&&!b))){this._fire(h,R);const q=(h===S||h===C)&&b&&b.isAncestorOf&&b.isAncestorOf(this)&&!b.isAncestorOf(this.parent);(R&&!R.cancelBubble||!R)&&this.parent&&this.parent.isListening()&&!q&&(b&&b.parent?this._fireAndBubble.call(this.parent,h,R,b):this._fireAndBubble.call(this.parent,h,R))}}_getProtoListeners(h){var R,b,B;const q=(R=this._cache.get(d))!==null&&R!==void 0?R:{};let X=q?.[h];if(X===void 0){X=[];let W=Object.getPrototypeOf(this);for(;W;){const Z=(B=(b=W.eventListeners)===null||b===void 0?void 0:b[h])!==null&&B!==void 0?B:[];X.push(...Z),W=Object.getPrototypeOf(W)}q[h]=X,this._cache.set(d,q)}return X}_fire(h,R){R=R||{},R.currentTarget=this,R.type=h;const b=this._getProtoListeners(h);if(b)for(var B=0;B<b.length;B++)b[B].handler.call(this,R);const q=this.eventListeners[h];if(q)for(var B=0;B<q.length;B++)q[B].handler.call(this,R)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(h){const R=h?h.pointerId:void 0,b=this.getStage(),B=this.getAbsolutePosition();if(!b)return;const q=b._getPointerById(R)||b._changedPointerPositions[0]||B;E.DD._dragElements.set(this._id,{node:this,startPointerPos:q,offset:{x:q.x-B.x,y:q.y-B.y},dragStatus:"ready",pointerId:R})}startDrag(h,R=!0){E.DD._dragElements.has(this._id)||this._createDragElement(h);const b=E.DD._dragElements.get(this._id);b.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:h&&h.evt},R)}_setDragPosition(h,R){const b=this.getStage()._getPointerById(R.pointerId);if(!b)return;let B={x:b.x-R.offset.x,y:b.y-R.offset.y};const q=this.dragBoundFunc();if(q!==void 0){const X=q.call(this,B,h);X?B=X:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==B.x||this._lastPos.y!==B.y)&&(this.setAbsolutePosition(B),this._requestDraw()),this._lastPos=B}stopDrag(h){const R=E.DD._dragElements.get(this._id);R&&(R.dragStatus="stopped"),E.DD._endDragBefore(h),E.DD._endDragAfter(h)}setDraggable(h){this._setAttr("draggable",h),this._dragChange()}isDragging(){const h=E.DD._dragElements.get(this._id);return h?h.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(h){if(!(!(h.evt.button!==void 0)||z.Konva.dragButtons.indexOf(h.evt.button)>=0)||this.isDragging())return;let B=!1;E.DD._dragElements.forEach(q=>{this.isAncestorOf(q.node)&&(B=!0)}),B||this._createDragElement(h)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const R=E.DD._dragElements.get(this._id),b=R&&R.dragStatus==="dragging",B=R&&R.dragStatus==="ready";b?this.stopDrag():B&&E.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(h={x:0,y:0}){const R=this.getStage();if(!R)return!1;const b={x:-h.x,y:-h.y,width:R.width()+2*h.x,height:R.height()+2*h.y};return r.Util.haveIntersection(b,this.getClientRect())}static create(h,R){return r.Util._isString(h)&&(h=JSON.parse(h)),this._createNode(h,R)}static _createNode(h,R){let b=Br.prototype.getClassName.call(h),B=h.children,q,X,W;R&&(h.attrs.container=R),z.Konva[b]||(r.Util.warn('Can not find a node with class name "'+b+'". Fallback to "Shape".'),b="Shape");const Z=z.Konva[b];if(q=new Z(h.attrs),B)for(X=B.length,W=0;W<X;W++)q.add(Br._createNode(B[W]));return q}};li.Node=M,M.prototype.nodeType="Node",M.prototype._attrsAffectingSize=[],M.prototype.eventListeners={},M.prototype.on.call(M.prototype,D,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(A),this._clearSelfAndDescendantCache(g)}),M.prototype.on.call(M.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(F)}),M.prototype.on.call(M.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(o)}),M.prototype.on.call(M.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(p)});const H=c.Factory.addGetterSetter;return H(M,"zIndex"),H(M,"absolutePosition"),H(M,"position"),H(M,"x",0,(0,_.getNumberValidator)()),H(M,"y",0,(0,_.getNumberValidator)()),H(M,"globalCompositeOperation","source-over",(0,_.getStringValidator)()),H(M,"opacity",1,(0,_.getNumberValidator)()),H(M,"name","",(0,_.getStringValidator)()),H(M,"id","",(0,_.getStringValidator)()),H(M,"rotation",0,(0,_.getNumberValidator)()),c.Factory.addComponentsGetterSetter(M,"scale",["x","y"]),H(M,"scaleX",1,(0,_.getNumberValidator)()),H(M,"scaleY",1,(0,_.getNumberValidator)()),c.Factory.addComponentsGetterSetter(M,"skew",["x","y"]),H(M,"skewX",0,(0,_.getNumberValidator)()),H(M,"skewY",0,(0,_.getNumberValidator)()),c.Factory.addComponentsGetterSetter(M,"offset",["x","y"]),H(M,"offsetX",0,(0,_.getNumberValidator)()),H(M,"offsetY",0,(0,_.getNumberValidator)()),H(M,"dragDistance",void 0,(0,_.getNumberValidator)()),H(M,"width",0,(0,_.getNumberValidator)()),H(M,"height",0,(0,_.getNumberValidator)()),H(M,"listening",!0,(0,_.getBooleanValidator)()),H(M,"preventDefault",!0,(0,_.getBooleanValidator)()),H(M,"filters",void 0,function(P){return this._filterUpToDate=!1,P}),H(M,"visible",!0,(0,_.getBooleanValidator)()),H(M,"transformsEnabled","all",(0,_.getStringValidator)()),H(M,"size"),H(M,"dragBoundFunc"),H(M,"draggable",!1,(0,_.getBooleanValidator)()),c.Factory.backCompat(M,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),li}var si={},Fc;function Fl(){if(Fc)return si;Fc=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Container=void 0;const r=Ct(),c=wt(),V=Et();let z=class extends c.Node{constructor(){super(...arguments),this.children=[]}getChildren(_){if(!_)return this.children||[];const p=this.children||[],d=[];return p.forEach(function(g){_(g)&&d.push(g)}),d}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(_=>{_.parent=null,_.index=0,_.destroy()}),this.children=[],this._requestDraw(),this}add(..._){if(_.length===0)return this;if(_.length>1){for(let d=0;d<_.length;d++)this.add(_[d]);return this}const p=_[0];return p.getParent()?(p.moveTo(this),this):(this._validateAdd(p),p.index=this.getChildren().length,p.parent=this,p._clearCaches(),this.getChildren().push(p),this._fire("add",{child:p}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(_){return this._generalFind(_,!1)}findOne(_){const p=this._generalFind(_,!0);return p.length>0?p[0]:void 0}_generalFind(_,p){const d=[];return this._descendants(g=>{const m=g._isMatch(_);return m&&d.push(g),!!(m&&p)}),d}_descendants(_){let p=!1;const d=this.getChildren();for(const g of d){if(p=_(g),p)return!0;if(g.hasChildren()&&(p=g._descendants(_),p))return!0}return!1}toObject(){const _=c.Node.prototype.toObject.call(this);return _.children=[],this.getChildren().forEach(p=>{_.children.push(p.toObject())}),_}isAncestorOf(_){let p=_.getParent();for(;p;){if(p._id===this._id)return!0;p=p.getParent()}return!1}clone(_){const p=c.Node.prototype.clone.call(this,_);return this.getChildren().forEach(function(d){p.add(d.clone())}),p}getAllIntersections(_){const p=[];return this.find("Shape").forEach(d=>{d.isVisible()&&d.intersects(_)&&p.push(d)}),p}_clearSelfAndDescendantCache(_){var p;super._clearSelfAndDescendantCache(_),!this.isCached()&&((p=this.children)===null||p===void 0||p.forEach(function(d){d._clearSelfAndDescendantCache(_)}))}_setChildrenIndices(){var _;(_=this.children)===null||_===void 0||_.forEach(function(p,d){p.index=d}),this._requestDraw()}drawScene(_,p,d){const g=this.getLayer(),m=_||g&&g.getCanvas(),y=m&&m.getContext(),N=this._getCanvasCache(),T=N&&N.scene,f=m&&m.isCache;if(!this.isVisible()&&!f)return this;if(T){y.save();const o=this.getAbsoluteTransform(p).getMatrix();y.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._drawCachedSceneCanvas(y),y.restore()}else this._drawChildren("drawScene",m,p,d);return this}drawHit(_,p){if(!this.shouldDrawHit(p))return this;const d=this.getLayer(),g=_||d&&d.hitCanvas,m=g&&g.getContext(),y=this._getCanvasCache();if(y&&y.hit){m.save();const T=this.getAbsoluteTransform(p).getMatrix();m.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._drawCachedHitCanvas(m),m.restore()}else this._drawChildren("drawHit",g,p);return this}_drawChildren(_,p,d,g){var m;const y=p&&p.getContext(),N=this.clipWidth(),T=this.clipHeight(),f=this.clipFunc(),o=typeof N=="number"&&typeof T=="number"||f,S=d===this;if(o){y.save();const U=this.getAbsoluteTransform(d);let u=U.getMatrix();y.transform(u[0],u[1],u[2],u[3],u[4],u[5]),y.beginPath();let s;if(f)s=f.call(this,y,this);else{const v=this.clipX(),A=this.clipY();y.rect(v||0,A||0,N,T)}y.clip.apply(y,s),u=U.copy().invert().getMatrix(),y.transform(u[0],u[1],u[2],u[3],u[4],u[5])}const C=!S&&this.globalCompositeOperation()!=="source-over"&&_==="drawScene";C&&(y.save(),y._applyGlobalCompositeOperation(this)),(m=this.children)===null||m===void 0||m.forEach(function(U){U[_](p,d,g)}),C&&y.restore(),o&&y.restore()}getClientRect(_={}){var p;const d=_.skipTransform,g=_.relativeTo;let m,y,N,T,f={x:1/0,y:1/0,width:0,height:0};const o=this;(p=this.children)===null||p===void 0||p.forEach(function(U){if(!U.visible())return;const u=U.getClientRect({relativeTo:o,skipShadow:_.skipShadow,skipStroke:_.skipStroke});u.width===0&&u.height===0||(m===void 0?(m=u.x,y=u.y,N=u.x+u.width,T=u.y+u.height):(m=Math.min(m,u.x),y=Math.min(y,u.y),N=Math.max(N,u.x+u.width),T=Math.max(T,u.y+u.height)))});const S=this.find("Shape");let C=!1;for(let U=0;U<S.length;U++)if(S[U]._isVisible(this)){C=!0;break}return C&&m!==void 0?f={x:m,y,width:N-m,height:T-y}:f={x:0,y:0,width:0,height:0},d?f:this._transformedRect(f,g)}};return si.Container=z,r.Factory.addComponentsGetterSetter(z,"clip",["x","y","width","height"]),r.Factory.addGetterSetter(z,"clipX",void 0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(z,"clipY",void 0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(z,"clipWidth",void 0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(z,"clipHeight",void 0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(z,"clipFunc"),si}var Mr={},Ha={},Pc;function Qh(){if(Pc)return Ha;Pc=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.getCapturedShape=z,Ha.createEvent=E,Ha.hasPointerCapture=_,Ha.setPointerCapture=p,Ha.releaseCapture=d;const r=_t(),c=new Map,V=r.Konva._global.PointerEvent!==void 0;function z(g){return c.get(g)}function E(g){return{evt:g,pointerId:g.pointerId}}function _(g,m){return c.get(g)===m}function p(g,m){d(g),m.getStage()&&(c.set(g,m),V&&m._fire("gotpointercapture",E(new PointerEvent("gotpointercapture"))))}function d(g,m){const y=c.get(g);if(!y)return;const N=y.getStage();N&&N.content,c.delete(g),V&&y._fire("lostpointercapture",E(new PointerEvent("lostpointercapture")))}return Ha}var Kc;function vd(){return Kc||(Kc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Stage=r.stages=void 0;const c=Kt(),V=Ct(),z=Fl(),E=_t(),_=Yl(),p=qr(),d=_t(),g=Qh(),m="Stage",y="string",N="px",T="mouseout",f="mouseleave",o="mouseover",S="mouseenter",C="mousemove",U="mousedown",u="mouseup",s="pointermove",v="pointerdown",A="pointerup",O="pointercancel",F="lostpointercapture",D="pointerout",x="pointerleave",M="pointerover",H="pointerenter",P="contextmenu",h="touchstart",R="touchend",b="touchmove",B="touchcancel",q="wheel",X=5,W=[[S,"_pointerenter"],[U,"_pointerdown"],[C,"_pointermove"],[u,"_pointerup"],[f,"_pointerleave"],[h,"_pointerdown"],[b,"_pointermove"],[R,"_pointerup"],[B,"_pointercancel"],[o,"_pointerover"],[q,"_wheel"],[P,"_contextmenu"],[v,"_pointerdown"],[s,"_pointermove"],[A,"_pointerup"],[O,"_pointercancel"],[F,"_lostpointercapture"]],Z={mouse:{[D]:T,[x]:f,[M]:o,[H]:S,[s]:C,[v]:U,[A]:u,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[D]:"touchout",[x]:"touchleave",[M]:"touchover",[H]:"touchenter",[s]:b,[v]:h,[A]:R,[O]:B,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[D]:D,[x]:x,[M]:M,[H]:H,[s]:s,[v]:v,[A]:A,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},I=ct=>ct.indexOf("pointer")>=0?"pointer":ct.indexOf("touch")>=0?"touch":"mouse",lt=ct=>{const Y=I(ct);if(Y==="pointer")return E.Konva.pointerEventsEnabled&&Z.pointer;if(Y==="touch")return Z.touch;if(Y==="mouse")return Z.mouse};function k(ct={}){return(ct.clipFunc||ct.clipWidth||ct.clipHeight)&&c.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ct}const tt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";r.stages=[];class rt extends z.Container{constructor(Y){super(k(Y)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),r.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{k(this.attrs)}),this._checkVisibility()}_validateAdd(Y){const J=Y.getType()==="Layer",et=Y.getType()==="FastLayer";J||et||c.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Y=this.visible()?"":"none";this.content.style.display=Y}setContainer(Y){if(typeof Y===y){if(Y.charAt(0)==="."){const et=Y.slice(1);Y=document.getElementsByClassName(et)[0]}else{var J;Y.charAt(0)!=="#"?J=Y:J=Y.slice(1),Y=document.getElementById(J)}if(!Y)throw"Can not find container in document with id "+J}return this._setAttr("container",Y),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Y.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const Y=this.children,J=Y.length;for(let et=0;et<J;et++)Y[et].clear();return this}clone(Y){return Y||(Y={}),Y.container=typeof document<"u"&&document.createElement("div"),z.Container.prototype.clone.call(this,Y)}destroy(){super.destroy();const Y=this.content;Y&&c.Util._isInDocument(Y)&&this.container().removeChild(Y);const J=r.stages.indexOf(this);return J>-1&&r.stages.splice(J,1),c.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Y=this._pointerPositions[0]||this._changedPointerPositions[0];return Y?{x:Y.x,y:Y.y}:(c.Util.warn(tt),null)}_getPointerById(Y){return this._pointerPositions.find(J=>J.id===Y)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Y){Y=Y||{},Y.x=Y.x||0,Y.y=Y.y||0,Y.width=Y.width||this.width(),Y.height=Y.height||this.height();const J=new _.SceneCanvas({width:Y.width,height:Y.height,pixelRatio:Y.pixelRatio||1}),et=J.getContext()._context,it=this.children;return(Y.x||Y.y)&&et.translate(-1*Y.x,-1*Y.y),it.forEach(function(ot){if(!ot.isVisible())return;const ht=ot._toKonvaCanvas(Y);et.drawImage(ht._canvas,Y.x,Y.y,ht.getWidth()/ht.getPixelRatio(),ht.getHeight()/ht.getPixelRatio())}),J}getIntersection(Y){if(!Y)return null;const J=this.children,et=J.length,it=et-1;for(let ot=it;ot>=0;ot--){const ht=J[ot].getIntersection(Y);if(ht)return ht}return null}_resizeDOM(){const Y=this.width(),J=this.height();this.content&&(this.content.style.width=Y+N,this.content.style.height=J+N),this.bufferCanvas.setSize(Y,J),this.bufferHitCanvas.setSize(Y,J),this.children.forEach(et=>{et.setSize({width:Y,height:J}),et.draw()})}add(Y,...J){if(arguments.length>1){for(let it=0;it<arguments.length;it++)this.add(arguments[it]);return this}super.add(Y);const et=this.children.length;return et>X&&c.Util.warn("The stage has "+et+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Y.setSize({width:this.width(),height:this.height()}),Y.draw(),E.Konva.isBrowser&&this.content.appendChild(Y.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Y){return g.hasPointerCapture(Y,this)}setPointerCapture(Y){g.setPointerCapture(Y,this)}releaseCapture(Y){g.releaseCapture(Y,this)}getLayers(){return this.children}_bindContentEvents(){E.Konva.isBrowser&&W.forEach(([Y,J])=>{this.content.addEventListener(Y,et=>{this[J](et)},{passive:!1})})}_pointerenter(Y){this.setPointersPositions(Y);const J=lt(Y.type);J&&this._fire(J.pointerenter,{evt:Y,target:this,currentTarget:this})}_pointerover(Y){this.setPointersPositions(Y);const J=lt(Y.type);J&&this._fire(J.pointerover,{evt:Y,target:this,currentTarget:this})}_getTargetShape(Y){let J=this[Y+"targetShape"];return J&&!J.getStage()&&(J=null),J}_pointerleave(Y){const J=lt(Y.type),et=I(Y.type);if(!J)return;this.setPointersPositions(Y);const it=this._getTargetShape(et),ot=!(E.Konva.isDragging()||E.Konva.isTransforming())||E.Konva.hitOnDragEnabled;it&&ot?(it._fireAndBubble(J.pointerout,{evt:Y}),it._fireAndBubble(J.pointerleave,{evt:Y}),this._fire(J.pointerleave,{evt:Y,target:this,currentTarget:this}),this[et+"targetShape"]=null):ot&&(this._fire(J.pointerleave,{evt:Y,target:this,currentTarget:this}),this._fire(J.pointerout,{evt:Y,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(Y){const J=lt(Y.type),et=I(Y.type);if(!J)return;this.setPointersPositions(Y);let it=!1;this._changedPointerPositions.forEach(ot=>{const ht=this.getIntersection(ot);if(p.DD.justDragged=!1,E.Konva["_"+et+"ListenClick"]=!0,!ht||!ht.isListening()){this[et+"ClickStartShape"]=void 0;return}E.Konva.capturePointerEventsEnabled&&ht.setPointerCapture(ot.id),this[et+"ClickStartShape"]=ht,ht._fireAndBubble(J.pointerdown,{evt:Y,pointerId:ot.id}),it=!0;const Tt=Y.type.indexOf("touch")>=0;ht.preventDefault()&&Y.cancelable&&Tt&&Y.preventDefault()}),it||this._fire(J.pointerdown,{evt:Y,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(Y){const J=lt(Y.type),et=I(Y.type);if(!J||(E.Konva.isDragging()&&p.DD.node.preventDefault()&&Y.cancelable&&Y.preventDefault(),this.setPointersPositions(Y),!(!(E.Konva.isDragging()||E.Konva.isTransforming())||E.Konva.hitOnDragEnabled)))return;const ot={};let ht=!1;const Tt=this._getTargetShape(et);this._changedPointerPositions.forEach(Dt=>{const mt=g.getCapturedShape(Dt.id)||this.getIntersection(Dt),Bt=Dt.id,Ot={evt:Y,pointerId:Bt},qt=Tt!==mt;if(qt&&Tt&&(Tt._fireAndBubble(J.pointerout,{...Ot},mt),Tt._fireAndBubble(J.pointerleave,{...Ot},mt)),mt){if(ot[mt._id])return;ot[mt._id]=!0}mt&&mt.isListening()?(ht=!0,qt&&(mt._fireAndBubble(J.pointerover,{...Ot},Tt),mt._fireAndBubble(J.pointerenter,{...Ot},Tt),this[et+"targetShape"]=mt),mt._fireAndBubble(J.pointermove,{...Ot})):Tt&&(this._fire(J.pointerover,{evt:Y,target:this,currentTarget:this,pointerId:Bt}),this[et+"targetShape"]=null)}),ht||this._fire(J.pointermove,{evt:Y,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Y){const J=lt(Y.type),et=I(Y.type);if(!J)return;this.setPointersPositions(Y);const it=this[et+"ClickStartShape"],ot=this[et+"ClickEndShape"],ht={};let Tt=!1;this._changedPointerPositions.forEach(Dt=>{const mt=g.getCapturedShape(Dt.id)||this.getIntersection(Dt);if(mt){if(mt.releaseCapture(Dt.id),ht[mt._id])return;ht[mt._id]=!0}const Bt=Dt.id,Ot={evt:Y,pointerId:Bt};let qt=!1;E.Konva["_"+et+"InDblClickWindow"]?(qt=!0,clearTimeout(this[et+"DblTimeout"])):p.DD.justDragged||(E.Konva["_"+et+"InDblClickWindow"]=!0,clearTimeout(this[et+"DblTimeout"])),this[et+"DblTimeout"]=setTimeout(function(){E.Konva["_"+et+"InDblClickWindow"]=!1},E.Konva.dblClickWindow),mt&&mt.isListening()?(Tt=!0,this[et+"ClickEndShape"]=mt,mt._fireAndBubble(J.pointerup,{...Ot}),E.Konva["_"+et+"ListenClick"]&&it&&it===mt&&(mt._fireAndBubble(J.pointerclick,{...Ot}),qt&&ot&&ot===mt&&mt._fireAndBubble(J.pointerdblclick,{...Ot}))):(this[et+"ClickEndShape"]=null,E.Konva["_"+et+"ListenClick"]&&this._fire(J.pointerclick,{evt:Y,target:this,currentTarget:this,pointerId:Bt}),qt&&this._fire(J.pointerdblclick,{evt:Y,target:this,currentTarget:this,pointerId:Bt}))}),Tt||this._fire(J.pointerup,{evt:Y,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),E.Konva["_"+et+"ListenClick"]=!1,Y.cancelable&&et!=="touch"&&et!=="pointer"&&Y.preventDefault()}_contextmenu(Y){this.setPointersPositions(Y);const J=this.getIntersection(this.getPointerPosition());J&&J.isListening()?J._fireAndBubble(P,{evt:Y}):this._fire(P,{evt:Y,target:this,currentTarget:this})}_wheel(Y){this.setPointersPositions(Y);const J=this.getIntersection(this.getPointerPosition());J&&J.isListening()?J._fireAndBubble(q,{evt:Y}):this._fire(q,{evt:Y,target:this,currentTarget:this})}_pointercancel(Y){this.setPointersPositions(Y);const J=g.getCapturedShape(Y.pointerId)||this.getIntersection(this.getPointerPosition());J&&J._fireAndBubble(A,g.createEvent(Y)),g.releaseCapture(Y.pointerId)}_lostpointercapture(Y){g.releaseCapture(Y.pointerId)}setPointersPositions(Y){const J=this._getContentPosition();let et=null,it=null;Y=Y||window.event,Y.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Y.touches,ot=>{this._pointerPositions.push({id:ot.identifier,x:(ot.clientX-J.left)/J.scaleX,y:(ot.clientY-J.top)/J.scaleY})}),Array.prototype.forEach.call(Y.changedTouches||Y.touches,ot=>{this._changedPointerPositions.push({id:ot.identifier,x:(ot.clientX-J.left)/J.scaleX,y:(ot.clientY-J.top)/J.scaleY})})):(et=(Y.clientX-J.left)/J.scaleX,it=(Y.clientY-J.top)/J.scaleY,this.pointerPos={x:et,y:it},this._pointerPositions=[{x:et,y:it,id:c.Util._getFirstPointerId(Y)}],this._changedPointerPositions=[{x:et,y:it,id:c.Util._getFirstPointerId(Y)}])}_setPointerPosition(Y){c.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Y)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const Y=this.content.getBoundingClientRect();return{top:Y.top,left:Y.left,scaleX:Y.width/this.content.clientWidth||1,scaleY:Y.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new _.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new _.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!E.Konva.isBrowser)return;const Y=this.container();if(!Y)throw"Stage has no container. A container is required.";Y.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Y.appendChild(this.content),this._resizeDOM()}cache(){return c.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Y){Y.batchDraw()}),this}}r.Stage=rt,rt.prototype.nodeType=m,(0,d._registerNode)(rt),V.Factory.addGetterSetter(rt,"container"),E.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{r.stages.forEach(ct=>{ct.batchDraw()})})}(Mr)),Mr}var ri={},xr={},Xc;function re(){return Xc||(Xc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Shape=r.shapes=void 0;const c=_t(),V=Kt(),z=Ct(),E=wt(),_=Et(),p=_t(),d=Qh(),g="hasShadow",m="shadowRGBA",y="patternImage",N="linearGradient",T="radialGradient";let f;function o(){return f||(f=V.Util.createCanvasElement().getContext("2d"),f)}r.shapes={};function S(x){const M=this.attrs.fillRule;M?x.fill(M):x.fill()}function C(x){x.stroke()}function U(x){const M=this.attrs.fillRule;M?x.fill(M):x.fill()}function u(x){x.stroke()}function s(){this._clearCache(g)}function v(){this._clearCache(m)}function A(){this._clearCache(y)}function O(){this._clearCache(N)}function F(){this._clearCache(T)}class D extends E.Node{constructor(M){super(M);let H;for(;H=V.Util.getRandomColor(),!(H&&!(H in r.shapes)););this.colorKey=H,r.shapes[H]=this}getContext(){return V.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return V.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(g,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(y,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const H=o().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(H&&H.setTransform){const P=new V.Transform;P.translate(this.fillPatternX(),this.fillPatternY()),P.rotate(c.Konva.getAngle(this.fillPatternRotation())),P.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),P.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const h=P.getMatrix(),R=typeof DOMMatrix>"u"?{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}:new DOMMatrix(h);H.setTransform(R)}return H}}_getLinearGradient(){return this._getCache(N,this.__getLinearGradient)}__getLinearGradient(){const M=this.fillLinearGradientColorStops();if(M){const H=o(),P=this.fillLinearGradientStartPoint(),h=this.fillLinearGradientEndPoint(),R=H.createLinearGradient(P.x,P.y,h.x,h.y);for(let b=0;b<M.length;b+=2)R.addColorStop(M[b],M[b+1]);return R}}_getRadialGradient(){return this._getCache(T,this.__getRadialGradient)}__getRadialGradient(){const M=this.fillRadialGradientColorStops();if(M){const H=o(),P=this.fillRadialGradientStartPoint(),h=this.fillRadialGradientEndPoint(),R=H.createRadialGradient(P.x,P.y,this.fillRadialGradientStartRadius(),h.x,h.y,this.fillRadialGradientEndRadius());for(let b=0;b<M.length;b+=2)R.addColorStop(M[b],M[b+1]);return R}}getShadowRGBA(){return this._getCache(m,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const M=V.Util.colorToRGBA(this.shadowColor());if(M)return"rgba("+M.r+","+M.g+","+M.b+","+M.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const M=this.hitStrokeWidth();return M==="auto"?this.hasStroke():this.strokeEnabled()&&!!M}intersects(M){const H=this.getStage();if(!H)return!1;const P=H.bufferHitCanvas;return P.getContext().clear(),this.drawHit(P,void 0,!0),P.context.getImageData(Math.round(M.x),Math.round(M.y),1,1).data[3]>0}destroy(){return E.Node.prototype.destroy.call(this),delete r.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(M){var H;if(!((H=this.attrs.perfectDrawEnabled)!==null&&H!==void 0?H:!0))return!1;const h=M||this.hasFill(),R=this.hasStroke(),b=this.getAbsoluteOpacity()!==1;if(h&&R&&b)return!0;const B=this.hasShadow(),q=this.shadowForStrokeEnabled();return!!(h&&R&&B&&q)}setStrokeHitEnabled(M){V.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),M?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const M=this.size();return{x:this._centroid?-M.width/2:0,y:this._centroid?-M.height/2:0,width:M.width,height:M.height}}getClientRect(M={}){let H=!1,P=this.getParent();for(;P;){if(P.isCached()){H=!0;break}P=P.getParent()}const h=M.skipTransform,R=M.relativeTo||H&&this.getStage()||void 0,b=this.getSelfRect(),q=!M.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,X=b.width+q,W=b.height+q,Z=!M.skipShadow&&this.hasShadow(),I=Z?this.shadowOffsetX():0,lt=Z?this.shadowOffsetY():0,k=X+Math.abs(I),tt=W+Math.abs(lt),rt=Z&&this.shadowBlur()||0,ct=k+rt*2,Y=tt+rt*2,J={width:ct,height:Y,x:-(q/2+rt)+Math.min(I,0)+b.x,y:-(q/2+rt)+Math.min(lt,0)+b.y};return h?J:this._transformedRect(J,R)}drawScene(M,H,P){const h=this.getLayer();let R=M||h.getCanvas(),b=R.getContext(),B=this._getCanvasCache(),q=this.getSceneFunc(),X=this.hasShadow(),W,Z;const I=R.isCache,lt=H===this;if(!this.isVisible()&&!lt)return this;if(B){b.save();const tt=this.getAbsoluteTransform(H).getMatrix();return b.transform(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5]),this._drawCachedSceneCanvas(b),b.restore(),this}if(!q)return this;if(b.save(),this._useBufferCanvas()&&!I){W=this.getStage();const tt=P||W.bufferCanvas;Z=tt.getContext(),Z.clear(),Z.save(),Z._applyLineJoin(this);var k=this.getAbsoluteTransform(H).getMatrix();Z.transform(k[0],k[1],k[2],k[3],k[4],k[5]),q.call(this,Z,this),Z.restore();const rt=tt.pixelRatio;X&&b._applyShadow(this),b._applyOpacity(this),b._applyGlobalCompositeOperation(this),b.drawImage(tt._canvas,0,0,tt.width/rt,tt.height/rt)}else{if(b._applyLineJoin(this),!lt){var k=this.getAbsoluteTransform(H).getMatrix();b.transform(k[0],k[1],k[2],k[3],k[4],k[5]),b._applyOpacity(this),b._applyGlobalCompositeOperation(this)}X&&b._applyShadow(this),q.call(this,b,this)}return b.restore(),this}drawHit(M,H,P=!1){if(!this.shouldDrawHit(H,P))return this;const h=this.getLayer(),R=M||h.hitCanvas,b=R&&R.getContext(),B=this.hitFunc()||this.sceneFunc(),q=this._getCanvasCache(),X=q&&q.hit;if(this.colorKey||V.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),X){b.save();const Z=this.getAbsoluteTransform(H).getMatrix();return b.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),this._drawCachedHitCanvas(b),b.restore(),this}if(!B)return this;if(b.save(),b._applyLineJoin(this),!(this===H)){const Z=this.getAbsoluteTransform(H).getMatrix();b.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])}return B.call(this,b,this),b.restore(),this}drawHitFromCache(M=0){const H=this._getCanvasCache(),P=this._getCachedSceneCanvas(),h=H.hit,R=h.getContext(),b=h.getWidth(),B=h.getHeight();R.clear(),R.drawImage(P._canvas,0,0,b,B);try{const q=R.getImageData(0,0,b,B),X=q.data,W=X.length,Z=V.Util._hexToRgb(this.colorKey);for(let I=0;I<W;I+=4)X[I+3]>M?(X[I]=Z.r,X[I+1]=Z.g,X[I+2]=Z.b,X[I+3]=255):X[I+3]=0;R.putImageData(q,0,0)}catch(q){V.Util.error("Unable to draw hit graph from cached scene canvas. "+q.message)}return this}hasPointerCapture(M){return d.hasPointerCapture(M,this)}setPointerCapture(M){d.setPointerCapture(M,this)}releaseCapture(M){d.releaseCapture(M,this)}}r.Shape=D,D.prototype._fillFunc=S,D.prototype._strokeFunc=C,D.prototype._fillFuncHit=U,D.prototype._strokeFuncHit=u,D.prototype._centroid=!1,D.prototype.nodeType="Shape",(0,p._registerNode)(D),D.prototype.eventListeners={},D.prototype.on.call(D.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",s),D.prototype.on.call(D.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",A),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),z.Factory.addGetterSetter(D,"stroke",void 0,(0,_.getStringOrGradientValidator)()),z.Factory.addGetterSetter(D,"strokeWidth",2,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"fillAfterStrokeEnabled",!1),z.Factory.addGetterSetter(D,"hitStrokeWidth","auto",(0,_.getNumberOrAutoValidator)()),z.Factory.addGetterSetter(D,"strokeHitEnabled",!0,(0,_.getBooleanValidator)()),z.Factory.addGetterSetter(D,"perfectDrawEnabled",!0,(0,_.getBooleanValidator)()),z.Factory.addGetterSetter(D,"shadowForStrokeEnabled",!0,(0,_.getBooleanValidator)()),z.Factory.addGetterSetter(D,"lineJoin"),z.Factory.addGetterSetter(D,"lineCap"),z.Factory.addGetterSetter(D,"sceneFunc"),z.Factory.addGetterSetter(D,"hitFunc"),z.Factory.addGetterSetter(D,"dash"),z.Factory.addGetterSetter(D,"dashOffset",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"shadowColor",void 0,(0,_.getStringValidator)()),z.Factory.addGetterSetter(D,"shadowBlur",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"shadowOpacity",1,(0,_.getNumberValidator)()),z.Factory.addComponentsGetterSetter(D,"shadowOffset",["x","y"]),z.Factory.addGetterSetter(D,"shadowOffsetX",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"shadowOffsetY",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"fillPatternImage"),z.Factory.addGetterSetter(D,"fill",void 0,(0,_.getStringOrGradientValidator)()),z.Factory.addGetterSetter(D,"fillPatternX",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"fillPatternY",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"fillLinearGradientColorStops"),z.Factory.addGetterSetter(D,"strokeLinearGradientColorStops"),z.Factory.addGetterSetter(D,"fillRadialGradientStartRadius",0),z.Factory.addGetterSetter(D,"fillRadialGradientEndRadius",0),z.Factory.addGetterSetter(D,"fillRadialGradientColorStops"),z.Factory.addGetterSetter(D,"fillPatternRepeat","repeat"),z.Factory.addGetterSetter(D,"fillEnabled",!0),z.Factory.addGetterSetter(D,"strokeEnabled",!0),z.Factory.addGetterSetter(D,"shadowEnabled",!0),z.Factory.addGetterSetter(D,"dashEnabled",!0),z.Factory.addGetterSetter(D,"strokeScaleEnabled",!0),z.Factory.addGetterSetter(D,"fillPriority","color"),z.Factory.addComponentsGetterSetter(D,"fillPatternOffset",["x","y"]),z.Factory.addGetterSetter(D,"fillPatternOffsetX",0,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"fillPatternOffsetY",0,(0,_.getNumberValidator)()),z.Factory.addComponentsGetterSetter(D,"fillPatternScale",["x","y"]),z.Factory.addGetterSetter(D,"fillPatternScaleX",1,(0,_.getNumberValidator)()),z.Factory.addGetterSetter(D,"fillPatternScaleY",1,(0,_.getNumberValidator)()),z.Factory.addComponentsGetterSetter(D,"fillLinearGradientStartPoint",["x","y"]),z.Factory.addComponentsGetterSetter(D,"strokeLinearGradientStartPoint",["x","y"]),z.Factory.addGetterSetter(D,"fillLinearGradientStartPointX",0),z.Factory.addGetterSetter(D,"strokeLinearGradientStartPointX",0),z.Factory.addGetterSetter(D,"fillLinearGradientStartPointY",0),z.Factory.addGetterSetter(D,"strokeLinearGradientStartPointY",0),z.Factory.addComponentsGetterSetter(D,"fillLinearGradientEndPoint",["x","y"]),z.Factory.addComponentsGetterSetter(D,"strokeLinearGradientEndPoint",["x","y"]),z.Factory.addGetterSetter(D,"fillLinearGradientEndPointX",0),z.Factory.addGetterSetter(D,"strokeLinearGradientEndPointX",0),z.Factory.addGetterSetter(D,"fillLinearGradientEndPointY",0),z.Factory.addGetterSetter(D,"strokeLinearGradientEndPointY",0),z.Factory.addComponentsGetterSetter(D,"fillRadialGradientStartPoint",["x","y"]),z.Factory.addGetterSetter(D,"fillRadialGradientStartPointX",0),z.Factory.addGetterSetter(D,"fillRadialGradientStartPointY",0),z.Factory.addComponentsGetterSetter(D,"fillRadialGradientEndPoint",["x","y"]),z.Factory.addGetterSetter(D,"fillRadialGradientEndPointX",0),z.Factory.addGetterSetter(D,"fillRadialGradientEndPointY",0),z.Factory.addGetterSetter(D,"fillPatternRotation",0),z.Factory.addGetterSetter(D,"fillRule",void 0,(0,_.getStringValidator)()),z.Factory.backCompat(D,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(xr)),xr}var jc;function Zh(){if(jc)return ri;jc=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Layer=void 0;const r=Kt(),c=Fl(),V=wt(),z=Ct(),E=Yl(),_=Et(),p=re(),d=_t(),g="#",m="beforeDraw",y="draw",N=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],T=N.length;class f extends c.Container{constructor(S){super(S),this.canvas=new E.SceneCanvas,this.hitCanvas=new E.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(S){return this.getContext().clear(S),this.getHitCanvas().getContext().clear(S),this}setZIndex(S){super.setZIndex(S);const C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),S<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[S+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){V.Node.prototype.moveToTop.call(this);const S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!V.Node.prototype.moveUp.call(this))return!1;const C=this.getStage();return!C||!C.content?!1:(C.content.removeChild(this.getNativeCanvasElement()),this.index<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[this.index+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(V.Node.prototype.moveDown.call(this)){const S=this.getStage();if(S){const C=S.children;S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.insertBefore(this.getNativeCanvasElement(),C[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(V.Node.prototype.moveToBottom.call(this)){const S=this.getStage();if(S){const C=S.children;S.content&&(S.content.removeChild(this.getNativeCanvasElement()),S.content.insertBefore(this.getNativeCanvasElement(),C[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const S=this.getNativeCanvasElement();return V.Node.prototype.remove.call(this),S&&S.parentNode&&r.Util._isInDocument(S)&&S.parentNode.removeChild(S),this}getStage(){return this.parent}setSize({width:S,height:C}){return this.canvas.setSize(S,C),this.hitCanvas.setSize(S,C),this._setSmoothEnabled(),this}_validateAdd(S){const C=S.getType();C!=="Group"&&C!=="Shape"&&r.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(S){return S=S||{},S.width=S.width||this.getWidth(),S.height=S.height||this.getHeight(),S.x=S.x!==void 0?S.x:this.x(),S.y=S.y!==void 0?S.y:this.y(),V.Node.prototype._toKonvaCanvas.call(this,S)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){r.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){r.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,r.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(S){if(!this.isListening()||!this.isVisible())return null;let C=1,U=!1;for(;;){for(let u=0;u<T;u++){const s=N[u],v=this._getIntersection({x:S.x+s.x*C,y:S.y+s.y*C}),A=v.shape;if(A)return A;if(U=!!v.antialiased,!v.antialiased)break}if(U)C+=1;else return null}}_getIntersection(S){const C=this.hitCanvas.pixelRatio,U=this.hitCanvas.context.getImageData(Math.round(S.x*C),Math.round(S.y*C),1,1).data,u=U[3];if(u===255){const s=r.Util._rgbToHex(U[0],U[1],U[2]),v=p.shapes[g+s];return v?{shape:v}:{antialiased:!0}}else if(u>0)return{antialiased:!0};return{}}drawScene(S,C){const U=this.getLayer(),u=S||U&&U.getCanvas();return this._fire(m,{node:this}),this.clearBeforeDraw()&&u.getContext().clear(),c.Container.prototype.drawScene.call(this,u,C),this._fire(y,{node:this}),this}drawHit(S,C){const U=this.getLayer(),u=S||U&&U.hitCanvas;return U&&U.clearBeforeDraw()&&U.getHitCanvas().getContext().clear(),c.Container.prototype.drawHit.call(this,u,C),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(S){r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(S)}getHitGraphEnabled(S){return r.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const S=this.parent;!!this.hitCanvas._canvas.parentNode?S.content.removeChild(this.hitCanvas._canvas):S.content.appendChild(this.hitCanvas._canvas)}destroy(){return r.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return ri.Layer=f,f.prototype.nodeType="Layer",(0,d._registerNode)(f),z.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),z.Factory.addGetterSetter(f,"clearBeforeDraw",!0),z.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,_.getBooleanValidator)()),ri}var oi={},wc;function yd(){if(wc)return oi;wc=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.FastLayer=void 0;const r=Kt(),c=Zh(),V=_t();let z=class extends c.Layer{constructor(_){super(_),this.listening(!1),r.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return oi.FastLayer=z,z.prototype.nodeType="FastLayer",(0,V._registerNode)(z),oi}var ui={},Qc;function Lr(){if(Qc)return ui;Qc=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Group=void 0;const r=Kt(),c=Fl(),V=_t();let z=class extends c.Container{_validateAdd(_){const p=_.getType();p!=="Group"&&p!=="Shape"&&r.Util.throw("You may only add groups and shapes to groups.")}};return ui.Group=z,z.prototype.nodeType="Group",(0,V._registerNode)(z),ui}var ci={},Zc;function Yr(){if(Zc)return ci;Zc=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Animation=void 0;const r=_t(),c=Kt(),V=function(){return r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return new Date().getTime()}}();let z=class xn{constructor(_,p){this.id=xn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:V(),frameRate:0},this.func=_,this.setLayers(p)}setLayers(_){let p=[];return _&&(p=Array.isArray(_)?_:[_]),this.layers=p,this}getLayers(){return this.layers}addLayer(_){const p=this.layers,d=p.length;for(let g=0;g<d;g++)if(p[g]._id===_._id)return!1;return this.layers.push(_),!0}isRunning(){const p=xn.animations,d=p.length;for(let g=0;g<d;g++)if(p[g].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=V(),xn._addAnimation(this),this}stop(){return xn._removeAnimation(this),this}_updateFrameObject(_){this.frame.timeDiff=_-this.frame.lastTime,this.frame.lastTime=_,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(_){this.animations.push(_),this._handleAnimation()}static _removeAnimation(_){const p=_.id,d=this.animations,g=d.length;for(let m=0;m<g;m++)if(d[m].id===p){this.animations.splice(m,1);break}}static _runFrames(){const _={},p=this.animations;for(let d=0;d<p.length;d++){const g=p[d],m=g.layers,y=g.func;g._updateFrameObject(V());const N=m.length;let T;if(y?T=y.call(g,g.frame)!==!1:T=!0,!!T)for(let f=0;f<N;f++){const o=m[f];o._id!==void 0&&(_[o._id]=o)}}for(const d in _)_.hasOwnProperty(d)&&_[d].batchDraw()}static _animationLoop(){const _=xn;_.animations.length?(_._runFrames(),c.Util.requestAnimFrame(_._animationLoop)):_.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,c.Util.requestAnimFrame(this._animationLoop))}};return ci.Animation=z,z.animations=[],z.animIdCounter=0,z.animRunning=!1,ci}var Or={},Jc;function _d(){return Jc||(Jc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Easings=r.Tween=void 0;const c=Kt(),V=Yr(),z=wt(),E=_t(),_={node:1,duration:1,easing:1,onFinish:1,yoyo:1},p=1,d=2,g=3,m=["fill","stroke","shadowColor"];let y=0;class N{constructor(o,S,C,U,u,s,v){this.prop=o,this.propFunc=S,this.begin=U,this._pos=U,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=u-this.begin,this.pause()}fire(o){const S=this[o];S&&S()}setTime(o){o>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():o<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=o,this.update())}getTime(){return this._time}setPosition(o){this.prevPos=this._pos,this.propFunc(o),this._pos=o}getPosition(o){return o===void 0&&(o=this._time),this.func(o,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=g,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(o){this.pause(),this._time=o,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const o=this.getTimer()-this._startTime;this.state===d?this.setTime(o):this.state===g&&this.setTime(this.duration-o)}pause(){this.state=p,this.fire("onPause")}getTimer(){return new Date().getTime()}}class T{constructor(o){const S=this,C=o.node,U=C._id,u=o.easing||r.Easings.Linear,s=!!o.yoyo;let v,A;typeof o.duration>"u"?v=.3:o.duration===0?v=.001:v=o.duration,this.node=C,this._id=y++;const O=C.getLayer()||(C instanceof E.Konva.Stage?C.getLayers():null);O||c.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new V.Animation(function(){S.tween.onEnterFrame()},O),this.tween=new N(A,function(F){S._tweenFunc(F)},u,0,1,v*1e3,s),this._addListeners(),T.attrs[U]||(T.attrs[U]={}),T.attrs[U][this._id]||(T.attrs[U][this._id]={}),T.tweens[U]||(T.tweens[U]={});for(A in o)_[A]===void 0&&this._addAttr(A,o[A]);this.reset(),this.onFinish=o.onFinish,this.onReset=o.onReset,this.onUpdate=o.onUpdate}_addAttr(o,S){const C=this.node,U=C._id;let u,s,v,A,O;const F=T.tweens[U][o];F&&delete T.attrs[U][F][o];let D=C.getAttr(o);if(c.Util._isArray(S))if(u=[],s=Math.max(S.length,D.length),o==="points"&&S.length!==D.length&&(S.length>D.length?(A=D,D=c.Util._prepareArrayForTween(D,S,C.closed())):(v=S,S=c.Util._prepareArrayForTween(S,D,C.closed()))),o.indexOf("fill")===0)for(let x=0;x<s;x++)if(x%2===0)u.push(S[x]-D[x]);else{const M=c.Util.colorToRGBA(D[x]);O=c.Util.colorToRGBA(S[x]),D[x]=M,u.push({r:O.r-M.r,g:O.g-M.g,b:O.b-M.b,a:O.a-M.a})}else for(let x=0;x<s;x++)u.push(S[x]-D[x]);else m.indexOf(o)!==-1?(D=c.Util.colorToRGBA(D),O=c.Util.colorToRGBA(S),u={r:O.r-D.r,g:O.g-D.g,b:O.b-D.b,a:O.a-D.a}):u=S-D;T.attrs[U][this._id][o]={start:D,diff:u,end:S,trueEnd:v,trueStart:A},T.tweens[U][o]=this._id}_tweenFunc(o){const S=this.node,C=T.attrs[S._id][this._id];let U,u,s,v,A,O,F,D;for(U in C){if(u=C[U],s=u.start,v=u.diff,D=u.end,c.Util._isArray(s))if(A=[],F=Math.max(s.length,D.length),U.indexOf("fill")===0)for(O=0;O<F;O++)O%2===0?A.push((s[O]||0)+v[O]*o):A.push("rgba("+Math.round(s[O].r+v[O].r*o)+","+Math.round(s[O].g+v[O].g*o)+","+Math.round(s[O].b+v[O].b*o)+","+(s[O].a+v[O].a*o)+")");else for(O=0;O<F;O++)A.push((s[O]||0)+v[O]*o);else m.indexOf(U)!==-1?A="rgba("+Math.round(s.r+v.r*o)+","+Math.round(s.g+v.g*o)+","+Math.round(s.b+v.b*o)+","+(s.a+v.a*o)+")":A=s+v*o;S.setAttr(U,A)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const o=this.node,S=T.attrs[o._id][this._id];S.points&&S.points.trueEnd&&o.setAttr("points",S.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const o=this.node,S=T.attrs[o._id][this._id];S.points&&S.points.trueStart&&o.points(S.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(o){return this.tween.seek(o*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const o=this.node._id,S=this._id,C=T.tweens[o];this.pause();for(const U in C)delete T.tweens[o][U];delete T.attrs[o][S]}}r.Tween=T,T.attrs={},T.tweens={},z.Node.prototype.to=function(f){const o=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),o&&o()},new T(f).play()},r.Easings={BackEaseIn(f,o,S,C){return S*(f/=C)*f*((1.70158+1)*f-1.70158)+o},BackEaseOut(f,o,S,C){return S*((f=f/C-1)*f*((1.70158+1)*f+1.70158)+1)+o},BackEaseInOut(f,o,S,C){let U=1.70158;return(f/=C/2)<1?S/2*(f*f*(((U*=1.525)+1)*f-U))+o:S/2*((f-=2)*f*(((U*=1.525)+1)*f+U)+2)+o},ElasticEaseIn(f,o,S,C,U,u){let s=0;return f===0?o:(f/=C)===1?o+S:(u||(u=C*.3),!U||U<Math.abs(S)?(U=S,s=u/4):s=u/(2*Math.PI)*Math.asin(S/U),-(U*Math.pow(2,10*(f-=1))*Math.sin((f*C-s)*(2*Math.PI)/u))+o)},ElasticEaseOut(f,o,S,C,U,u){let s=0;return f===0?o:(f/=C)===1?o+S:(u||(u=C*.3),!U||U<Math.abs(S)?(U=S,s=u/4):s=u/(2*Math.PI)*Math.asin(S/U),U*Math.pow(2,-10*f)*Math.sin((f*C-s)*(2*Math.PI)/u)+S+o)},ElasticEaseInOut(f,o,S,C,U,u){let s=0;return f===0?o:(f/=C/2)===2?o+S:(u||(u=C*(.3*1.5)),!U||U<Math.abs(S)?(U=S,s=u/4):s=u/(2*Math.PI)*Math.asin(S/U),f<1?-.5*(U*Math.pow(2,10*(f-=1))*Math.sin((f*C-s)*(2*Math.PI)/u))+o:U*Math.pow(2,-10*(f-=1))*Math.sin((f*C-s)*(2*Math.PI)/u)*.5+S+o)},BounceEaseOut(f,o,S,C){return(f/=C)<1/2.75?S*(7.5625*f*f)+o:f<2/2.75?S*(7.5625*(f-=1.5/2.75)*f+.75)+o:f<2.5/2.75?S*(7.5625*(f-=2.25/2.75)*f+.9375)+o:S*(7.5625*(f-=2.625/2.75)*f+.984375)+o},BounceEaseIn(f,o,S,C){return S-r.Easings.BounceEaseOut(C-f,0,S,C)+o},BounceEaseInOut(f,o,S,C){return f<C/2?r.Easings.BounceEaseIn(f*2,0,S,C)*.5+o:r.Easings.BounceEaseOut(f*2-C,0,S,C)*.5+S*.5+o},EaseIn(f,o,S,C){return S*(f/=C)*f+o},EaseOut(f,o,S,C){return-S*(f/=C)*(f-2)+o},EaseInOut(f,o,S,C){return(f/=C/2)<1?S/2*f*f+o:-S/2*(--f*(f-2)-1)+o},StrongEaseIn(f,o,S,C){return S*(f/=C)*f*f*f*f+o},StrongEaseOut(f,o,S,C){return S*((f=f/C-1)*f*f*f*f+1)+o},StrongEaseInOut(f,o,S,C){return(f/=C/2)<1?S/2*f*f*f*f*f+o:S/2*((f-=2)*f*f*f*f+2)+o},Linear(f,o,S,C){return S*f/C+o}}}(Or)),Or}var Wc;function Vr(){return Wc||(Wc=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Konva=void 0;const c=_t(),V=Kt(),z=wt(),E=Fl(),_=vd(),p=Zh(),d=yd(),g=Lr(),m=qr(),y=re(),N=Yr(),T=_d(),f=wh(),o=Yl();r.Konva=V.Util._assign(c.Konva,{Util:V.Util,Transform:V.Transform,Node:z.Node,Container:E.Container,Stage:_.Stage,stages:_.stages,Layer:p.Layer,FastLayer:d.FastLayer,Group:g.Group,DD:m.DD,Shape:y.Shape,shapes:y.shapes,Animation:N.Animation,Tween:T.Tween,Easings:T.Easings,Context:f.Context,Canvas:o.Canvas}),r.default=r.Konva}(Er)),Er}var hi={},kc;function Sd(){if(kc)return hi;kc=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Arc=void 0;const r=Ct(),c=re(),V=_t(),z=Et(),E=_t();let _=class extends c.Shape{_sceneFunc(d){const g=V.Konva.getAngle(this.angle()),m=this.clockwise();d.beginPath(),d.arc(0,0,this.outerRadius(),0,g,m),d.arc(0,0,this.innerRadius(),g,0,!m),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}getSelfRect(){const d=this.innerRadius(),g=this.outerRadius(),m=this.clockwise(),y=V.Konva.getAngle(m?360-this.angle():this.angle()),N=Math.cos(Math.min(y,Math.PI)),T=1,f=Math.sin(Math.min(Math.max(Math.PI,y),3*Math.PI/2)),o=Math.sin(Math.min(y,Math.PI/2)),S=N*(N>0?d:g),C=T*g,U=f*(f>0?d:g),u=o*(o>0?g:d);return{x:S,y:m?-1*u:U,width:C-S,height:u-U}}};return hi.Arc=_,_.prototype._centroid=!0,_.prototype.className="Arc",_.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,E._registerNode)(_),r.Factory.addGetterSetter(_,"innerRadius",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(_,"outerRadius",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(_,"angle",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(_,"clockwise",!1,(0,z.getBooleanValidator)()),hi}var fi={},di={},Ic;function Jh(){if(Ic)return di;Ic=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Line=void 0;const r=Ct(),c=_t(),V=re(),z=Et();function E(d,g,m,y,N,T,f){const o=Math.sqrt(Math.pow(m-d,2)+Math.pow(y-g,2)),S=Math.sqrt(Math.pow(N-m,2)+Math.pow(T-y,2)),C=f*o/(o+S),U=f*S/(o+S),u=m-C*(N-d),s=y-C*(T-g),v=m+U*(N-d),A=y+U*(T-g);return[u,s,v,A]}function _(d,g){const m=d.length,y=[];for(let N=2;N<m-2;N+=2){const T=E(d[N-2],d[N-1],d[N],d[N+1],d[N+2],d[N+3],g);isNaN(T[0])||(y.push(T[0]),y.push(T[1]),y.push(d[N]),y.push(d[N+1]),y.push(T[2]),y.push(T[3]))}return y}let p=class extends V.Shape{constructor(g){super(g),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(g){let m=this.points(),y=m.length,N=this.tension(),T=this.closed(),f=this.bezier(),o,S,C;if(y){if(g.beginPath(),g.moveTo(m[0],m[1]),N!==0&&y>4){for(o=this.getTensionPoints(),S=o.length,C=T?0:4,T||g.quadraticCurveTo(o[0],o[1],o[2],o[3]);C<S-2;)g.bezierCurveTo(o[C++],o[C++],o[C++],o[C++],o[C++],o[C++]);T||g.quadraticCurveTo(o[S-2],o[S-1],m[y-2],m[y-1])}else if(f)for(C=2;C<y;)g.bezierCurveTo(m[C++],m[C++],m[C++],m[C++],m[C++],m[C++]);else for(C=2;C<y;C+=2)g.lineTo(m[C],m[C+1]);T?(g.closePath(),g.fillStrokeShape(this)):g.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():_(this.points(),this.tension())}_getTensionPointsClosed(){const g=this.points(),m=g.length,y=this.tension(),N=E(g[m-2],g[m-1],g[0],g[1],g[2],g[3],y),T=E(g[m-4],g[m-3],g[m-2],g[m-1],g[0],g[1],y),f=_(g,y);return[N[2],N[3]].concat(f).concat([T[0],T[1],g[m-2],g[m-1],T[2],T[3],N[0],N[1],g[0],g[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let g=this.points();if(g.length<4)return{x:g[0]||0,y:g[1]||0,width:0,height:0};this.tension()!==0?g=[g[0],g[1],...this._getTensionPoints(),g[g.length-2],g[g.length-1]]:g=this.points();let m=g[0],y=g[0],N=g[1],T=g[1],f,o;for(let S=0;S<g.length/2;S++)f=g[S*2],o=g[S*2+1],m=Math.min(m,f),y=Math.max(y,f),N=Math.min(N,o),T=Math.max(T,o);return{x:m,y:N,width:y-m,height:T-N}}};return di.Line=p,p.prototype.className="Line",p.prototype._attrsAffectingSize=["points","bezier","tension"],(0,c._registerNode)(p),r.Factory.addGetterSetter(p,"closed",!1),r.Factory.addGetterSetter(p,"bezier",!1),r.Factory.addGetterSetter(p,"tension",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(p,"points",[],(0,z.getNumberArrayValidator)()),di}var gi={},Gr={},$c;function bd(){return $c||($c=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.t2length=r.getQuadraticArcLength=r.getCubicArcLength=r.binomialCoefficients=r.cValues=r.tValues=void 0,r.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],r.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],r.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const c=(p,d,g)=>{let m,y;const T=g/2;m=0;for(let f=0;f<20;f++)y=T*r.tValues[20][f]+T,m+=r.cValues[20][f]*z(p,d,y);return T*m};r.getCubicArcLength=c;const V=(p,d,g)=>{g===void 0&&(g=1);const m=p[0]-2*p[1]+p[2],y=d[0]-2*d[1]+d[2],N=2*p[1]-2*p[0],T=2*d[1]-2*d[0],f=4*(m*m+y*y),o=4*(m*N+y*T),S=N*N+T*T;if(f===0)return g*Math.sqrt(Math.pow(p[2]-p[0],2)+Math.pow(d[2]-d[0],2));const C=o/(2*f),U=S/f,u=g+C,s=U-C*C,v=u*u+s>0?Math.sqrt(u*u+s):0,A=C*C+s>0?Math.sqrt(C*C+s):0,O=C+Math.sqrt(C*C+s)!==0?s*Math.log(Math.abs((u+v)/(C+A))):0;return Math.sqrt(f)/2*(u*v-C*A+O)};r.getQuadraticArcLength=V;function z(p,d,g){const m=E(1,g,p),y=E(1,g,d),N=m*m+y*y;return Math.sqrt(N)}const E=(p,d,g)=>{const m=g.length-1;let y,N;if(m===0)return 0;if(p===0){N=0;for(let T=0;T<=m;T++)N+=r.binomialCoefficients[m][T]*Math.pow(1-d,m-T)*Math.pow(d,T)*g[T];return N}else{y=new Array(m);for(let T=0;T<m;T++)y[T]=m*(g[T+1]-g[T]);return E(p-1,d,y)}},_=(p,d,g)=>{let m=1,y=p/d,N=(p-g(y))/d,T=0;for(;m>.001;){const f=g(y+N),o=Math.abs(p-f)/d;if(o<m)m=o,y+=N;else{const S=g(y-N),C=Math.abs(p-S)/d;C<m?(m=C,y-=N):N/=2}if(T++,T>500)break}return y};r.t2length=_}(Gr)),Gr}var th;function Fr(){if(th)return gi;th=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Path=void 0;const r=Ct(),c=re(),V=_t(),z=bd();let E=class Te extends c.Shape{constructor(p){super(p),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Te.parsePathData(this.data()),this.pathLength=Te.getPathLength(this.dataArray)}_sceneFunc(p){const d=this.dataArray;p.beginPath();let g=!1;for(let v=0;v<d.length;v++){const A=d[v].command,O=d[v].points;switch(A){case"L":p.lineTo(O[0],O[1]);break;case"M":p.moveTo(O[0],O[1]);break;case"C":p.bezierCurveTo(O[0],O[1],O[2],O[3],O[4],O[5]);break;case"Q":p.quadraticCurveTo(O[0],O[1],O[2],O[3]);break;case"A":var m=O[0],y=O[1],N=O[2],T=O[3],f=O[4],o=O[5],S=O[6],C=O[7],U=N>T?N:T,u=N>T?1:N/T,s=N>T?T/N:1;p.translate(m,y),p.rotate(S),p.scale(u,s),p.arc(0,0,U,f,f+o,1-C),p.scale(1/u,1/s),p.rotate(-S),p.translate(-m,-y);break;case"z":g=!0,p.closePath();break}}!g&&!this.hasFill()?p.strokeShape(this):p.fillStrokeShape(this)}getSelfRect(){let p=[];this.dataArray.forEach(function(f){if(f.command==="A"){const o=f.points[4],S=f.points[5],C=f.points[4]+S;let U=Math.PI/180;if(Math.abs(o-C)<U&&(U=Math.abs(o-C)),S<0)for(let u=o-U;u>C;u-=U){const s=Te.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],u,0);p.push(s.x,s.y)}else for(let u=o+U;u<C;u+=U){const s=Te.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],u,0);p.push(s.x,s.y)}}else if(f.command==="C")for(let o=0;o<=1;o+=.01){const S=Te.getPointOnCubicBezier(o,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);p.push(S.x,S.y)}else p=p.concat(f.points)});let d=p[0],g=p[0],m=p[1],y=p[1],N,T;for(let f=0;f<p.length/2;f++)N=p[f*2],T=p[f*2+1],isNaN(N)||(d=Math.min(d,N),g=Math.max(g,N)),isNaN(T)||(m=Math.min(m,T),y=Math.max(y,T));return{x:d,y:m,width:g-d,height:y-m}}getLength(){return this.pathLength}getPointAtLength(p){return Te.getPointAtLengthOfDataArray(p,this.dataArray)}static getLineLength(p,d,g,m){return Math.sqrt((g-p)*(g-p)+(m-d)*(m-d))}static getPathLength(p){let d=0;for(let g=0;g<p.length;++g)d+=p[g].pathLength;return d}static getPointAtLengthOfDataArray(p,d){let g,m=0,y=d.length;if(!y)return null;for(;m<y&&p>d[m].pathLength;)p-=d[m].pathLength,++m;if(m===y)return g=d[m-1].points.slice(-2),{x:g[0],y:g[1]};if(p<.01)return g=d[m].points.slice(0,2),{x:g[0],y:g[1]};const N=d[m],T=N.points;switch(N.command){case"L":return Te.getPointOnLine(p,N.start.x,N.start.y,T[0],T[1]);case"C":return Te.getPointOnCubicBezier((0,z.t2length)(p,Te.getPathLength(d),v=>(0,z.getCubicArcLength)([N.start.x,T[0],T[2],T[4]],[N.start.y,T[1],T[3],T[5]],v)),N.start.x,N.start.y,T[0],T[1],T[2],T[3],T[4],T[5]);case"Q":return Te.getPointOnQuadraticBezier((0,z.t2length)(p,Te.getPathLength(d),v=>(0,z.getQuadraticArcLength)([N.start.x,T[0],T[2]],[N.start.y,T[1],T[3]],v)),N.start.x,N.start.y,T[0],T[1],T[2],T[3]);case"A":var f=T[0],o=T[1],S=T[2],C=T[3],U=T[4],u=T[5],s=T[6];return U+=u*p/N.pathLength,Te.getPointOnEllipticalArc(f,o,S,C,U,s)}return null}static getPointOnLine(p,d,g,m,y,N,T){N=N??d,T=T??g;const f=this.getLineLength(d,g,m,y);if(f<1e-10)return{x:d,y:g};if(m===d)return{x:N,y:T+(y>g?p:-p)};const o=(y-g)/(m-d),S=Math.sqrt(p*p/(1+o*o))*(m<d?-1:1),C=o*S;if(Math.abs(T-g-o*(N-d))<1e-10)return{x:N+S,y:T+C};const U=((N-d)*(m-d)+(T-g)*(y-g))/(f*f),u=d+U*(m-d),s=g+U*(y-g),v=this.getLineLength(N,T,u,s),A=Math.sqrt(p*p-v*v),O=Math.sqrt(A*A/(1+o*o))*(m<d?-1:1),F=o*O;return{x:u+O,y:s+F}}static getPointOnCubicBezier(p,d,g,m,y,N,T,f,o){function S(A){return A*A*A}function C(A){return 3*A*A*(1-A)}function U(A){return 3*A*(1-A)*(1-A)}function u(A){return(1-A)*(1-A)*(1-A)}const s=f*S(p)+N*C(p)+m*U(p)+d*u(p),v=o*S(p)+T*C(p)+y*U(p)+g*u(p);return{x:s,y:v}}static getPointOnQuadraticBezier(p,d,g,m,y,N,T){function f(u){return u*u}function o(u){return 2*u*(1-u)}function S(u){return(1-u)*(1-u)}const C=N*f(p)+m*o(p)+d*S(p),U=T*f(p)+y*o(p)+g*S(p);return{x:C,y:U}}static getPointOnEllipticalArc(p,d,g,m,y,N){const T=Math.cos(N),f=Math.sin(N),o={x:g*Math.cos(y),y:m*Math.sin(y)};return{x:p+(o.x*T-o.y*f),y:d+(o.x*f+o.y*T)}}static parsePathData(p){if(!p)return[];let d=p;const g=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];d=d.replace(new RegExp(" ","g"),",");for(var m=0;m<g.length;m++)d=d.replace(new RegExp(g[m],"g"),"|"+g[m]);const y=d.split("|"),N=[],T=[];let f=0,o=0;const S=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(m=1;m<y.length;m++){let h=y[m],R=h.charAt(0);for(h=h.slice(1),T.length=0;C=S.exec(h);)T.push(C[0]);const b=[];for(let B=0,q=T.length;B<q;B++){if(T[B]==="00"){b.push(0,0);continue}const X=parseFloat(T[B]);isNaN(X)?b.push(0):b.push(X)}for(;b.length>0&&!isNaN(b[0]);){let B="",q=[];const X=f,W=o;var U,u,s,v,A,O,F,D,x,M;switch(R){case"l":f+=b.shift(),o+=b.shift(),B="L",q.push(f,o);break;case"L":f=b.shift(),o=b.shift(),q.push(f,o);break;case"m":var H=b.shift(),P=b.shift();if(f+=H,o+=P,B="M",N.length>2&&N[N.length-1].command==="z"){for(let Z=N.length-2;Z>=0;Z--)if(N[Z].command==="M"){f=N[Z].points[0]+H,o=N[Z].points[1]+P;break}}q.push(f,o),R="l";break;case"M":f=b.shift(),o=b.shift(),B="M",q.push(f,o),R="L";break;case"h":f+=b.shift(),B="L",q.push(f,o);break;case"H":f=b.shift(),B="L",q.push(f,o);break;case"v":o+=b.shift(),B="L",q.push(f,o);break;case"V":o=b.shift(),B="L",q.push(f,o);break;case"C":q.push(b.shift(),b.shift(),b.shift(),b.shift()),f=b.shift(),o=b.shift(),q.push(f,o);break;case"c":q.push(f+b.shift(),o+b.shift(),f+b.shift(),o+b.shift()),f+=b.shift(),o+=b.shift(),B="C",q.push(f,o);break;case"S":u=f,s=o,U=N[N.length-1],U.command==="C"&&(u=f+(f-U.points[2]),s=o+(o-U.points[3])),q.push(u,s,b.shift(),b.shift()),f=b.shift(),o=b.shift(),B="C",q.push(f,o);break;case"s":u=f,s=o,U=N[N.length-1],U.command==="C"&&(u=f+(f-U.points[2]),s=o+(o-U.points[3])),q.push(u,s,f+b.shift(),o+b.shift()),f+=b.shift(),o+=b.shift(),B="C",q.push(f,o);break;case"Q":q.push(b.shift(),b.shift()),f=b.shift(),o=b.shift(),q.push(f,o);break;case"q":q.push(f+b.shift(),o+b.shift()),f+=b.shift(),o+=b.shift(),B="Q",q.push(f,o);break;case"T":u=f,s=o,U=N[N.length-1],U.command==="Q"&&(u=f+(f-U.points[0]),s=o+(o-U.points[1])),f=b.shift(),o=b.shift(),B="Q",q.push(u,s,f,o);break;case"t":u=f,s=o,U=N[N.length-1],U.command==="Q"&&(u=f+(f-U.points[0]),s=o+(o-U.points[1])),f+=b.shift(),o+=b.shift(),B="Q",q.push(u,s,f,o);break;case"A":v=b.shift(),A=b.shift(),O=b.shift(),F=b.shift(),D=b.shift(),x=f,M=o,f=b.shift(),o=b.shift(),B="A",q=this.convertEndpointToCenterParameterization(x,M,f,o,F,D,v,A,O);break;case"a":v=b.shift(),A=b.shift(),O=b.shift(),F=b.shift(),D=b.shift(),x=f,M=o,f+=b.shift(),o+=b.shift(),B="A",q=this.convertEndpointToCenterParameterization(x,M,f,o,F,D,v,A,O);break}N.push({command:B||R,points:q,start:{x:X,y:W},pathLength:this.calcLength(X,W,B||R,q)})}(R==="z"||R==="Z")&&N.push({command:"z",points:[],start:void 0,pathLength:0})}return N}static calcLength(p,d,g,m){let y,N,T,f;const o=Te;switch(g){case"L":return o.getLineLength(p,d,m[0],m[1]);case"C":return(0,z.getCubicArcLength)([p,m[0],m[2],m[4]],[d,m[1],m[3],m[5]],1);case"Q":return(0,z.getQuadraticArcLength)([p,m[0],m[2]],[d,m[1],m[3]],1);case"A":y=0;var S=m[4],C=m[5],U=m[4]+C,u=Math.PI/180;if(Math.abs(S-U)<u&&(u=Math.abs(S-U)),N=o.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],S,0),C<0)for(f=S-u;f>U;f-=u)T=o.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],f,0),y+=o.getLineLength(N.x,N.y,T.x,T.y),N=T;else for(f=S+u;f<U;f+=u)T=o.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],f,0),y+=o.getLineLength(N.x,N.y,T.x,T.y),N=T;return T=o.getPointOnEllipticalArc(m[0],m[1],m[2],m[3],U,0),y+=o.getLineLength(N.x,N.y,T.x,T.y),y}return 0}static convertEndpointToCenterParameterization(p,d,g,m,y,N,T,f,o){const S=o*(Math.PI/180),C=Math.cos(S)*(p-g)/2+Math.sin(S)*(d-m)/2,U=-1*Math.sin(S)*(p-g)/2+Math.cos(S)*(d-m)/2,u=C*C/(T*T)+U*U/(f*f);u>1&&(T*=Math.sqrt(u),f*=Math.sqrt(u));let s=Math.sqrt((T*T*(f*f)-T*T*(U*U)-f*f*(C*C))/(T*T*(U*U)+f*f*(C*C)));y===N&&(s*=-1),isNaN(s)&&(s=0);const v=s*T*U/f,A=s*-f*C/T,O=(p+g)/2+Math.cos(S)*v-Math.sin(S)*A,F=(d+m)/2+Math.sin(S)*v+Math.cos(S)*A,D=function(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])},x=function(b,B){return(b[0]*B[0]+b[1]*B[1])/(D(b)*D(B))},M=function(b,B){return(b[0]*B[1]<b[1]*B[0]?-1:1)*Math.acos(x(b,B))},H=M([1,0],[(C-v)/T,(U-A)/f]),P=[(C-v)/T,(U-A)/f],h=[(-1*C-v)/T,(-1*U-A)/f];let R=M(P,h);return x(P,h)<=-1&&(R=Math.PI),x(P,h)>=1&&(R=0),N===0&&R>0&&(R=R-2*Math.PI),N===1&&R<0&&(R=R+2*Math.PI),[O,F,T,f,H,R,S,N]}};return gi.Path=E,E.prototype.className="Path",E.prototype._attrsAffectingSize=["data"],(0,V._registerNode)(E),r.Factory.addGetterSetter(E,"data"),gi}var eh;function Cd(){if(eh)return fi;eh=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Arrow=void 0;const r=Ct(),c=Jh(),V=Et(),z=_t(),E=Fr();let _=class extends c.Line{_sceneFunc(d){super._sceneFunc(d);const g=Math.PI*2,m=this.points();let y=m;const N=this.tension()!==0&&m.length>4;N&&(y=this.getTensionPoints());const T=this.pointerLength(),f=m.length;let o,S;if(N){const u=[y[y.length-4],y[y.length-3],y[y.length-2],y[y.length-1],m[f-2],m[f-1]],s=E.Path.calcLength(y[y.length-4],y[y.length-3],"C",u),v=E.Path.getPointOnQuadraticBezier(Math.min(1,1-T/s),u[0],u[1],u[2],u[3],u[4],u[5]);o=m[f-2]-v.x,S=m[f-1]-v.y}else o=m[f-2]-m[f-4],S=m[f-1]-m[f-3];const C=(Math.atan2(S,o)+g)%g,U=this.pointerWidth();this.pointerAtEnding()&&(d.save(),d.beginPath(),d.translate(m[f-2],m[f-1]),d.rotate(C),d.moveTo(0,0),d.lineTo(-T,U/2),d.lineTo(-T,-U/2),d.closePath(),d.restore(),this.__fillStroke(d)),this.pointerAtBeginning()&&(d.save(),d.beginPath(),d.translate(m[0],m[1]),N?(o=(y[0]+y[2])/2-m[0],S=(y[1]+y[3])/2-m[1]):(o=m[2]-m[0],S=m[3]-m[1]),d.rotate((Math.atan2(-S,-o)+g)%g),d.moveTo(0,0),d.lineTo(-T,U/2),d.lineTo(-T,-U/2),d.closePath(),d.restore(),this.__fillStroke(d))}__fillStroke(d){const g=this.dashEnabled();g&&(this.attrs.dashEnabled=!1,d.setLineDash([])),d.fillStrokeShape(this),g&&(this.attrs.dashEnabled=!0)}getSelfRect(){const d=super.getSelfRect(),g=this.pointerWidth()/2;return{x:d.x,y:d.y-g,width:d.width,height:d.height+g*2}}};return fi.Arrow=_,_.prototype.className="Arrow",(0,z._registerNode)(_),r.Factory.addGetterSetter(_,"pointerLength",10,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(_,"pointerWidth",10,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(_,"pointerAtBeginning",!1),r.Factory.addGetterSetter(_,"pointerAtEnding",!0),fi}var mi={},ah;function Ed(){if(ah)return mi;ah=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Circle=void 0;const r=Ct(),c=re(),V=Et(),z=_t();let E=class extends c.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius()!==p/2&&this.radius(p/2)}setHeight(p){this.radius()!==p/2&&this.radius(p/2)}};return mi.Circle=E,E.prototype._centroid=!0,E.prototype.className="Circle",E.prototype._attrsAffectingSize=["radius"],(0,z._registerNode)(E),r.Factory.addGetterSetter(E,"radius",0,(0,V.getNumberValidator)()),mi}var pi={},nh;function Td(){if(nh)return pi;nh=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Ellipse=void 0;const r=Ct(),c=re(),V=Et(),z=_t();let E=class extends c.Shape{_sceneFunc(p){const d=this.radiusX(),g=this.radiusY();p.beginPath(),p.save(),d!==g&&p.scale(1,g/d),p.arc(0,0,d,0,Math.PI*2,!1),p.restore(),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(p){this.radiusX(p/2)}setHeight(p){this.radiusY(p/2)}};return pi.Ellipse=E,E.prototype.className="Ellipse",E.prototype._centroid=!0,E.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,z._registerNode)(E),r.Factory.addComponentsGetterSetter(E,"radius",["x","y"]),r.Factory.addGetterSetter(E,"radiusX",0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(E,"radiusY",0,(0,V.getNumberValidator)()),pi}var vi={},ih;function Nd(){if(ih)return vi;ih=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Image=void 0;const r=Kt(),c=Ct(),V=re(),z=_t(),E=Et();let _=class Wh extends V.Shape{constructor(d){super(d),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",g=>{this._removeImageLoad(g.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const d=this.image();d&&d.complete||d&&d.readyState===4||d&&d.addEventListener&&d.addEventListener("load",this._loadListener)}_removeImageLoad(d){d&&d.removeEventListener&&d.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const d=!!this.cornerRadius(),g=this.hasShadow();return d&&g?!0:super._useBufferCanvas(!0)}_sceneFunc(d){const g=this.getWidth(),m=this.getHeight(),y=this.cornerRadius(),N=this.attrs.image;let T;if(N){const f=this.attrs.cropWidth,o=this.attrs.cropHeight;f&&o?T=[N,this.cropX(),this.cropY(),f,o,0,0,g,m]:T=[N,0,0,g,m]}(this.hasFill()||this.hasStroke()||y)&&(d.beginPath(),y?r.Util.drawRoundedRectPath(d,g,m,y):d.rect(0,0,g,m),d.closePath(),d.fillStrokeShape(this)),N&&(y&&d.clip(),d.drawImage.apply(d,T))}_hitFunc(d){const g=this.width(),m=this.height(),y=this.cornerRadius();d.beginPath(),y?r.Util.drawRoundedRectPath(d,g,m,y):d.rect(0,0,g,m),d.closePath(),d.fillStrokeShape(this)}getWidth(){var d,g;return(d=this.attrs.width)!==null&&d!==void 0?d:(g=this.image())===null||g===void 0?void 0:g.width}getHeight(){var d,g;return(d=this.attrs.height)!==null&&d!==void 0?d:(g=this.image())===null||g===void 0?void 0:g.height}static fromURL(d,g,m=null){const y=r.Util.createImageElement();y.onload=function(){const N=new Wh({image:y});g(N)},y.onerror=m,y.crossOrigin="Anonymous",y.src=d}};return vi.Image=_,_.prototype.className="Image",(0,z._registerNode)(_),c.Factory.addGetterSetter(_,"cornerRadius",0,(0,E.getNumberOrArrayOfNumbersValidator)(4)),c.Factory.addGetterSetter(_,"image"),c.Factory.addComponentsGetterSetter(_,"crop",["x","y","width","height"]),c.Factory.addGetterSetter(_,"cropX",0,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(_,"cropY",0,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(_,"cropWidth",0,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(_,"cropHeight",0,(0,E.getNumberValidator)()),vi}var ka={},lh;function Ad(){if(lh)return ka;lh=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.Tag=ka.Label=void 0;const r=Ct(),c=re(),V=Lr(),z=Et(),E=_t(),_=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],p="Change.konva",d="none",g="up",m="right",y="down",N="left",T=_.length;let f=class extends V.Group{constructor(C){super(C),this.on("add.konva",function(U){this._addListeners(U.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(C){let U=this,u;const s=function(){U._sync()};for(u=0;u<T;u++)C.on(_[u]+p,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let C=this.getText(),U=this.getTag(),u,s,v,A,O,F,D;if(C&&U){switch(u=C.width(),s=C.height(),v=U.pointerDirection(),A=U.pointerWidth(),D=U.pointerHeight(),O=0,F=0,v){case g:O=u/2,F=-1*D;break;case m:O=u+A,F=s/2;break;case y:O=u/2,F=s+D;break;case N:O=-1*A,F=s/2;break}U.setAttrs({x:-1*O,y:-1*F,width:u,height:s}),C.setAttrs({x:-1*O,y:-1*F})}}};ka.Label=f,f.prototype.className="Label",(0,E._registerNode)(f);class o extends c.Shape{_sceneFunc(C){const U=this.width(),u=this.height(),s=this.pointerDirection(),v=this.pointerWidth(),A=this.pointerHeight(),O=this.cornerRadius();let F=0,D=0,x=0,M=0;typeof O=="number"?F=D=x=M=Math.min(O,U/2,u/2):(F=Math.min(O[0]||0,U/2,u/2),D=Math.min(O[1]||0,U/2,u/2),M=Math.min(O[2]||0,U/2,u/2),x=Math.min(O[3]||0,U/2,u/2)),C.beginPath(),C.moveTo(F,0),s===g&&(C.lineTo((U-v)/2,0),C.lineTo(U/2,-1*A),C.lineTo((U+v)/2,0)),C.lineTo(U-D,0),C.arc(U-D,D,D,Math.PI*3/2,0,!1),s===m&&(C.lineTo(U,(u-A)/2),C.lineTo(U+v,u/2),C.lineTo(U,(u+A)/2)),C.lineTo(U,u-M),C.arc(U-M,u-M,M,0,Math.PI/2,!1),s===y&&(C.lineTo((U+v)/2,u),C.lineTo(U/2,u+A),C.lineTo((U-v)/2,u)),C.lineTo(x,u),C.arc(x,u-x,x,Math.PI/2,Math.PI,!1),s===N&&(C.lineTo(0,(u+A)/2),C.lineTo(-1*v,u/2),C.lineTo(0,(u-A)/2)),C.lineTo(0,F),C.arc(F,F,F,Math.PI,Math.PI*3/2,!1),C.closePath(),C.fillStrokeShape(this)}getSelfRect(){let C=0,U=0,u=this.pointerWidth(),s=this.pointerHeight(),v=this.pointerDirection(),A=this.width(),O=this.height();return v===g?(U-=s,O+=s):v===y?O+=s:v===N?(C-=u*1.5,A+=u):v===m&&(A+=u*1.5),{x:C,y:U,width:A,height:O}}}return ka.Tag=o,o.prototype.className="Tag",(0,E._registerNode)(o),r.Factory.addGetterSetter(o,"pointerDirection",d),r.Factory.addGetterSetter(o,"pointerWidth",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(o,"pointerHeight",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(o,"cornerRadius",0,(0,z.getNumberOrArrayOfNumbersValidator)(4)),ka}var yi={},sh;function kh(){if(sh)return yi;sh=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.Rect=void 0;const r=Ct(),c=re(),V=_t(),z=Kt(),E=Et();let _=class extends c.Shape{_sceneFunc(d){const g=this.cornerRadius(),m=this.width(),y=this.height();d.beginPath(),g?z.Util.drawRoundedRectPath(d,m,y,g):d.rect(0,0,m,y),d.closePath(),d.fillStrokeShape(this)}};return yi.Rect=_,_.prototype.className="Rect",(0,V._registerNode)(_),r.Factory.addGetterSetter(_,"cornerRadius",0,(0,E.getNumberOrArrayOfNumbersValidator)(4)),yi}var _i={},rh;function Rd(){if(rh)return _i;rh=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.RegularPolygon=void 0;const r=Ct(),c=re(),V=Et(),z=_t();class E extends c.Shape{_sceneFunc(p){const d=this._getPoints();p.beginPath(),p.moveTo(d[0].x,d[0].y);for(let g=1;g<d.length;g++)p.lineTo(d[g].x,d[g].y);p.closePath(),p.fillStrokeShape(this)}_getPoints(){const p=this.attrs.sides,d=this.attrs.radius||0,g=[];for(let m=0;m<p;m++)g.push({x:d*Math.sin(m*2*Math.PI/p),y:-1*d*Math.cos(m*2*Math.PI/p)});return g}getSelfRect(){const p=this._getPoints();let d=p[0].x,g=p[0].y,m=p[0].x,y=p[0].y;return p.forEach(N=>{d=Math.min(d,N.x),g=Math.max(g,N.x),m=Math.min(m,N.y),y=Math.max(y,N.y)}),{x:d,y:m,width:g-d,height:y-m}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}}return _i.RegularPolygon=E,E.prototype.className="RegularPolygon",E.prototype._centroid=!0,E.prototype._attrsAffectingSize=["radius"],(0,z._registerNode)(E),r.Factory.addGetterSetter(E,"radius",0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(E,"sides",0,(0,V.getNumberValidator)()),_i}var Si={},oh;function Md(){if(oh)return Si;oh=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.Ring=void 0;const r=Ct(),c=re(),V=Et(),z=_t(),E=Math.PI*2;let _=class extends c.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.innerRadius(),0,E,!1),d.moveTo(this.outerRadius(),0),d.arc(0,0,this.outerRadius(),E,0,!0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}};return Si.Ring=_,_.prototype.className="Ring",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,z._registerNode)(_),r.Factory.addGetterSetter(_,"innerRadius",0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(_,"outerRadius",0,(0,V.getNumberValidator)()),Si}var bi={},uh;function xd(){if(uh)return bi;uh=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Sprite=void 0;const r=Ct(),c=re(),V=Yr(),z=Et(),E=_t();let _=class extends c.Shape{constructor(d){super(d),this._updated=!0,this.anim=new V.Animation(()=>{const g=this._updated;return this._updated=!1,g}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(d){const g=this.animation(),m=this.frameIndex(),y=m*4,N=this.animations()[g],T=this.frameOffsets(),f=N[y+0],o=N[y+1],S=N[y+2],C=N[y+3],U=this.image();if((this.hasFill()||this.hasStroke())&&(d.beginPath(),d.rect(0,0,S,C),d.closePath(),d.fillStrokeShape(this)),U)if(T){const u=T[g],s=m*2;d.drawImage(U,f,o,S,C,u[s+0],u[s+1],S,C)}else d.drawImage(U,f,o,S,C,0,0,S,C)}_hitFunc(d){const g=this.animation(),m=this.frameIndex(),y=m*4,N=this.animations()[g],T=this.frameOffsets(),f=N[y+2],o=N[y+3];if(d.beginPath(),T){const S=T[g],C=m*2;d.rect(S[C+0],S[C+1],f,o)}else d.rect(0,0,f,o);d.closePath(),d.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const d=this;this.interval=setInterval(function(){d._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const d=this.getLayer();this.anim.setLayers(d),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const d=this.frameIndex(),g=this.animation(),m=this.animations(),y=m[g],N=y.length/4;d<N-1?this.frameIndex(d+1):this.frameIndex(0)}};return bi.Sprite=_,_.prototype.className="Sprite",(0,E._registerNode)(_),r.Factory.addGetterSetter(_,"animation"),r.Factory.addGetterSetter(_,"animations"),r.Factory.addGetterSetter(_,"frameOffsets"),r.Factory.addGetterSetter(_,"image"),r.Factory.addGetterSetter(_,"frameIndex",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(_,"frameRate",17,(0,z.getNumberValidator)()),r.Factory.backCompat(_,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),bi}var Ci={},ch;function Od(){if(ch)return Ci;ch=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Star=void 0;const r=Ct(),c=re(),V=Et(),z=_t();let E=class extends c.Shape{_sceneFunc(p){const d=this.innerRadius(),g=this.outerRadius(),m=this.numPoints();p.beginPath(),p.moveTo(0,0-g);for(let y=1;y<m*2;y++){const N=y%2===0?g:d,T=N*Math.sin(y*Math.PI/m),f=-1*N*Math.cos(y*Math.PI/m);p.lineTo(T,f)}p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return Ci.Star=E,E.prototype.className="Star",E.prototype._centroid=!0,E.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,z._registerNode)(E),r.Factory.addGetterSetter(E,"numPoints",5,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(E,"innerRadius",0,(0,V.getNumberValidator)()),r.Factory.addGetterSetter(E,"outerRadius",0,(0,V.getNumberValidator)()),Ci}var Mn={},hh;function Ih(){if(hh)return Mn;hh=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.Text=void 0,Mn.stringToArray=p;const r=Kt(),c=Ct(),V=re(),z=_t(),E=Et(),_=_t();function p(lt){return[...lt].reduce((k,tt,rt,ct)=>{if(/\p{Emoji}/u.test(tt)){const Y=ct[rt+1];Y&&/\p{Emoji_Modifier}|\u200D/u.test(Y)?(k.push(tt+Y),ct[rt+1]=""):k.push(tt)}else/\p{Regional_Indicator}{2}/u.test(tt+(ct[rt+1]||""))?k.push(tt+ct[rt+1]):rt>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(tt)?k[k.length-1]+=tt:tt&&k.push(tt);return k},[])}const d="auto",g="center",m="inherit",y="justify",N="Change.konva",T="2d",f="-",o="left",S="text",C="Text",U="top",u="bottom",s="middle",v="normal",A="px ",O=" ",F="right",D="rtl",x="word",M="char",H="none",P="",h=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],R=h.length;function b(lt){return lt.split(",").map(k=>{k=k.trim();const tt=k.indexOf(" ")>=0,rt=k.indexOf('"')>=0||k.indexOf("'")>=0;return tt&&!rt&&(k=`"${k}"`),k}).join(", ")}let B;function q(){return B||(B=r.Util.createCanvasElement().getContext(T),B)}function X(lt){lt.fillText(this._partialText,this._partialTextX,this._partialTextY)}function W(lt){lt.setAttr("miterLimit",2),lt.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Z(lt){return lt=lt||{},!lt.fillLinearGradientColorStops&&!lt.fillRadialGradientColorStops&&!lt.fillPatternImage&&(lt.fill=lt.fill||"black"),lt}let I=class extends V.Shape{constructor(k){super(Z(k)),this._partialTextX=0,this._partialTextY=0;for(let tt=0;tt<R;tt++)this.on(h[tt]+N,this._setTextData);this._setTextData()}_sceneFunc(k){const tt=this.textArr,rt=tt.length;if(!this.text())return;let ct=this.padding(),Y=this.fontSize(),J=this.lineHeight()*Y,et=this.verticalAlign(),it=this.direction(),ot=0,ht=this.align(),Tt=this.getWidth(),Dt=this.letterSpacing(),mt=this.fill(),Bt=this.textDecoration(),Ot=Bt.indexOf("underline")!==-1,qt=Bt.indexOf("line-through")!==-1,Ve;it=it===m?k.direction:it;let oe=J/2,Ne=s;if(z.Konva._fixTextRendering){const je=this.measureSize("M");Ne="alphabetic",oe=(je.fontBoundingBoxAscent-je.fontBoundingBoxDescent)/2+J/2}var vt=0,ue=0;for(it===D&&k.setAttr("direction",it),k.setAttr("font",this._getContextFont()),k.setAttr("textBaseline",Ne),k.setAttr("textAlign",o),et===s?ot=(this.getHeight()-rt*J-ct*2)/2:et===u&&(ot=this.getHeight()-rt*J-ct*2),k.translate(ct,ot+ct),Ve=0;Ve<rt;Ve++){var vt=0,ue=0,Ae=tt[Ve],Re=Ae.text,Qt=Ae.width,kt=Ae.lastInParagraph,de,ke;if(k.save(),ht===F?vt+=Tt-Qt-ct*2:ht===g&&(vt+=(Tt-Qt-ct*2)/2),Ot){k.save(),k.beginPath();const ve=z.Konva._fixTextRendering?Math.round(Y/4):Math.round(Y/2),ye=vt,Me=oe+ue+ve;k.moveTo(ye,Me),de=Re.split(" ").length-1,ke=ht===y&&!kt?Tt-ct*2:Qt,k.lineTo(ye+Math.round(ke),Me),k.lineWidth=Y/15;const Va=this._getLinearGradient();k.strokeStyle=Va||mt,k.stroke(),k.restore()}if(qt){k.save(),k.beginPath();const ve=z.Konva._fixTextRendering?-Math.round(Y/4):0;k.moveTo(vt,oe+ue+ve),de=Re.split(" ").length-1,ke=ht===y&&!kt?Tt-ct*2:Qt,k.lineTo(vt+Math.round(ke),oe+ue+ve),k.lineWidth=Y/15;const ye=this._getLinearGradient();k.strokeStyle=ye||mt,k.stroke(),k.restore()}if(it!==D&&(Dt!==0||ht===y)){de=Re.split(" ").length-1;const ve=p(Re);for(let ye=0;ye<ve.length;ye++){const Me=ve[ye];Me===" "&&!kt&&ht===y&&(vt+=(Tt-ct*2-Qt)/de),this._partialTextX=vt,this._partialTextY=oe+ue,this._partialText=Me,k.fillStrokeShape(this),vt+=this.measureSize(Me).width+Dt}}else Dt!==0&&k.setAttr("letterSpacing",`${Dt}px`),this._partialTextX=vt,this._partialTextY=oe+ue,this._partialText=Re,k.fillStrokeShape(this);k.restore(),rt>1&&(oe+=J)}}_hitFunc(k){const tt=this.getWidth(),rt=this.getHeight();k.beginPath(),k.rect(0,0,tt,rt),k.closePath(),k.fillStrokeShape(this)}setText(k){const tt=r.Util._isString(k)?k:k==null?"":k+"";return this._setAttr(S,tt),this}getWidth(){return this.attrs.width===d||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===d||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(k){var tt,rt,ct,Y,J,et,it,ot,ht,Tt,Dt;let mt=q(),Bt=this.fontSize(),Ot;mt.save(),mt.font=this._getContextFont(),Ot=mt.measureText(k),mt.restore();const qt=Bt/100;return{actualBoundingBoxAscent:(tt=Ot.actualBoundingBoxAscent)!==null&&tt!==void 0?tt:71.58203125*qt,actualBoundingBoxDescent:(rt=Ot.actualBoundingBoxDescent)!==null&&rt!==void 0?rt:0,actualBoundingBoxLeft:(ct=Ot.actualBoundingBoxLeft)!==null&&ct!==void 0?ct:-7.421875*qt,actualBoundingBoxRight:(Y=Ot.actualBoundingBoxRight)!==null&&Y!==void 0?Y:75.732421875*qt,alphabeticBaseline:(J=Ot.alphabeticBaseline)!==null&&J!==void 0?J:0,emHeightAscent:(et=Ot.emHeightAscent)!==null&&et!==void 0?et:100*qt,emHeightDescent:(it=Ot.emHeightDescent)!==null&&it!==void 0?it:-20*qt,fontBoundingBoxAscent:(ot=Ot.fontBoundingBoxAscent)!==null&&ot!==void 0?ot:91*qt,fontBoundingBoxDescent:(ht=Ot.fontBoundingBoxDescent)!==null&&ht!==void 0?ht:21*qt,hangingBaseline:(Tt=Ot.hangingBaseline)!==null&&Tt!==void 0?Tt:72.80000305175781*qt,ideographicBaseline:(Dt=Ot.ideographicBaseline)!==null&&Dt!==void 0?Dt:-21*qt,width:Ot.width,height:Bt}}_getContextFont(){return this.fontStyle()+O+this.fontVariant()+O+(this.fontSize()+A)+b(this.fontFamily())}_addTextLine(k){this.align()===y&&(k=k.trim());const rt=this._getTextWidth(k);return this.textArr.push({text:k,width:rt,lastInParagraph:!1})}_getTextWidth(k){const tt=this.letterSpacing(),rt=k.length;return q().measureText(k).width+tt*rt}_setTextData(){let k=this.text().split(`
`),tt=+this.fontSize(),rt=0,ct=this.lineHeight()*tt,Y=this.attrs.width,J=this.attrs.height,et=Y!==d&&Y!==void 0,it=J!==d&&J!==void 0,ot=this.padding(),ht=Y-ot*2,Tt=J-ot*2,Dt=0,mt=this.wrap(),Bt=mt!==H,Ot=mt!==M&&Bt,qt=this.ellipsis();this.textArr=[],q().font=this._getContextFont();const Ve=qt?this._getTextWidth(P):0;for(let oe=0,Ne=k.length;oe<Ne;++oe){let vt=k[oe],ue=this._getTextWidth(vt);if(et&&ue>ht)for(;vt.length>0;){let Ae=0,Re=p(vt).length,Qt="",kt=0;for(;Ae<Re;){const de=Ae+Re>>>1,ke=p(vt),je=ke.slice(0,de+1).join(""),we=this._getTextWidth(je);(qt&&it&&Dt+ct>Tt?we+Ve:we)<=ht?(Ae=de+1,Qt=je,kt=we):Re=de}if(Qt){if(Ot){const je=p(vt),we=p(Qt),ve=je[we.length],ye=ve===O||ve===f;let Me;if(ye&&kt<=ht)Me=we.length;else{const Va=we.lastIndexOf(O),Xl=we.lastIndexOf(f);Me=Math.max(Va,Xl)+1}Me>0&&(Ae=Me,Qt=je.slice(0,Ae).join(""),kt=this._getTextWidth(Qt))}if(Qt=Qt.trimRight(),this._addTextLine(Qt),rt=Math.max(rt,kt),Dt+=ct,this._shouldHandleEllipsis(Dt)){this._tryToAddEllipsisToLastLine();break}if(vt=p(vt).slice(Ae).join("").trimLeft(),vt.length>0&&(ue=this._getTextWidth(vt),ue<=ht)){this._addTextLine(vt),Dt+=ct,rt=Math.max(rt,ue);break}}else break}else this._addTextLine(vt),Dt+=ct,rt=Math.max(rt,ue),this._shouldHandleEllipsis(Dt)&&oe<Ne-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),it&&Dt+ct>Tt)break}this.textHeight=tt,this.textWidth=rt}_shouldHandleEllipsis(k){const tt=+this.fontSize(),rt=this.lineHeight()*tt,ct=this.attrs.height,Y=ct!==d&&ct!==void 0,J=this.padding(),et=ct-J*2;return!(this.wrap()!==H)||Y&&k+rt>et}_tryToAddEllipsisToLastLine(){const k=this.attrs.width,tt=k!==d&&k!==void 0,rt=this.padding(),ct=k-rt*2,Y=this.ellipsis(),J=this.textArr[this.textArr.length-1];!J||!Y||(tt&&(this._getTextWidth(J.text+P)<ct||(J.text=J.text.slice(0,J.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(J.text+P))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const k=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,tt=this.hasShadow();return k&&tt?!0:super._useBufferCanvas()}};return Mn.Text=I,I.prototype._fillFunc=X,I.prototype._strokeFunc=W,I.prototype.className=C,I.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,_._registerNode)(I),c.Factory.overWriteSetter(I,"width",(0,E.getNumberOrAutoValidator)()),c.Factory.overWriteSetter(I,"height",(0,E.getNumberOrAutoValidator)()),c.Factory.addGetterSetter(I,"direction",m),c.Factory.addGetterSetter(I,"fontFamily","Arial"),c.Factory.addGetterSetter(I,"fontSize",12,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(I,"fontStyle",v),c.Factory.addGetterSetter(I,"fontVariant",v),c.Factory.addGetterSetter(I,"padding",0,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(I,"align",o),c.Factory.addGetterSetter(I,"verticalAlign",U),c.Factory.addGetterSetter(I,"lineHeight",1,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(I,"wrap",x),c.Factory.addGetterSetter(I,"ellipsis",!1,(0,E.getBooleanValidator)()),c.Factory.addGetterSetter(I,"letterSpacing",0,(0,E.getNumberValidator)()),c.Factory.addGetterSetter(I,"text","",(0,E.getStringValidator)()),c.Factory.addGetterSetter(I,"textDecoration",""),Mn}var Ei={},fh;function Gd(){if(fh)return Ei;fh=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.TextPath=void 0;const r=Kt(),c=Ct(),V=re(),z=Fr(),E=Ih(),_=Et(),p=_t(),d="",g="normal";function m(T){T.fillText(this.partialText,0,0)}function y(T){T.strokeText(this.partialText,0,0)}let N=class extends V.Shape{constructor(f){super(f),this.dummyCanvas=r.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return z.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const o=this.pathLength;return f-1>o?null:z.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=z.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const o=this.textDecoration(),S=this.fill(),C=this.fontSize(),U=this.glyphInfo;o==="underline"&&f.beginPath();for(let u=0;u<U.length;u++){f.save();const s=U[u].p0;f.translate(s.x,s.y),f.rotate(U[u].rotation),this.partialText=U[u].text,f.fillStrokeShape(this),o==="underline"&&(u===0&&f.moveTo(0,C/2+1),f.lineTo(C,C/2+1)),f.restore()}o==="underline"&&(f.strokeStyle=S,f.lineWidth=C/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const o=this.glyphInfo;if(o.length>=1){const S=o[0].p0;f.moveTo(S.x,S.y)}for(let S=0;S<o.length;S++){const C=o[S].p1;f.lineTo(C.x,C.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return r.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return E.Text.prototype.setText.call(this,f)}_getContextFont(){return E.Text.prototype._getContextFont.call(this)}_getTextSize(f){const S=this.dummyCanvas.getContext("2d");S.save(),S.font=this._getContextFont();const C=S.measureText(f);return S.restore(),{width:C.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:f,height:o}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=o,this.glyphInfo=[],!this.attrs.data)return null;const S=this.letterSpacing(),C=this.align(),U=this.kerningFunc(),u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*S,0);let s=0;C==="center"&&(s=Math.max(0,this.pathLength/2-u/2)),C==="right"&&(s=Math.max(0,this.pathLength-u));const v=(0,E.stringToArray)(this.text());let A=s;for(let O=0;O<v.length;O++){const F=this._getPointAtLength(A);if(!F)return;let D=this._getTextSize(v[O]).width+S;if(v[O]===" "&&C==="justify"){const R=this.text().split(" ").length-1;D+=(this.pathLength-u)/R}const x=this._getPointAtLength(A+D);if(!x)return;const M=z.Path.getLineLength(F.x,F.y,x.x,x.y);let H=0;if(U)try{H=U(v[O-1],v[O])*this.fontSize()}catch{H=0}F.x+=H,x.x+=H,this.textWidth+=H;const P=z.Path.getPointOnLine(H+M/2,F.x,F.y,x.x,x.y),h=Math.atan2(x.y-F.y,x.x-F.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:v[O],rotation:h,p0:F,p1:x}),A+=D}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(A){f.push(A.p0.x),f.push(A.p0.y),f.push(A.p1.x),f.push(A.p1.y)});let o=f[0]||0,S=f[0]||0,C=f[1]||0,U=f[1]||0,u,s;for(let A=0;A<f.length/2;A++)u=f[A*2],s=f[A*2+1],o=Math.min(o,u),S=Math.max(S,u),C=Math.min(C,s),U=Math.max(U,s);const v=this.fontSize();return{x:o-v/2,y:C-v/2,width:S-o+v,height:U-C+v}}destroy(){return r.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Ei.TextPath=N,N.prototype._fillFunc=m,N.prototype._strokeFunc=y,N.prototype._fillFuncHit=m,N.prototype._strokeFuncHit=y,N.prototype.className="TextPath",N.prototype._attrsAffectingSize=["text","fontSize","data"],(0,p._registerNode)(N),c.Factory.addGetterSetter(N,"data"),c.Factory.addGetterSetter(N,"fontFamily","Arial"),c.Factory.addGetterSetter(N,"fontSize",12,(0,_.getNumberValidator)()),c.Factory.addGetterSetter(N,"fontStyle",g),c.Factory.addGetterSetter(N,"align","left"),c.Factory.addGetterSetter(N,"letterSpacing",0,(0,_.getNumberValidator)()),c.Factory.addGetterSetter(N,"textBaseline","middle"),c.Factory.addGetterSetter(N,"fontVariant",g),c.Factory.addGetterSetter(N,"text",d),c.Factory.addGetterSetter(N,"textDecoration",""),c.Factory.addGetterSetter(N,"kerningFunc",void 0),Ei}var Ti={},dh;function Dd(){if(dh)return Ti;dh=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Transformer=void 0;const r=Kt(),c=Ct(),V=wt(),z=re(),E=kh(),_=Lr(),p=_t(),d=Et(),g=_t(),m="tr-konva",y=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(D=>D+`.${m}`).join(" "),N="nodesRect",T=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},o="ontouchstart"in p.Konva._global;function S(D,x,M){if(D==="rotater")return M;x+=r.Util.degToRad(f[D]||0);const H=(r.Util.radToDeg(x)%360+360)%360;return r.Util._inRange(H,315+22.5,360)||r.Util._inRange(H,0,22.5)?"ns-resize":r.Util._inRange(H,45-22.5,45+22.5)?"nesw-resize":r.Util._inRange(H,90-22.5,90+22.5)?"ew-resize":r.Util._inRange(H,135-22.5,135+22.5)?"nwse-resize":r.Util._inRange(H,180-22.5,180+22.5)?"ns-resize":r.Util._inRange(H,225-22.5,225+22.5)?"nesw-resize":r.Util._inRange(H,270-22.5,270+22.5)?"ew-resize":r.Util._inRange(H,315-22.5,315+22.5)?"nwse-resize":(r.Util.error("Transformer has unknown angle for cursor detection: "+H),"pointer")}const C=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function U(D){return{x:D.x+D.width/2*Math.cos(D.rotation)+D.height/2*Math.sin(-D.rotation),y:D.y+D.height/2*Math.cos(D.rotation)+D.width/2*Math.sin(D.rotation)}}function u(D,x,M){const H=M.x+(D.x-M.x)*Math.cos(x)-(D.y-M.y)*Math.sin(x),P=M.y+(D.x-M.x)*Math.sin(x)+(D.y-M.y)*Math.cos(x);return{...D,rotation:D.rotation+x,x:H,y:P}}function s(D,x){const M=U(D);return u(D,x,M)}function v(D,x,M){let H=x;for(let P=0;P<D.length;P++){const h=p.Konva.getAngle(D[P]),R=Math.abs(h-x)%(Math.PI*2);Math.min(R,Math.PI*2-R)<M&&(H=h)}return H}let A=0,O=class extends _.Group{constructor(x){super(x),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(y,this.update),this.getNode()&&this.update()}attachTo(x){return this.setNode(x),this}setNode(x){return r.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([x])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return m+this._id}setNodes(x=[]){this._nodes&&this._nodes.length&&this.detach();const M=x.filter(P=>P.isAncestorOf(this)?(r.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=x=M,x.length===1&&this.useSingleNodeRotation()?this.rotation(x[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(P=>{const h=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(P._attrsAffectingSize.length){const R=P._attrsAffectingSize.map(b=>b+"Change."+this._getEventNamespace()).join(" ");P.on(R,h)}P.on(T.map(R=>R+`.${this._getEventNamespace()}`).join(" "),h),P.on(`absoluteTransformChange.${this._getEventNamespace()}`,h),this._proxyDrag(P)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(x){let M;x.on(`dragstart.${this._getEventNamespace()}`,H=>{M=x.getAbsolutePosition(),!this.isDragging()&&x!==this.findOne(".back")&&this.startDrag(H,!1)}),x.on(`dragmove.${this._getEventNamespace()}`,H=>{if(!M)return;const P=x.getAbsolutePosition(),h=P.x-M.x,R=P.y-M.y;this.nodes().forEach(b=>{if(b===x||b.isDragging())return;const B=b.getAbsolutePosition();b.setAbsolutePosition({x:B.x+h,y:B.y+R}),b.startDrag(H)}),M=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(x=>{x.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(N),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(N,this.__getNodeRect)}__getNodeShape(x,M=this.rotation(),H){const P=x.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=x.getAbsoluteScale(H),R=x.getAbsolutePosition(H),b=P.x*h.x-x.offsetX()*h.x,B=P.y*h.y-x.offsetY()*h.y,q=(p.Konva.getAngle(x.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),X={x:R.x+b*Math.cos(q)+B*Math.sin(-q),y:R.y+B*Math.cos(q)+b*Math.sin(q),width:P.width*h.x,height:P.height*h.y,rotation:q};return u(X,-p.Konva.getAngle(M),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const M=[];this.nodes().map(q=>{const X=q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),W=[{x:X.x,y:X.y},{x:X.x+X.width,y:X.y},{x:X.x+X.width,y:X.y+X.height},{x:X.x,y:X.y+X.height}],Z=q.getAbsoluteTransform();W.forEach(function(I){const lt=Z.point(I);M.push(lt)})});const H=new r.Transform;H.rotate(-p.Konva.getAngle(this.rotation()));let P=1/0,h=1/0,R=-1/0,b=-1/0;M.forEach(function(q){const X=H.point(q);P===void 0&&(P=R=X.x,h=b=X.y),P=Math.min(P,X.x),h=Math.min(h,X.y),R=Math.max(R,X.x),b=Math.max(b,X.y)}),H.invert();const B=H.point({x:P,y:h});return{x:B.x,y:B.y,width:R-P,height:b-h,rotation:p.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C.forEach(x=>{this._createAnchor(x)}),this._createAnchor("rotater")}_createAnchor(x){const M=new E.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:x+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:o?10:"auto"}),H=this;M.on("mousedown touchstart",function(P){H._handleMouseDown(P)}),M.on("dragstart",P=>{M.stopDrag(),P.cancelBubble=!0}),M.on("dragend",P=>{P.cancelBubble=!0}),M.on("mouseenter",()=>{const P=p.Konva.getAngle(this.rotation()),h=this.rotateAnchorCursor(),R=S(x,P,h);M.getStage().content&&(M.getStage().content.style.cursor=R),this._cursorChange=!0}),M.on("mouseout",()=>{M.getStage().content&&(M.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(M)}_createBack(){const x=new z.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(M,H){const P=H.getParent(),h=P.padding();M.beginPath(),M.rect(-h,-h,H.width()+h*2,H.height()+h*2),M.moveTo(H.width()/2,-h),P.rotateEnabled()&&P.rotateLineVisible()&&M.lineTo(H.width()/2,-P.rotateAnchorOffset()*r.Util._sign(H.height())-h),M.fillStrokeShape(H)},hitFunc:(M,H)=>{if(!this.shouldOverdrawWholeArea())return;const P=this.padding();M.beginPath(),M.rect(-P,-P,H.width()+P*2,H.height()+P*2),M.fillStrokeShape(H)}});this.add(x),this._proxyDrag(x),x.on("dragstart",M=>{M.cancelBubble=!0}),x.on("dragmove",M=>{M.cancelBubble=!0}),x.on("dragend",M=>{M.cancelBubble=!0}),this.on("dragmove",M=>{this.update()})}_handleMouseDown(x){if(this._transforming)return;this._movingAnchorName=x.target.name().split(" ")[0];const M=this._getNodeRect(),H=M.width,P=M.height,h=Math.sqrt(Math.pow(H,2)+Math.pow(P,2));this.sin=Math.abs(P/h),this.cos=Math.abs(H/h),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const R=x.target.getAbsolutePosition(),b=x.target.getStage().getPointerPosition();this._anchorDragOffset={x:b.x-R.x,y:b.y-R.y},A++,this._fire("transformstart",{evt:x.evt,target:this.getNode()}),this._nodes.forEach(B=>{B._fire("transformstart",{evt:x.evt,target:B})})}_handleMouseMove(x){let M,H,P;const h=this.findOne("."+this._movingAnchorName),R=h.getStage();R.setPointersPositions(x);const b=R.getPointerPosition();let B={x:b.x-this._anchorDragOffset.x,y:b.y-this._anchorDragOffset.y};const q=h.getAbsolutePosition();this.anchorDragBoundFunc()&&(B=this.anchorDragBoundFunc()(q,B,x)),h.setAbsolutePosition(B);const X=h.getAbsolutePosition();if(q.x===X.x&&q.y===X.y)return;if(this._movingAnchorName==="rotater"){const et=this._getNodeRect();M=h.x()-et.width/2,H=-h.y()+et.height/2;let it=Math.atan2(-H,M)+Math.PI/2;et.height<0&&(it-=Math.PI);const ht=p.Konva.getAngle(this.rotation())+it,Tt=p.Konva.getAngle(this.rotationSnapTolerance()),mt=v(this.rotationSnaps(),ht,Tt)-et.rotation,Bt=s(et,mt);this._fitNodesInto(Bt,x);return}const W=this.shiftBehavior();let Z;W==="inverted"?Z=this.keepRatio()&&!x.shiftKey:W==="none"?Z=this.keepRatio():Z=this.keepRatio()||x.shiftKey;var rt=this.centeredScaling()||x.altKey;if(this._movingAnchorName==="top-left"){if(Z){var I=rt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};P=Math.sqrt(Math.pow(I.x-h.x(),2)+Math.pow(I.y-h.y(),2));var lt=this.findOne(".top-left").x()>I.x?-1:1,k=this.findOne(".top-left").y()>I.y?-1:1;M=P*this.cos*lt,H=P*this.sin*k,this.findOne(".top-left").x(I.x-M),this.findOne(".top-left").y(I.y-H)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(h.y());else if(this._movingAnchorName==="top-right"){if(Z){var I=rt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};P=Math.sqrt(Math.pow(h.x()-I.x,2)+Math.pow(I.y-h.y(),2));var lt=this.findOne(".top-right").x()<I.x?-1:1,k=this.findOne(".top-right").y()>I.y?-1:1;M=P*this.cos*lt,H=P*this.sin*k,this.findOne(".top-right").x(I.x+M),this.findOne(".top-right").y(I.y-H)}var tt=h.position();this.findOne(".top-left").y(tt.y),this.findOne(".bottom-right").x(tt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(h.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(h.x());else if(this._movingAnchorName==="bottom-left"){if(Z){var I=rt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};P=Math.sqrt(Math.pow(I.x-h.x(),2)+Math.pow(h.y()-I.y,2));var lt=I.x<h.x()?-1:1,k=h.y()<I.y?-1:1;M=P*this.cos*lt,H=P*this.sin*k,h.x(I.x-M),h.y(I.y+H)}tt=h.position(),this.findOne(".top-left").x(tt.x),this.findOne(".bottom-right").y(tt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(h.y());else if(this._movingAnchorName==="bottom-right"){if(Z){var I=rt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};P=Math.sqrt(Math.pow(h.x()-I.x,2)+Math.pow(h.y()-I.y,2));var lt=this.findOne(".bottom-right").x()<I.x?-1:1,k=this.findOne(".bottom-right").y()<I.y?-1:1;M=P*this.cos*lt,H=P*this.sin*k,this.findOne(".bottom-right").x(I.x+M),this.findOne(".bottom-right").y(I.y+H)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var rt=this.centeredScaling()||x.altKey;if(rt){const et=this.findOne(".top-left"),it=this.findOne(".bottom-right"),ot=et.x(),ht=et.y(),Tt=this.getWidth()-it.x(),Dt=this.getHeight()-it.y();it.move({x:-ot,y:-ht}),et.move({x:Tt,y:Dt})}const ct=this.findOne(".top-left").getAbsolutePosition();M=ct.x,H=ct.y;const Y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),J=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:M,y:H,width:Y,height:J,rotation:p.Konva.getAngle(this.rotation())},x)}_handleMouseUp(x){this._removeEvents(x)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(x){var M;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const H=this.getNode();A--,this._fire("transformend",{evt:x,target:H}),(M=this.getLayer())===null||M===void 0||M.batchDraw(),H&&this._nodes.forEach(P=>{var h;P._fire("transformend",{evt:x,target:P}),(h=P.getLayer())===null||h===void 0||h.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(x,M){const H=this._getNodeRect(),P=1;if(r.Util._inRange(x.width,-this.padding()*2-P,P)){this.update();return}if(r.Util._inRange(x.height,-this.padding()*2-P,P)){this.update();return}const h=new r.Transform;if(h.rotate(p.Konva.getAngle(this.rotation())),this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("left")>=0){const Z=h.point({x:-this.padding()*2,y:0});x.x+=Z.x,x.y+=Z.y,x.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y}else if(this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("right")>=0){const Z=h.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y,x.width+=this.padding()*2}if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("top")>=0){const Z=h.point({x:0,y:-this.padding()*2});x.x+=Z.x,x.y+=Z.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y,x.height+=this.padding()*2}else if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const Z=h.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y,x.height+=this.padding()*2}if(this.boundBoxFunc()){const Z=this.boundBoxFunc()(H,x);Z?x=Z:r.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const R=1e7,b=new r.Transform;b.translate(H.x,H.y),b.rotate(H.rotation),b.scale(H.width/R,H.height/R);const B=new r.Transform,q=x.width/R,X=x.height/R;this.flipEnabled()===!1?(B.translate(x.x,x.y),B.rotate(x.rotation),B.translate(x.width<0?x.width:0,x.height<0?x.height:0),B.scale(Math.abs(q),Math.abs(X))):(B.translate(x.x,x.y),B.rotate(x.rotation),B.scale(q,X));const W=B.multiply(b.invert());this._nodes.forEach(Z=>{var I;const lt=Z.getParent().getAbsoluteTransform(),k=Z.getTransform().copy();k.translate(Z.offsetX(),Z.offsetY());const tt=new r.Transform;tt.multiply(lt.copy().invert()).multiply(W).multiply(lt).multiply(k);const rt=tt.decompose();Z.setAttrs(rt),(I=Z.getLayer())===null||I===void 0||I.batchDraw()}),this.rotation(r.Util._getRotation(x.rotation)),this._nodes.forEach(Z=>{this._fire("transform",{evt:M,target:Z}),Z._fire("transform",{evt:M,target:Z})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(x,M){this.findOne(x).setAttrs(M)}update(){var x;const M=this._getNodeRect();this.rotation(r.Util._getRotation(M.rotation));const H=M.width,P=M.height,h=this.enabledAnchors(),R=this.resizeEnabled(),b=this.padding(),B=this.anchorSize(),q=this.find("._anchor");q.forEach(W=>{W.setAttrs({width:B,height:B,offsetX:B/2,offsetY:B/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:B/2+b,offsetY:B/2+b,visible:R&&h.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:H/2,y:0,offsetY:B/2+b,visible:R&&h.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:H,y:0,offsetX:B/2-b,offsetY:B/2+b,visible:R&&h.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:P/2,offsetX:B/2+b,visible:R&&h.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:H,y:P/2,offsetX:B/2-b,visible:R&&h.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:P,offsetX:B/2+b,offsetY:B/2-b,visible:R&&h.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:H/2,y:P,offsetY:B/2-b,visible:R&&h.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:H,y:P,offsetX:B/2-b,offsetY:B/2-b,visible:R&&h.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:H/2,y:-this.rotateAnchorOffset()*r.Util._sign(P)-b,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:H,height:P,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const X=this.anchorStyleFunc();X&&q.forEach(W=>{X(W)}),(x=this.getLayer())===null||x===void 0||x.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const x=this.findOne("."+this._movingAnchorName);x&&x.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),_.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return V.Node.prototype.toObject.call(this)}clone(x){return V.Node.prototype.clone.call(this,x)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ti.Transformer=O,O.isTransforming=()=>A>0;function F(D){return D instanceof Array||r.Util.warn("enabledAnchors value should be an array"),D instanceof Array&&D.forEach(function(x){C.indexOf(x)===-1&&r.Util.warn("Unknown anchor name: "+x+". Available names are: "+C.join(", "))}),D||[]}return O.prototype.className="Transformer",(0,g._registerNode)(O),c.Factory.addGetterSetter(O,"enabledAnchors",C,F),c.Factory.addGetterSetter(O,"flipEnabled",!0,(0,d.getBooleanValidator)()),c.Factory.addGetterSetter(O,"resizeEnabled",!0),c.Factory.addGetterSetter(O,"anchorSize",10,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"rotateEnabled",!0),c.Factory.addGetterSetter(O,"rotateLineVisible",!0),c.Factory.addGetterSetter(O,"rotationSnaps",[]),c.Factory.addGetterSetter(O,"rotateAnchorOffset",50,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"rotateAnchorCursor","crosshair"),c.Factory.addGetterSetter(O,"rotationSnapTolerance",5,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"borderEnabled",!0),c.Factory.addGetterSetter(O,"anchorStroke","rgb(0, 161, 255)"),c.Factory.addGetterSetter(O,"anchorStrokeWidth",1,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"anchorFill","white"),c.Factory.addGetterSetter(O,"anchorCornerRadius",0,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"borderStroke","rgb(0, 161, 255)"),c.Factory.addGetterSetter(O,"borderStrokeWidth",1,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"borderDash"),c.Factory.addGetterSetter(O,"keepRatio",!0),c.Factory.addGetterSetter(O,"shiftBehavior","default"),c.Factory.addGetterSetter(O,"centeredScaling",!1),c.Factory.addGetterSetter(O,"ignoreStroke",!1),c.Factory.addGetterSetter(O,"padding",0,(0,d.getNumberValidator)()),c.Factory.addGetterSetter(O,"nodes"),c.Factory.addGetterSetter(O,"node"),c.Factory.addGetterSetter(O,"boundBoxFunc"),c.Factory.addGetterSetter(O,"anchorDragBoundFunc"),c.Factory.addGetterSetter(O,"anchorStyleFunc"),c.Factory.addGetterSetter(O,"shouldOverdrawWholeArea",!1),c.Factory.addGetterSetter(O,"useSingleNodeRotation",!0),c.Factory.backCompat(O,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ti}var Ni={},gh;function Ud(){if(gh)return Ni;gh=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.Wedge=void 0;const r=Ct(),c=re(),V=_t(),z=Et(),E=_t();let _=class extends c.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.radius(),0,V.Konva.getAngle(this.angle()),this.clockwise()),d.lineTo(0,0),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return Ni.Wedge=_,_.prototype.className="Wedge",_.prototype._centroid=!0,_.prototype._attrsAffectingSize=["radius"],(0,E._registerNode)(_),r.Factory.addGetterSetter(_,"radius",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(_,"angle",0,(0,z.getNumberValidator)()),r.Factory.addGetterSetter(_,"clockwise",!1),r.Factory.backCompat(_,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Ni}var Ai={},mh;function zd(){if(mh)return Ai;mh=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Blur=void 0;const r=Ct(),c=wt(),V=Et();function z(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const E=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function p(g,m){const y=g.data,N=g.width,T=g.height;let f,o,S,C,U,u,s,v,A,O,F,D,x,M,H,P,h,R,b,B,q,X,W,Z;const I=m+m+1,lt=N-1,k=T-1,tt=m+1,rt=tt*(tt+1)/2,ct=new z,Y=E[m],J=_[m];let et=null,it=ct,ot=null,ht=null;for(S=1;S<I;S++)it=it.next=new z,S===tt&&(et=it);for(it.next=ct,s=u=0,o=0;o<T;o++){for(P=h=R=b=v=A=O=F=0,D=tt*(B=y[u]),x=tt*(q=y[u+1]),M=tt*(X=y[u+2]),H=tt*(W=y[u+3]),v+=rt*B,A+=rt*q,O+=rt*X,F+=rt*W,it=ct,S=0;S<tt;S++)it.r=B,it.g=q,it.b=X,it.a=W,it=it.next;for(S=1;S<tt;S++)C=u+((lt<S?lt:S)<<2),v+=(it.r=B=y[C])*(Z=tt-S),A+=(it.g=q=y[C+1])*Z,O+=(it.b=X=y[C+2])*Z,F+=(it.a=W=y[C+3])*Z,P+=B,h+=q,R+=X,b+=W,it=it.next;for(ot=ct,ht=et,f=0;f<N;f++)y[u+3]=W=F*Y>>J,W!==0?(W=255/W,y[u]=(v*Y>>J)*W,y[u+1]=(A*Y>>J)*W,y[u+2]=(O*Y>>J)*W):y[u]=y[u+1]=y[u+2]=0,v-=D,A-=x,O-=M,F-=H,D-=ot.r,x-=ot.g,M-=ot.b,H-=ot.a,C=s+((C=f+m+1)<lt?C:lt)<<2,P+=ot.r=y[C],h+=ot.g=y[C+1],R+=ot.b=y[C+2],b+=ot.a=y[C+3],v+=P,A+=h,O+=R,F+=b,ot=ot.next,D+=B=ht.r,x+=q=ht.g,M+=X=ht.b,H+=W=ht.a,P-=B,h-=q,R-=X,b-=W,ht=ht.next,u+=4;s+=N}for(f=0;f<N;f++){for(h=R=b=P=A=O=F=v=0,u=f<<2,D=tt*(B=y[u]),x=tt*(q=y[u+1]),M=tt*(X=y[u+2]),H=tt*(W=y[u+3]),v+=rt*B,A+=rt*q,O+=rt*X,F+=rt*W,it=ct,S=0;S<tt;S++)it.r=B,it.g=q,it.b=X,it.a=W,it=it.next;for(U=N,S=1;S<=m;S++)u=U+f<<2,v+=(it.r=B=y[u])*(Z=tt-S),A+=(it.g=q=y[u+1])*Z,O+=(it.b=X=y[u+2])*Z,F+=(it.a=W=y[u+3])*Z,P+=B,h+=q,R+=X,b+=W,it=it.next,S<k&&(U+=N);for(u=f,ot=ct,ht=et,o=0;o<T;o++)C=u<<2,y[C+3]=W=F*Y>>J,W>0?(W=255/W,y[C]=(v*Y>>J)*W,y[C+1]=(A*Y>>J)*W,y[C+2]=(O*Y>>J)*W):y[C]=y[C+1]=y[C+2]=0,v-=D,A-=x,O-=M,F-=H,D-=ot.r,x-=ot.g,M-=ot.b,H-=ot.a,C=f+((C=o+tt)<k?C:k)*N<<2,v+=P+=ot.r=y[C],A+=h+=ot.g=y[C+1],O+=R+=ot.b=y[C+2],F+=b+=ot.a=y[C+3],ot=ot.next,D+=B=ht.r,x+=q=ht.g,M+=X=ht.b,H+=W=ht.a,P-=B,h-=q,R-=X,b-=W,ht=ht.next,u+=N}}const d=function(m){const y=Math.round(this.blurRadius());y>0&&p(m,y)};return Ai.Blur=d,r.Factory.addGetterSetter(c.Node,"blurRadius",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Ai}var Ri={},ph;function Hd(){if(ph)return Ri;ph=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Brighten=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=this.brightness()*255,p=E.data,d=p.length;for(let g=0;g<d;g+=4)p[g]+=_,p[g+1]+=_,p[g+2]+=_};return Ri.Brighten=z,r.Factory.addGetterSetter(c.Node,"brightness",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Ri}var Mi={},vh;function Bd(){if(vh)return Mi;vh=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Contrast=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=Math.pow((this.contrast()+100)/100,2),p=E.data,d=p.length;let g=150,m=150,y=150;for(let N=0;N<d;N+=4)g=p[N],m=p[N+1],y=p[N+2],g/=255,g-=.5,g*=_,g+=.5,g*=255,m/=255,m-=.5,m*=_,m+=.5,m*=255,y/=255,y-=.5,y*=_,y+=.5,y*=255,g=g<0?0:g>255?255:g,m=m<0?0:m>255?255:m,y=y<0?0:y>255?255:y,p[N]=g,p[N+1]=m,p[N+2]=y};return Mi.Contrast=z,r.Factory.addGetterSetter(c.Node,"contrast",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Mi}var xi={},yh;function Vd(){if(yh)return xi;yh=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Emboss=void 0;const r=Ct(),c=wt(),V=Kt(),z=Et(),E=function(_){const p=this.embossStrength()*10,d=this.embossWhiteLevel()*255,g=this.embossDirection(),m=this.embossBlend(),y=_.data,N=_.width,T=_.height,f=N*4;let o=0,S=0,C=T;switch(g){case"top-left":o=-1,S=-1;break;case"top":o=-1,S=0;break;case"top-right":o=-1,S=1;break;case"right":o=0,S=1;break;case"bottom-right":o=1,S=1;break;case"bottom":o=1,S=0;break;case"bottom-left":o=1,S=-1;break;case"left":o=0,S=-1;break;default:V.Util.error("Unknown emboss direction: "+g)}do{const U=(C-1)*f;let u=o;C+u<1&&(u=0),C+u>T&&(u=0);const s=(C-1+u)*N*4;let v=N;do{const A=U+(v-1)*4;let O=S;v+O<1&&(O=0),v+O>N&&(O=0);const F=s+(v-1+O)*4,D=y[A]-y[F],x=y[A+1]-y[F+1],M=y[A+2]-y[F+2];let H=D;const P=H>0?H:-H,h=x>0?x:-x,R=M>0?M:-M;if(h>P&&(H=x),R>P&&(H=M),H*=p,m){const b=y[A]+H,B=y[A+1]+H,q=y[A+2]+H;y[A]=b>255?255:b<0?0:b,y[A+1]=B>255?255:B<0?0:B,y[A+2]=q>255?255:q<0?0:q}else{let b=d-H;b<0?b=0:b>255&&(b=255),y[A]=y[A+1]=y[A+2]=b}}while(--v)}while(--C)};return xi.Emboss=E,r.Factory.addGetterSetter(c.Node,"embossStrength",.5,(0,z.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"embossWhiteLevel",.5,(0,z.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"embossDirection","top-left",void 0,r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"embossBlend",!1,void 0,r.Factory.afterSetFilter),xi}var Oi={},_h;function qd(){if(_h)return Oi;_h=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.Enhance=void 0;const r=Ct(),c=wt(),V=Et();function z(_,p,d,g,m){const y=d-p,N=m-g;if(y===0)return g+N/2;if(N===0)return g;let T=(_-p)/y;return T=N*T+g,T}const E=function(_){const p=_.data,d=p.length;let g=p[0],m=g,y,N=p[1],T=N,f,o=p[2],S=o,C;const U=this.enhance();if(U===0)return;for(let H=0;H<d;H+=4)y=p[H+0],y<g?g=y:y>m&&(m=y),f=p[H+1],f<N?N=f:f>T&&(T=f),C=p[H+2],C<o?o=C:C>S&&(S=C);m===g&&(m=255,g=0),T===N&&(T=255,N=0),S===o&&(S=255,o=0);let u,s,v,A,O,F,D,x,M;U>0?(s=m+U*(255-m),v=g-U*(g-0),O=T+U*(255-T),F=N-U*(N-0),x=S+U*(255-S),M=o-U*(o-0)):(u=(m+g)*.5,s=m+U*(m-u),v=g+U*(g-u),A=(T+N)*.5,O=T+U*(T-A),F=N+U*(N-A),D=(S+o)*.5,x=S+U*(S-D),M=o+U*(o-D));for(let H=0;H<d;H+=4)p[H+0]=z(p[H+0],g,m,v,s),p[H+1]=z(p[H+1],N,T,F,O),p[H+2]=z(p[H+2],o,S,M,x)};return Oi.Enhance=E,r.Factory.addGetterSetter(c.Node,"enhance",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Oi}var Gi={},Sh;function Ld(){if(Sh)return Gi;Sh=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.Grayscale=void 0;const r=function(c){const V=c.data,z=V.length;for(let E=0;E<z;E+=4){const _=.34*V[E]+.5*V[E+1]+.16*V[E+2];V[E]=_,V[E+1]=_,V[E+2]=_}};return Gi.Grayscale=r,Gi}var Di={},bh;function Yd(){if(bh)return Di;bh=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.HSL=void 0;const r=Ct(),c=wt(),V=Et();r.Factory.addGetterSetter(c.Node,"hue",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"saturation",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"luminance",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter);const z=function(E){const _=E.data,p=_.length,d=1,g=Math.pow(2,this.saturation()),m=Math.abs(this.hue()+360)%360,y=this.luminance()*127,N=d*g*Math.cos(m*Math.PI/180),T=d*g*Math.sin(m*Math.PI/180),f=.299*d+.701*N+.167*T,o=.587*d-.587*N+.33*T,S=.114*d-.114*N-.497*T,C=.299*d-.299*N-.328*T,U=.587*d+.413*N+.035*T,u=.114*d-.114*N+.293*T,s=.299*d-.3*N+1.25*T,v=.587*d-.586*N-1.05*T,A=.114*d+.886*N-.2*T;let O,F,D,x;for(let M=0;M<p;M+=4)O=_[M+0],F=_[M+1],D=_[M+2],x=_[M+3],_[M+0]=f*O+o*F+S*D+y,_[M+1]=C*O+U*F+u*D+y,_[M+2]=s*O+v*F+A*D+y,_[M+3]=x};return Di.HSL=z,Di}var Ui={},Ch;function Fd(){if(Ch)return Ui;Ch=1,Object.defineProperty(Ui,"__esModule",{value:!0}),Ui.HSV=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=E.data,p=_.length,d=Math.pow(2,this.value()),g=Math.pow(2,this.saturation()),m=Math.abs(this.hue()+360)%360,y=d*g*Math.cos(m*Math.PI/180),N=d*g*Math.sin(m*Math.PI/180),T=.299*d+.701*y+.167*N,f=.587*d-.587*y+.33*N,o=.114*d-.114*y-.497*N,S=.299*d-.299*y-.328*N,C=.587*d+.413*y+.035*N,U=.114*d-.114*y+.293*N,u=.299*d-.3*y+1.25*N,s=.587*d-.586*y-1.05*N,v=.114*d+.886*y-.2*N;let A,O,F,D;for(let x=0;x<p;x+=4)A=_[x+0],O=_[x+1],F=_[x+2],D=_[x+3],_[x+0]=T*A+f*O+o*F,_[x+1]=S*A+C*O+U*F,_[x+2]=u*A+s*O+v*F,_[x+3]=D};return Ui.HSV=z,r.Factory.addGetterSetter(c.Node,"hue",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"saturation",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"value",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Ui}var zi={},Eh;function Pd(){if(Eh)return zi;Eh=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Invert=void 0;const r=function(c){const V=c.data,z=V.length;for(let E=0;E<z;E+=4)V[E]=255-V[E],V[E+1]=255-V[E+1],V[E+2]=255-V[E+2]};return zi.Invert=r,zi}var Hi={},Th;function Kd(){if(Th)return Hi;Th=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.Kaleidoscope=void 0;const r=Ct(),c=wt(),V=Kt(),z=Et(),E=function(d,g,m){const y=d.data,N=g.data,T=d.width,f=d.height,o=m.polarCenterX||T/2,S=m.polarCenterY||f/2;let C=Math.sqrt(o*o+S*S),U=T-o,u=f-S;const s=Math.sqrt(U*U+u*u);C=s>C?s:C;const v=f,A=T,O=360/A*Math.PI/180;for(let F=0;F<A;F+=1){const D=Math.sin(F*O),x=Math.cos(F*O);for(let M=0;M<v;M+=1){U=Math.floor(o+C*M/v*x),u=Math.floor(S+C*M/v*D);let H=(u*T+U)*4;const P=y[H+0],h=y[H+1],R=y[H+2],b=y[H+3];H=(F+M*T)*4,N[H+0]=P,N[H+1]=h,N[H+2]=R,N[H+3]=b}}},_=function(d,g,m){const y=d.data,N=g.data,T=d.width,f=d.height,o=m.polarCenterX||T/2,S=m.polarCenterY||f/2;let C=Math.sqrt(o*o+S*S),U=T-o,u=f-S;const s=Math.sqrt(U*U+u*u);C=s>C?s:C;const v=f,A=T,O=0;let F,D;for(U=0;U<T;U+=1)for(u=0;u<f;u+=1){const x=U-o,M=u-S,H=Math.sqrt(x*x+M*M)*v/C;let P=(Math.atan2(M,x)*180/Math.PI+360+O)%360;P=P*A/360,F=Math.floor(P),D=Math.floor(H);let h=(D*T+F)*4;const R=y[h+0],b=y[h+1],B=y[h+2],q=y[h+3];h=(u*T+U)*4,N[h+0]=R,N[h+1]=b,N[h+2]=B,N[h+3]=q}},p=function(d){const g=d.width,m=d.height;let y,N,T,f,o,S,C,U,u,s,v=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),O=Math.floor(g*(A%360)/360);if(v<1)return;const F=V.Util.createCanvasElement();F.width=g,F.height=m;const D=F.getContext("2d").getImageData(0,0,g,m);V.Util.releaseCanvas(F),E(d,D,{polarCenterX:g/2,polarCenterY:m/2});let x=g/Math.pow(2,v);for(;x<=8;)x=x*2,v-=1;x=Math.ceil(x);let M=x,H=0,P=M,h=1;for(O+x>g&&(H=M,P=0,h=-1),N=0;N<m;N+=1)for(y=H;y!==P;y+=h)T=Math.round(y+O)%g,u=(g*N+T)*4,o=D.data[u+0],S=D.data[u+1],C=D.data[u+2],U=D.data[u+3],s=(g*N+y)*4,D.data[s+0]=o,D.data[s+1]=S,D.data[s+2]=C,D.data[s+3]=U;for(N=0;N<m;N+=1)for(M=Math.floor(x),f=0;f<v;f+=1){for(y=0;y<M+1;y+=1)u=(g*N+y)*4,o=D.data[u+0],S=D.data[u+1],C=D.data[u+2],U=D.data[u+3],s=(g*N+M*2-y-1)*4,D.data[s+0]=o,D.data[s+1]=S,D.data[s+2]=C,D.data[s+3]=U;M*=2}_(D,d,{})};return Hi.Kaleidoscope=p,r.Factory.addGetterSetter(c.Node,"kaleidoscopePower",2,(0,z.getNumberValidator)(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"kaleidoscopeAngle",0,(0,z.getNumberValidator)(),r.Factory.afterSetFilter),Hi}var Bi={},Nh;function Xd(){if(Nh)return Bi;Nh=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.Mask=void 0;const r=Ct(),c=wt(),V=Et();function z(T,f,o){let S=(o*T.width+f)*4;const C=[];return C.push(T.data[S++],T.data[S++],T.data[S++],T.data[S++]),C}function E(T,f){return Math.sqrt(Math.pow(T[0]-f[0],2)+Math.pow(T[1]-f[1],2)+Math.pow(T[2]-f[2],2))}function _(T){const f=[0,0,0];for(let o=0;o<T.length;o++)f[0]+=T[o][0],f[1]+=T[o][1],f[2]+=T[o][2];return f[0]/=T.length,f[1]/=T.length,f[2]/=T.length,f}function p(T,f){const o=z(T,0,0),S=z(T,T.width-1,0),C=z(T,0,T.height-1),U=z(T,T.width-1,T.height-1),u=f||10;if(E(o,S)<u&&E(S,U)<u&&E(U,C)<u&&E(C,o)<u){const s=_([S,o,U,C]),v=[];for(let A=0;A<T.width*T.height;A++){const O=E(s,[T.data[A*4],T.data[A*4+1],T.data[A*4+2]]);v[A]=O<u?0:255}return v}}function d(T,f){for(let o=0;o<T.width*T.height;o++)T.data[4*o+3]=f[o]}function g(T,f,o){const S=[1,1,1,1,0,1,1,1,1],C=Math.round(Math.sqrt(S.length)),U=Math.floor(C/2),u=[];for(let s=0;s<o;s++)for(let v=0;v<f;v++){const A=s*f+v;let O=0;for(let F=0;F<C;F++)for(let D=0;D<C;D++){const x=s+F-U,M=v+D-U;if(x>=0&&x<o&&M>=0&&M<f){const H=x*f+M,P=S[F*C+D];O+=T[H]*P}}u[A]=O===255*8?255:0}return u}function m(T,f,o){const S=[1,1,1,1,1,1,1,1,1],C=Math.round(Math.sqrt(S.length)),U=Math.floor(C/2),u=[];for(let s=0;s<o;s++)for(let v=0;v<f;v++){const A=s*f+v;let O=0;for(let F=0;F<C;F++)for(let D=0;D<C;D++){const x=s+F-U,M=v+D-U;if(x>=0&&x<o&&M>=0&&M<f){const H=x*f+M,P=S[F*C+D];O+=T[H]*P}}u[A]=O>=255*4?255:0}return u}function y(T,f,o){const S=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],C=Math.round(Math.sqrt(S.length)),U=Math.floor(C/2),u=[];for(let s=0;s<o;s++)for(let v=0;v<f;v++){const A=s*f+v;let O=0;for(let F=0;F<C;F++)for(let D=0;D<C;D++){const x=s+F-U,M=v+D-U;if(x>=0&&x<o&&M>=0&&M<f){const H=x*f+M,P=S[F*C+D];O+=T[H]*P}}u[A]=O}return u}const N=function(T){const f=this.threshold();let o=p(T,f);return o&&(o=g(o,T.width,T.height),o=m(o,T.width,T.height),o=y(o,T.width,T.height),d(T,o)),T};return Bi.Mask=N,r.Factory.addGetterSetter(c.Node,"threshold",0,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Bi}var Vi={},Ah;function jd(){if(Ah)return Vi;Ah=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Noise=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=this.noise()*255,p=E.data,d=p.length,g=_/2;for(let m=0;m<d;m+=4)p[m+0]+=g-2*g*Math.random(),p[m+1]+=g-2*g*Math.random(),p[m+2]+=g-2*g*Math.random()};return Vi.Noise=z,r.Factory.addGetterSetter(c.Node,"noise",.2,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Vi}var qi={},Rh;function wd(){if(Rh)return qi;Rh=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.Pixelate=void 0;const r=Ct(),c=Kt(),V=wt(),z=Et(),E=function(_){let p=Math.ceil(this.pixelSize()),d=_.width,g=_.height,m,y,N,T,f,o,S,C=Math.ceil(d/p),U=Math.ceil(g/p),u,s,v,A,O,F,D,x=_.data;if(p<=0){c.Util.error("pixelSize value can not be <= 0");return}for(O=0;O<C;O+=1)for(F=0;F<U;F+=1){for(T=0,f=0,o=0,S=0,u=O*p,s=u+p,v=F*p,A=v+p,D=0,m=u;m<s;m+=1)if(!(m>=d))for(y=v;y<A;y+=1)y>=g||(N=(d*y+m)*4,T+=x[N+0],f+=x[N+1],o+=x[N+2],S+=x[N+3],D+=1);for(T=T/D,f=f/D,o=o/D,S=S/D,m=u;m<s;m+=1)if(!(m>=d))for(y=v;y<A;y+=1)y>=g||(N=(d*y+m)*4,x[N+0]=T,x[N+1]=f,x[N+2]=o,x[N+3]=S)}};return qi.Pixelate=E,r.Factory.addGetterSetter(V.Node,"pixelSize",8,(0,z.getNumberValidator)(),r.Factory.afterSetFilter),qi}var Li={},Mh;function Qd(){if(Mh)return Li;Mh=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.Posterize=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=Math.round(this.levels()*254)+1,p=E.data,d=p.length,g=255/_;for(let m=0;m<d;m+=1)p[m]=Math.floor(p[m]/g)*g};return Li.Posterize=z,r.Factory.addGetterSetter(c.Node,"levels",.5,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Li}var Yi={},xh;function Zd(){if(xh)return Yi;xh=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.RGB=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=E.data,p=_.length,d=this.red(),g=this.green(),m=this.blue();for(let y=0;y<p;y+=4){const N=(.34*_[y]+.5*_[y+1]+.16*_[y+2])/255;_[y]=N*d,_[y+1]=N*g,_[y+2]=N*m,_[y+3]=_[y+3]}};return Yi.RGB=z,r.Factory.addGetterSetter(c.Node,"red",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),r.Factory.addGetterSetter(c.Node,"green",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),r.Factory.addGetterSetter(c.Node,"blue",0,V.RGBComponent,r.Factory.afterSetFilter),Yi}var Fi={},Oh;function Jd(){if(Oh)return Fi;Oh=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.RGBA=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=E.data,p=_.length,d=this.red(),g=this.green(),m=this.blue(),y=this.alpha();for(let N=0;N<p;N+=4){const T=1-y;_[N]=d*y+_[N]*T,_[N+1]=g*y+_[N+1]*T,_[N+2]=m*y+_[N+2]*T}};return Fi.RGBA=z,r.Factory.addGetterSetter(c.Node,"red",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),r.Factory.addGetterSetter(c.Node,"green",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),r.Factory.addGetterSetter(c.Node,"blue",0,V.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(c.Node,"alpha",1,function(E){return this._filterUpToDate=!1,E>1?1:E<0?0:E}),Fi}var Pi={},Gh;function Wd(){if(Gh)return Pi;Gh=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.Sepia=void 0;const r=function(c){const V=c.data,z=V.length;for(let E=0;E<z;E+=4){const _=V[E+0],p=V[E+1],d=V[E+2];V[E+0]=Math.min(255,_*.393+p*.769+d*.189),V[E+1]=Math.min(255,_*.349+p*.686+d*.168),V[E+2]=Math.min(255,_*.272+p*.534+d*.131)}};return Pi.Sepia=r,Pi}var Ki={},Dh;function kd(){if(Dh)return Ki;Dh=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.Solarize=void 0;const r=function(c){const V=c.data,z=c.width,E=c.height,_=z*4;let p=E;do{const d=(p-1)*_;let g=z;do{const m=d+(g-1)*4;let y=V[m],N=V[m+1],T=V[m+2];y>127&&(y=255-y),N>127&&(N=255-N),T>127&&(T=255-T),V[m]=y,V[m+1]=N,V[m+2]=T}while(--g)}while(--p)};return Ki.Solarize=r,Ki}var Xi={},Uh;function Id(){if(Uh)return Xi;Uh=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.Threshold=void 0;const r=Ct(),c=wt(),V=Et(),z=function(E){const _=this.threshold()*255,p=E.data,d=p.length;for(let g=0;g<d;g+=1)p[g]=p[g]<_?0:255};return Xi.Threshold=z,r.Factory.addGetterSetter(c.Node,"threshold",.5,(0,V.getNumberValidator)(),r.Factory.afterSetFilter),Xi}var zh;function $d(){if(zh)return ii;zh=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Konva=void 0;const r=Vr(),c=Sd(),V=Cd(),z=Ed(),E=Td(),_=Nd(),p=Ad(),d=Jh(),g=Fr(),m=kh(),y=Rd(),N=Md(),T=xd(),f=Od(),o=Ih(),S=Gd(),C=Dd(),U=Ud(),u=zd(),s=Hd(),v=Bd(),A=Vd(),O=qd(),F=Ld(),D=Yd(),x=Fd(),M=Pd(),H=Kd(),P=Xd(),h=jd(),R=wd(),b=Qd(),B=Zd(),q=Jd(),X=Wd(),W=kd(),Z=Id();return ii.Konva=r.Konva.Util._assign(r.Konva,{Arc:c.Arc,Arrow:V.Arrow,Circle:z.Circle,Ellipse:E.Ellipse,Image:_.Image,Label:p.Label,Tag:p.Tag,Line:d.Line,Path:g.Path,Rect:m.Rect,RegularPolygon:y.RegularPolygon,Ring:N.Ring,Sprite:T.Sprite,Star:f.Star,Text:o.Text,TextPath:S.TextPath,Transformer:C.Transformer,Wedge:U.Wedge,Filters:{Blur:u.Blur,Brighten:s.Brighten,Contrast:v.Contrast,Emboss:A.Emboss,Enhance:O.Enhance,Grayscale:F.Grayscale,HSL:D.HSL,HSV:x.HSV,Invert:M.Invert,Kaleidoscope:H.Kaleidoscope,Mask:P.Mask,Noise:h.Noise,Pixelate:R.Pixelate,Posterize:b.Posterize,RGB:B.RGB,RGBA:q.RGBA,Sepia:X.Sepia,Solarize:W.Solarize,Threshold:Z.Threshold}}),ii}var t1=ql.exports,Hh;function e1(){if(Hh)return ql.exports;Hh=1,Object.defineProperty(t1,"__esModule",{value:!0});const r=$d();return ql.exports=r.Konva,ql.exports}e1();var Vl={exports:{}},Bh;function a1(){return Bh||(Bh=1,function(r,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Konva=void 0;var V=Vr();Object.defineProperty(c,"Konva",{enumerable:!0,get:function(){return V.Konva}});const z=Vr();r.exports=z.Konva}(Vl,Vl.exports)),Vl.exports}var n1=a1();const Ll=Xh(n1);var Dr={exports:{}},Ur={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function i1(){return Vh||(Vh=1,function(r){r.exports=function(c){function V(t,e,a,n){return new x0(t,e,a,n)}function z(){}function E(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function p(t){if(_(t)!==t)throw Error(E(188))}function d(t){var e=t.alternate;if(!e){if(e=_(t),e===null)throw Error(E(188));return e!==t?null:t}for(var a=t,n=e;;){var i=a.return;if(i===null)break;var l=i.alternate;if(l===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===a)return p(i),t;if(l===n)return p(i),e;l=l.sibling}throw Error(E(188))}if(a.return!==n.return)a=i,n=l;else{for(var G=!1,L=i.child;L;){if(L===a){G=!0,a=i,n=l;break}if(L===n){G=!0,n=i,a=l;break}L=L.sibling}if(!G){for(L=l.child;L;){if(L===a){G=!0,a=l,n=i;break}if(L===n){G=!0,n=l,a=i;break}L=L.sibling}if(!G)throw Error(E(189))}}if(a.alternate!==n)throw Error(E(190))}if(a.tag!==3)throw Error(E(188));return a.stateNode.current===a?t:e}function g(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g(t),e!==null)return e;t=t.sibling}return null}function m(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(t.tag!==4&&(e=m(t),e!==null))return e;t=t.sibling}return null}function y(t){return t===null||typeof t!="object"?null:(t=ku&&t[ku]||t["@@iterator"],typeof t=="function"?t:null)}function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===H0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ln:return"Fragment";case js:return"Profiler";case Ju:return"StrictMode";case Qs:return"Suspense";case Zs:return"SuspenseList";case Ws:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case nn:return"Portal";case Ta:return(t.displayName||"Context")+".Provider";case Wu:return(t._context.displayName||"Context")+".Consumer";case ws:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Js:return e=t.displayName||null,e!==null?e:N(t.type)||"Memo";case Na:e=t._payload,t=t._init;try{return N(t(e))}catch{}}return null}function T(t){return{current:t}}function f(t){0>on||(t.current=er[on],er[on]=null,on--)}function o(t,e){on++,er[on]=t.current,t.current=e}function S(t){return t>>>=0,t===0?32:31-($f(t)/td|0)|0}function C(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function U(t,e,a){var n=t.pendingLanes;if(n===0)return 0;var i=0,l=t.suspendedLanes,G=t.pingedLanes;t=t.warmLanes;var L=n&134217727;return L!==0?(n=L&~l,n!==0?i=C(n):(G&=L,G!==0?i=C(G):a||(a=L&~t,a!==0&&(i=C(a))))):(L=n&~l,L!==0?i=C(L):G!==0?i=C(G):a||(a=n&~t,a!==0&&(i=C(a)))),i===0?0:e!==0&&e!==i&&(e&l)===0&&(l=i&-i,a=e&-e,l>=a||l===32&&(a&4194048)!==0)?e:i}function u(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function s(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v(){var t=pl;return pl<<=1,(pl&4194048)===0&&(pl=256),t}function A(){var t=vl;return vl<<=1,(vl&62914560)===0&&(vl=4194304),t}function O(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function F(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function D(t,e,a,n,i,l){var G=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var L=t.entanglements,w=t.expirationTimes,$=t.hiddenUpdates;for(a=G&~a;0<a;){var nt=31-Ue(a),st=1<<nt;L[nt]=0,w[nt]=-1;var ut=$[nt];if(ut!==null)for($[nt]=null,nt=0;nt<ut.length;nt++){var pt=ut[nt];pt!==null&&(pt.lane&=-536870913)}a&=~st}n!==0&&x(t,n,0),l!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=l&~(G&~e))}function x(t,e,a){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Ue(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|a&4194090}function M(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var n=31-Ue(a),i=1<<n;i&e|t[n]&e&&(t[n]|=e),a&=~i}}function H(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function P(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function h(t){if(typeof ld=="function"&&sd(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Qn,t)}catch{}}function R(t){if(ir===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);ir=e&&e[1]||"",Cc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ir+t+Cc}function b(t,e){if(!t||lr)return"";lr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(pt){var ut=pt}Reflect.construct(t,[],st)}else{try{st.call()}catch(pt){ut=pt}t.call(st.prototype)}}else{try{throw Error()}catch(pt){ut=pt}(st=t())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(pt){if(pt&&ut&&typeof pt.stack=="string")return[pt.stack,ut.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),G=l[0],L=l[1];if(G&&L){var w=G.split(`
`),$=L.split(`
`);for(i=n=0;n<w.length&&!w[n].includes("DetermineComponentFrameRoot");)n++;for(;i<$.length&&!$[i].includes("DetermineComponentFrameRoot");)i++;if(n===w.length||i===$.length)for(n=w.length-1,i=$.length-1;1<=n&&0<=i&&w[n]!==$[i];)i--;for(;1<=n&&0<=i;n--,i--)if(w[n]!==$[i]){if(n!==1||i!==1)do if(n--,i--,0>i||w[n]!==$[i]){var nt=`
`+w[n].replace(" at new "," at ");return t.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",t.displayName)),nt}while(1<=n&&0<=i);break}}}finally{lr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?R(a):""}function B(t){switch(t.tag){case 26:case 27:case 5:return R(t.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 15:return b(t.type,!1);case 11:return b(t.type.render,!1);case 1:return b(t.type,!0);case 31:return R("Activity");default:return""}}function q(t){try{var e="";do e+=B(t),t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function X(t,e){if(typeof t=="object"&&t!==null){var a=Ec.get(t);return a!==void 0?a:(e={value:t,source:e,stack:q(e)},Ec.set(t,e),e)}return{value:t,source:e,stack:q(e)}}function W(t,e){cn[hn++]=Sl,cn[hn++]=_l,_l=t,Sl=e}function Z(t,e,a){Le[Ye++]=oa,Le[Ye++]=ua,Le[Ye++]=Xa,Xa=t;var n=oa;t=ua;var i=32-Ue(n)-1;n&=~(1<<i),a+=1;var l=32-Ue(e)+i;if(30<l){var G=i-i%5;l=(n&(1<<G)-1).toString(32),n>>=G,i-=G,oa=1<<32-Ue(e)+i|a<<i|n,ua=l+t}else oa=1<<l|a<<i|n,ua=t}function I(t){t.return!==null&&(W(t,1),Z(t,1,0))}function lt(t){for(;t===_l;)_l=cn[--hn],cn[hn]=null,Sl=cn[--hn],cn[hn]=null;for(;t===Xa;)Xa=Le[--Ye],Le[Ye]=null,ua=Le[--Ye],Le[Ye]=null,oa=Le[--Ye],Le[Ye]=null}function k(t,e){o(Ra,e),o(Zn,t),o(he,null),t=q0(e),f(he),o(he,t)}function tt(){f(he),f(Zn),f(Ra)}function rt(t){t.memoizedState!==null&&o(bl,t);var e=he.current,a=L0(e,t.type);e!==a&&(o(Zn,t),o(he,a))}function ct(t){Zn.current===t&&(f(he),f(Zn)),bl.current===t&&(f(bl),sa?Ka._currentValue=sn:Ka._currentValue2=sn)}function Y(t){var e=Error(E(418,""));throw Tt(X(e,t)),sr}function J(t,e){if(!qe)throw Error(E(175));Vf(t.stateNode,t.type,t.memoizedProps,e,t)||Y(t)}function et(t){for(pe=t.return;pe;)switch(pe.tag){case 5:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:pe=pe.return}}function it(t){if(!qe||t!==pe)return!1;if(!Gt)return et(t),Gt=!0,!1;var e=t.tag;if(It?e!==3&&e!==27&&(e!==5||cc(t.type)&&!ml(t.type,t.memoizedProps))&&$t&&Y(t):e!==3&&(e!==5||cc(t.type)&&!ml(t.type,t.memoizedProps))&&$t&&Y(t),et(t),e===13){if(!qe)throw Error(E(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));$t=Yf(t)}else $t=It&&e===27?xf(t.type,$t):pe?uc(t.stateNode):null;return!0}function ot(){qe&&($t=pe=null,Gt=!1)}function ht(){var t=ja;return t!==null&&(Ce===null?Ce=t:Ce.push.apply(Ce,t),ja=null),t}function Tt(t){ja===null?ja=[t]:ja.push(t)}function Dt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function mt(t,e,a){sa?(o(Cl,e._currentValue),e._currentValue=a):(o(Cl,e._currentValue2),e._currentValue2=a)}function Bt(t){var e=Cl.current;sa?t._currentValue=e:t._currentValue2=e,f(Cl)}function Ot(t,e,a){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===a)break;t=t.return}}function qt(t,e,a,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){var G=i.child;l=l.firstContext;t:for(;l!==null;){var L=l;l=i;for(var w=0;w<e.length;w++)if(L.context===e[w]){l.lanes|=a,L=l.alternate,L!==null&&(L.lanes|=a),Ot(l.return,a,t),n||(G=null);break t}l=L.next}}else if(i.tag===18){if(G=i.return,G===null)throw Error(E(341));G.lanes|=a,l=G.alternate,l!==null&&(l.lanes|=a),Ot(G,a,t),G=null}else G=i.child;if(G!==null)G.return=i;else for(G=i;G!==null;){if(G===t){G=null;break}if(i=G.sibling,i!==null){i.return=G.return,G=i;break}G=G.return}i=G}}function Ve(t,e,a,n){t=null;for(var i=e,l=!1;i!==null;){if(!l){if((i.flags&524288)!==0)l=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var G=i.alternate;if(G===null)throw Error(E(387));if(G=G.memoizedProps,G!==null){var L=i.type;He(i.pendingProps.value,G.value)||(t!==null?t.push(L):t=[L])}}else if(i===bl.current){if(G=i.alternate,G===null)throw Error(E(387));G.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ka):t=[Ka])}i=i.return}t!==null&&qt(e,t,a,n),e.flags|=262144}function oe(t){for(t=t.firstContext;t!==null;){var e=t.context;if(!He(sa?e._currentValue:e._currentValue2,t.memoizedValue))return!0;t=t.next}return!1}function Ne(t){wa=t,ca=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vt(t){return Ae(wa,t)}function ue(t,e){return wa===null&&Ne(t),Ae(t,e)}function Ae(t,e){var a=sa?e._currentValue:e._currentValue2;if(e={context:e,memoizedValue:a,next:null},ca===null){if(t===null)throw Error(E(308));ca=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ca=ca.next=e;return a}function Re(){return{controller:new rd,data:new Map,refCount:0}}function Qt(t){t.refCount--,t.refCount===0&&od(ud,function(){t.controller.abort()})}function kt(t){t!==fn&&t.next===null&&(fn===null?El=fn=t:fn=fn.next=t),Tl=!0,rr||(rr=!0,Me())}function de(t,e){if(!or&&Tl){or=!0;do for(var a=!1,n=El;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var l=0;else{var G=n.suspendedLanes,L=n.pingedLanes;l=(1<<31-Ue(42|t)+1)-1,l&=i&~(G&~L),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,ye(n,l))}else l=At,l=U(n,n===Vt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==Pa),(l&3)===0||u(n,l)||(a=!0,ye(n,l));n=n.next}while(a);or=!1}}function ke(){je()}function je(){Tl=rr=!1;var t=0;dn!==0&&(Z0()&&(t=dn),dn=0);for(var e=Je(),a=null,n=El;n!==null;){var i=n.next,l=we(n,e);l===0?(n.next=null,a===null?El=i:a.next=i,i===null&&(fn=a)):(a=n,(t!==0||(l&3)!==0)&&(Tl=!0)),n=i}de(t)}function we(t,e){for(var a=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var G=31-Ue(l),L=1<<G,w=i[G];w===-1?((L&a)===0||(L&n)!==0)&&(i[G]=s(L,e)):w<=e&&(t.expiredLanes|=L),l&=~L}if(e=Vt,a=At,a=U(t,t===e?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==Pa),n=t.callbackNode,a===0||t===e&&(zt===2||zt===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&ar(n),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||u(t,a)){if(e=a&-a,e===t.callbackPriority)return e;switch(n!==null&&ar(n),P(a)){case 2:case 8:a=nd;break;case 32:a=nr;break;case 268435456:a=id;break;default:a=nr}return n=ve.bind(null,t),a=yl(a,n),t.callbackPriority=e,t.callbackNode=a,e}return n!==null&&n!==null&&ar(n),t.callbackPriority=2,t.callbackNode=null,2}function ve(t,e){if(fe!==0&&fe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Kn()&&t.callbackNode!==a)return null;var n=At;return n=U(t,t===Vt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==Pa),n===0?null:(Nu(t,n,e),we(t,Je()),t.callbackNode!=null&&t.callbackNode===a?ve.bind(null,t):null)}function ye(t,e){if(Kn())return null;Nu(t,e,!0)}function Me(){tf?ef(function(){(Nt&6)!==0?yl(bc,ke):je()}):yl(bc,ke)}function Va(){return dn===0&&(dn=v()),dn}function Xl(t,e){if(Jn===null){var a=Jn=[];ur=0,gn=Va(),mn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return ur++,e.then(Xr,Xr),e}function Xr(){if(--ur===0&&Jn!==null){mn!==null&&(mn.status="fulfilled");var t=Jn;Jn=null,gn=0,mn=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function u0(t,e){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<a.length;i++)(0,a[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}function jl(){var t=Qa.current;return t!==null?t:Vt.pooledCache}function ji(t,e){e===null?o(Qa,Qa.current):o(Qa,e.pool)}function jr(){var t=jl();return t===null?null:{parent:sa?Ft._currentValue:Ft._currentValue2,pool:t}}function wi(t,e){if(He(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!cd.call(e,i)||!He(t[i],e[i]))return!1}return!0}function wr(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qi(){}function Qr(t,e,a){switch(a=t[a],a===void 0?t.push(e):a!==e&&(e.then(Qi,Qi),e=a),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jr(t),t;default:if(typeof e.status=="string")e.then(Qi,Qi);else{if(t=Vt,t!==null&&100<t.shellSuspendCounter)throw Error(E(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jr(t),t}throw pn=e,Wn}}function Zr(){if(pn===null)throw Error(E(459));var t=pn;return pn=null,t}function Jr(t){if(t===Wn||t===Nl)throw Error(E(483))}function Zi(){for(var t=vn,e=hr=vn=0;e<t;){var a=Fe[e];Fe[e++]=null;var n=Fe[e];Fe[e++]=null;var i=Fe[e];Fe[e++]=null;var l=Fe[e];if(Fe[e++]=null,n!==null&&i!==null){var G=n.pending;G===null?i.next=i:(i.next=G.next,G.next=i),n.pending=i}l!==0&&Wr(a,i,l)}}function Ji(t,e,a,n){Fe[vn++]=t,Fe[vn++]=e,Fe[vn++]=a,Fe[vn++]=n,hr|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function wl(t,e,a,n){return Ji(t,e,a,n),Wi(t)}function Ia(t,e){return Ji(t,null,null,e),Wi(t)}function Wr(t,e,a){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a);for(var i=!1,l=t.return;l!==null;)l.childLanes|=a,n=l.alternate,n!==null&&(n.childLanes|=a),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(i=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,i&&e!==null&&(i=31-Ue(a),t=l.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=a|536870912),l):null}function Wi(t){if(50<ai)throw ai=0,Cr=null,Error(E(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}function Ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zl(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,e,a){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Nt&2)!==0){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Wi(t),Wr(t,null,a),e}return Ji(t,n,e,a),Wi(t)}function Gn(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,M(t,a)}}function Jl(t,e){var a=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var G={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?i=l=G:l=l.next=G,a=a.next}while(a!==null);l===null?i=l=e:l=l.next=e}else i=l=e;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}function Dn(){if(fr){var t=mn;if(t!==null)throw t}}function Un(t,e,a,n){fr=!1;var i=t.updateQueue;Ma=!1;var l=i.firstBaseUpdate,G=i.lastBaseUpdate,L=i.shared.pending;if(L!==null){i.shared.pending=null;var w=L,$=w.next;w.next=null,G===null?l=$:G.next=$,G=w;var nt=t.alternate;nt!==null&&(nt=nt.updateQueue,L=nt.lastBaseUpdate,L!==G&&(L===null?nt.firstBaseUpdate=$:L.next=$,nt.lastBaseUpdate=w))}if(l!==null){var st=i.baseState;G=0,nt=$=w=null,L=l;do{var ut=L.lane&-536870913,pt=ut!==L.lane;if(pt?(At&ut)===ut:(n&ut)===ut){ut!==0&&ut===gn&&(fr=!0),nt!==null&&(nt=nt.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});t:{var Xe=t,ni=L;ut=e;var Wa=a;switch(ni.tag){case 1:if(Xe=ni.payload,typeof Xe=="function"){st=Xe.call(Wa,st,ut);break t}st=Xe;break t;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=ni.payload,ut=typeof Xe=="function"?Xe.call(Wa,st,ut):Xe,ut==null)break t;st=Xs({},st,ut);break t;case 2:Ma=!0}}ut=L.callback,ut!==null&&(t.flags|=64,pt&&(t.flags|=8192),pt=i.callbacks,pt===null?i.callbacks=[ut]:pt.push(ut))}else pt={lane:ut,tag:L.tag,payload:L.payload,callback:L.callback,next:null},nt===null?($=nt=pt,w=st):nt=nt.next=pt,G|=ut;if(L=L.next,L===null){if(L=i.shared.pending,L===null)break;pt=L,L=pt.next,pt.next=null,i.lastBaseUpdate=pt,i.shared.pending=null}}while(!0);nt===null&&(w=st),i.baseState=w,i.firstBaseUpdate=$,i.lastBaseUpdate=nt,l===null&&(i.shared.lanes=0),Ga|=G,t.lanes=G,t.memoizedState=st}}function kr(t,e){if(typeof t!="function")throw Error(E(191,t));t.call(e)}function Ir(t,e){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)kr(a[t],e)}function $r(t,e){t=fa,o(Rl,t),o(yn,e),fa=t|e.baseLanes}function Wl(){o(Rl,fa),o(yn,yn.current)}function kl(){fa=Rl.current,f(yn),f(Rl)}function Xt(){throw Error(E(321))}function Il(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!He(t[a],e[a]))return!1;return!0}function $l(t,e,a,n,i,l){return xa=l,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dt.H=t===null||t.memoizedState===null?Nc:Ac,Za=!1,l=a(n,i),Za=!1,_n&&(l=eo(e,a,n,i)),to(t),l}function to(t){dt.H=Ol;var e=Ht!==null&&Ht.next!==null;if(xa=0,Jt=Ht=yt=null,Ml=!1,kn=0,Sn=null,e)throw Error(E(300));t===null||ie||(t=t.dependencies,t!==null&&oe(t)&&(ie=!0))}function eo(t,e,a,n){yt=t;var i=0;do{if(_n&&(Sn=null),kn=0,_n=!1,25<=i)throw Error(E(301));if(i+=1,Jt=Ht=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}dt.H=fd,l=e(a,n)}while(_n);return l}function c0(){var t=dt.H,e=t.useState()[0];return e=typeof e.then=="function"?zn(e):e,t=t.useState()[0],(Ht!==null?Ht.memoizedState:null)!==t&&(yt.flags|=1024),e}function ts(){var t=xl!==0;return xl=0,t}function es(t,e,a){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a}function as(t){if(Ml){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ml=!1}xa=0,Jt=Ht=yt=null,_n=!1,kn=xl=0,Sn=null}function _e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?yt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Zt(){if(Ht===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=Jt===null?yt.memoizedState:Jt.next;if(e!==null)Jt=e,Ht=t;else{if(t===null)throw yt.alternate===null?Error(E(467)):Error(E(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Jt===null?yt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zn(t){var e=kn;return kn+=1,Sn===null&&(Sn=[]),t=Qr(Sn,t,e),e=yt,(Jt===null?e.memoizedState:Jt.next)===null&&(e=e.alternate,dt.H=e===null||e.memoizedState===null?Nc:Ac),t}function ki(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zn(t);if(t.$$typeof===Ta)return vt(t)}throw Error(E(438,String(t)))}function is(t){var e=null,a=yt.updateQueue;if(a!==null&&(e=a.memoCache),e==null){var n=yt.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),a===null&&(a=ns(),yt.updateQueue=a),a.memoCache=e,a=e.data[e.index],a===void 0)for(a=e.data[e.index]=Array(t),n=0;n<t;n++)a[n]=z0;return e.index++,a}function aa(t,e){return typeof e=="function"?e(t):e}function Ii(t){var e=Zt();return ls(e,Ht,t)}function ls(t,e,a){var n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=a;var i=t.baseQueue,l=n.pending;if(l!==null){if(i!==null){var G=i.next;i.next=l.next,l.next=G}e.baseQueue=i=l,n.pending=null}if(l=t.baseState,i===null)t.memoizedState=l;else{e=i.next;var L=G=null,w=null,$=e,nt=!1;do{var st=$.lane&-536870913;if(st!==$.lane?(At&st)===st:(xa&st)===st){var ut=$.revertLane;if(ut===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),st===gn&&(nt=!0);else if((xa&ut)===ut){$=$.next,ut===gn&&(nt=!0);continue}else st={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},w===null?(L=w=st,G=l):w=w.next=st,yt.lanes|=ut,Ga|=ut;st=$.action,Za&&a(l,st),l=$.hasEagerState?$.eagerState:a(l,st)}else ut={lane:st,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},w===null?(L=w=ut,G=l):w=w.next=ut,yt.lanes|=st,Ga|=st;$=$.next}while($!==null&&$!==e);if(w===null?G=l:w.next=L,!He(l,t.memoizedState)&&(ie=!0,nt&&(a=mn,a!==null)))throw a;t.memoizedState=l,t.baseState=G,t.baseQueue=w,n.lastRenderedState=l}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function ss(t){var e=Zt(),a=e.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=t;var n=a.dispatch,i=a.pending,l=e.memoizedState;if(i!==null){a.pending=null;var G=i=i.next;do l=t(l,G.action),G=G.next;while(G!==i);He(l,e.memoizedState)||(ie=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),a.lastRenderedState=l}return[l,n]}function ao(t,e,a){var n=yt,i=Zt(),l=Gt;if(l){if(a===void 0)throw Error(E(407));a=a()}else a=e();var G=!He((Ht||i).memoizedState,a);G&&(i.memoizedState=a,ie=!0),i=i.queue;var L=lo.bind(null,n,i,t);if(Hn(2048,8,L,[t]),i.getSnapshot!==e||G||Jt!==null&&Jt.memoizedState.tag&1){if(n.flags|=2048,$a(9,$i(),io.bind(null,n,i,a,e),null),Vt===null)throw Error(E(349));l||(xa&124)!==0||no(n,e,a)}return a}function no(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=yt.updateQueue,e===null?(e=ns(),yt.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function io(t,e,a,n){e.value=a,e.getSnapshot=n,so(e)&&ro(t)}function lo(t,e,a){return a(function(){so(e)&&ro(t)})}function so(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!He(t,a)}catch{return!0}}function ro(t){var e=Ia(t,2);e!==null&&Ge(e,t,2)}function rs(t){var e=_e();if(typeof t=="function"){var a=t;if(t=a(),Za){h(!0);try{a()}finally{h(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},e}function oo(t,e,a,n){return t.baseState=a,ls(t,Ht,typeof n=="function"?n:aa)}function h0(t,e,a,n,i){if(el(t))throw Error(E(485));if(t=e.action,t!==null){var l={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){l.listeners.push(G)}};dt.T!==null?a(!0):l.isTransition=!1,n(l),a=e.pending,a===null?(l.next=e.pending=l,uo(e,l)):(l.next=a.next,e.pending=a.next=l)}}function uo(t,e){var a=e.action,n=e.payload,i=t.state;if(e.isTransition){var l=dt.T,G={};dt.T=G;try{var L=a(i,n),w=dt.S;w!==null&&w(G,L),co(t,e,L)}catch($){os(t,e,$)}finally{dt.T=l}}else try{l=a(i,n),co(t,e,l)}catch($){os(t,e,$)}}function co(t,e,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){ho(t,e,n)},function(n){return os(t,e,n)}):ho(t,e,a)}function ho(t,e,a){e.status="fulfilled",e.value=a,fo(e),t.state=a,e=t.pending,e!==null&&(a=e.next,a===e?t.pending=null:(a=a.next,e.next=a,uo(t,a)))}function os(t,e,a){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=a,fo(e),e=e.next;while(e!==n)}t.action=null}function fo(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function go(t,e){return e}function mo(t,e){if(Gt){var a=Vt.formState;if(a!==null){t:{var n=yt;if(Gt){if($t){var i=Rf($t,ta);if(i){$t=uc(i),n=Mf(i);break t}}Y(n)}n=!1}n&&(e=a[0])}}a=_e(),a.memoizedState=a.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},a.queue=n,a=Uo.bind(null,yt,n),n.dispatch=a,n=rs(!1);var l=fs.bind(null,yt,!1,n.queue);return n=_e(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,a=h0.bind(null,yt,i,l,a),i.dispatch=a,n.memoizedState=t,[e,a,!1]}function po(t){var e=Zt();return vo(e,Ht,t)}function vo(t,e,a){if(e=ls(t,e,go)[0],t=Ii(aa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=zn(e)}catch(G){throw G===Wn?Nl:G}else n=e;e=Zt();var i=e.queue,l=i.dispatch;return a!==e.memoizedState&&(yt.flags|=2048,$a(9,$i(),f0.bind(null,i,a),null)),[n,l,t]}function f0(t,e){t.action=e}function yo(t){var e=Zt(),a=Ht;if(a!==null)return vo(e,a,t);Zt(),e=e.memoizedState,a=Zt();var n=a.queue.dispatch;return a.memoizedState=t,[e,n,!1]}function $a(t,e,a,n){return t={tag:t,create:a,deps:n,inst:e,next:null},e=yt.updateQueue,e===null&&(e=ns(),yt.updateQueue=e),a=e.lastEffect,a===null?e.lastEffect=t.next=t:(n=a.next,a.next=t,t.next=n,e.lastEffect=t),t}function $i(){return{destroy:void 0,resource:void 0}}function _o(){return Zt().memoizedState}function tl(t,e,a,n){var i=_e();n=n===void 0?null:n,yt.flags|=t,i.memoizedState=$a(1|e,$i(),a,n)}function Hn(t,e,a,n){var i=Zt();n=n===void 0?null:n;var l=i.memoizedState.inst;Ht!==null&&n!==null&&Il(n,Ht.memoizedState.deps)?i.memoizedState=$a(e,l,a,n):(yt.flags|=t,i.memoizedState=$a(1|e,l,a,n))}function So(t,e){tl(8390656,8,t,e)}function bo(t,e){Hn(2048,8,t,e)}function Co(t,e){return Hn(4,2,t,e)}function Eo(t,e){return Hn(4,4,t,e)}function To(t,e){if(typeof e=="function"){t=t();var a=e(t);return function(){typeof a=="function"?a():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function No(t,e,a){a=a!=null?a.concat([t]):null,Hn(4,4,To.bind(null,e,t),a)}function us(){}function Ao(t,e){var a=Zt();e=e===void 0?null:e;var n=a.memoizedState;return e!==null&&Il(e,n[1])?n[0]:(a.memoizedState=[t,e],t)}function Ro(t,e){var a=Zt();e=e===void 0?null:e;var n=a.memoizedState;if(e!==null&&Il(e,n[1]))return n[0];if(n=t(),Za){h(!0);try{t()}finally{h(!1)}}return a.memoizedState=[n,e],n}function cs(t,e,a){return a===void 0||(xa&1073741824)!==0?t.memoizedState=e:(t.memoizedState=a,t=Tu(),yt.lanes|=t,Ga|=t,a)}function Mo(t,e,a,n){return He(a,e)?a:yn.current!==null?(t=cs(t,a,n),He(t,e)||(ie=!0),t):(xa&42)===0?(ie=!0,t.memoizedState=a):(t=Tu(),yt.lanes|=t,Ga|=t,e)}function xo(t,e,a,n,i){var l=ra();ne(l!==0&&8>l?l:8);var G=dt.T,L={};dt.T=L,fs(t,!1,e,a);try{var w=i(),$=dt.S;if($!==null&&$(L,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var nt=u0(w,n);Bn(t,e,nt,Oe(t))}else Bn(t,e,n,Oe(t))}catch(st){Bn(t,e,{then:function(){},status:"rejected",reason:st},Oe())}finally{ne(l),dt.T=G}}function Oo(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:sn,baseState:sn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:sn},next:null};var a={};return e.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:a},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function hs(){return vt(Ka)}function Go(){return Zt().memoizedState}function Do(){return Zt().memoizedState}function d0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var a=Oe();t=pa(a);var n=va(e,t,a);n!==null&&(Ge(n,e,a),Gn(n,e,a)),e={cache:Re()},t.payload=e;return}e=e.return}}function g0(t,e,a){var n=Oe();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},el(t)?zo(e,a):(a=wl(t,e,a,n),a!==null&&(Ge(a,t,n),Ho(a,e,n)))}function Uo(t,e,a){var n=Oe();Bn(t,e,a,n)}function Bn(t,e,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(el(t))zo(e,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var G=e.lastRenderedState,L=l(G,a);if(i.hasEagerState=!0,i.eagerState=L,He(L,G))return Ji(t,e,i,0),Vt===null&&Zi(),!1}catch{}finally{}if(a=wl(t,e,i,n),a!==null)return Ge(a,t,n),Ho(a,e,n),!0}return!1}function fs(t,e,a,n){if(n={lane:2,revertLane:Va(),action:n,hasEagerState:!1,eagerState:null,next:null},el(t)){if(e)throw Error(E(479))}else e=wl(t,a,n,2),e!==null&&Ge(e,t,2)}function el(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function zo(t,e){_n=Ml=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function Ho(t,e,a){if((a&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,a|=n,e.lanes=a,M(t,a)}}function al(t){var e=In;return In+=1,bn===null&&(bn=[]),Qr(bn,t,e)}function Vn(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nl(t,e){throw e.$$typeof===D0?Error(E(525)):(t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Bo(t){var e=t._init;return e(t._payload)}function Vo(t){function e(j,K){if(t){var Q=j.deletions;Q===null?(j.deletions=[K],j.flags|=16):Q.push(K)}}function a(j,K){if(!t)return null;for(;K!==null;)e(j,K),K=K.sibling;return null}function n(j){for(var K=new Map;j!==null;)j.key!==null?K.set(j.key,j):K.set(j.index,j),j=j.sibling;return K}function i(j,K){return j=la(j,K),j.index=0,j.sibling=null,j}function l(j,K,Q){return j.index=Q,t?(Q=j.alternate,Q!==null?(Q=Q.index,Q<K?(j.flags|=67108866,K):Q):(j.flags|=67108866,K)):(j.flags|=1048576,K)}function G(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function L(j,K,Q,at){return K===null||K.tag!==6?(K=Fs(Q,j.mode,at),K.return=j,K):(K=i(K,Q),K.return=j,K)}function w(j,K,Q,at){var ft=Q.type;return ft===ln?nt(j,K,Q.props.children,at,Q.key):K!==null&&(K.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Na&&Bo(ft)===K.type)?(K=i(K,Q.props),Vn(K,Q),K.return=j,K):(K=fl(Q.type,Q.key,Q.props,null,j.mode,at),Vn(K,Q),K.return=j,K)}function $(j,K,Q,at){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Ps(Q,j.mode,at),K.return=j,K):(K=i(K,Q.children||[]),K.return=j,K)}function nt(j,K,Q,at,ft){return K===null||K.tag!==7?(K=Fa(Q,j.mode,at,ft),K.return=j,K):(K=i(K,Q),K.return=j,K)}function st(j,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Fs(""+K,j.mode,Q),K.return=j,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case dl:return Q=fl(K.type,K.key,K.props,null,j.mode,Q),Vn(Q,K),Q.return=j,Q;case nn:return K=Ps(K,j.mode,Q),K.return=j,K;case Na:var at=K._init;return K=at(K._payload),st(j,K,Q)}if(gl(K)||y(K))return K=Fa(K,j.mode,Q,null),K.return=j,K;if(typeof K.then=="function")return st(j,al(K),Q);if(K.$$typeof===Ta)return st(j,ue(j,K),Q);nl(j,K)}return null}function ut(j,K,Q,at){var ft=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ft!==null?null:L(j,K,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case dl:return Q.key===ft?w(j,K,Q,at):null;case nn:return Q.key===ft?$(j,K,Q,at):null;case Na:return ft=Q._init,Q=ft(Q._payload),ut(j,K,Q,at)}if(gl(Q)||y(Q))return ft!==null?null:nt(j,K,Q,at,null);if(typeof Q.then=="function")return ut(j,K,al(Q),at);if(Q.$$typeof===Ta)return ut(j,K,ue(j,Q),at);nl(j,Q)}return null}function pt(j,K,Q,at,ft){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return j=j.get(Q)||null,L(K,j,""+at,ft);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case dl:return j=j.get(at.key===null?Q:at.key)||null,w(K,j,at,ft);case nn:return j=j.get(at.key===null?Q:at.key)||null,$(K,j,at,ft);case Na:var Lt=at._init;return at=Lt(at._payload),pt(j,K,Q,at,ft)}if(gl(at)||y(at))return j=j.get(Q)||null,nt(K,j,at,ft,null);if(typeof at.then=="function")return pt(j,K,Q,al(at),ft);if(at.$$typeof===Ta)return pt(j,K,Q,ue(K,at),ft);nl(K,at)}return null}function Xe(j,K,Q,at){for(var ft=null,Lt=null,gt=K,Rt=K=0,se=null;gt!==null&&Rt<Q.length;Rt++){gt.index>Rt?(se=gt,gt=null):se=gt.sibling;var Mt=ut(j,gt,Q[Rt],at);if(Mt===null){gt===null&&(gt=se);break}t&&gt&&Mt.alternate===null&&e(j,gt),K=l(Mt,K,Rt),Lt===null?ft=Mt:Lt.sibling=Mt,Lt=Mt,gt=se}if(Rt===Q.length)return a(j,gt),Gt&&W(j,Rt),ft;if(gt===null){for(;Rt<Q.length;Rt++)gt=st(j,Q[Rt],at),gt!==null&&(K=l(gt,K,Rt),Lt===null?ft=gt:Lt.sibling=gt,Lt=gt);return Gt&&W(j,Rt),ft}for(gt=n(gt);Rt<Q.length;Rt++)se=pt(gt,j,Rt,Q[Rt],at),se!==null&&(t&&se.alternate!==null&&gt.delete(se.key===null?Rt:se.key),K=l(se,K,Rt),Lt===null?ft=se:Lt.sibling=se,Lt=se);return t&&gt.forEach(function(za){return e(j,za)}),Gt&&W(j,Rt),ft}function ni(j,K,Q,at){if(Q==null)throw Error(E(151));for(var ft=null,Lt=null,gt=K,Rt=K=0,se=null,Mt=Q.next();gt!==null&&!Mt.done;Rt++,Mt=Q.next()){gt.index>Rt?(se=gt,gt=null):se=gt.sibling;var za=ut(j,gt,Mt.value,at);if(za===null){gt===null&&(gt=se);break}t&&gt&&za.alternate===null&&e(j,gt),K=l(za,K,Rt),Lt===null?ft=za:Lt.sibling=za,Lt=za,gt=se}if(Mt.done)return a(j,gt),Gt&&W(j,Rt),ft;if(gt===null){for(;!Mt.done;Rt++,Mt=Q.next())Mt=st(j,Mt.value,at),Mt!==null&&(K=l(Mt,K,Rt),Lt===null?ft=Mt:Lt.sibling=Mt,Lt=Mt);return Gt&&W(j,Rt),ft}for(gt=n(gt);!Mt.done;Rt++,Mt=Q.next())Mt=pt(gt,j,Rt,Mt.value,at),Mt!==null&&(t&&Mt.alternate!==null&&gt.delete(Mt.key===null?Rt:Mt.key),K=l(Mt,K,Rt),Lt===null?ft=Mt:Lt.sibling=Mt,Lt=Mt);return t&&gt.forEach(function(md){return e(j,md)}),Gt&&W(j,Rt),ft}function Wa(j,K,Q,at){if(typeof Q=="object"&&Q!==null&&Q.type===ln&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case dl:t:{for(var ft=Q.key;K!==null;){if(K.key===ft){if(ft=Q.type,ft===ln){if(K.tag===7){a(j,K.sibling),at=i(K,Q.props.children),at.return=j,j=at;break t}}else if(K.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Na&&Bo(ft)===K.type){a(j,K.sibling),at=i(K,Q.props),Vn(at,Q),at.return=j,j=at;break t}a(j,K);break}else e(j,K);K=K.sibling}Q.type===ln?(at=Fa(Q.props.children,j.mode,at,Q.key),at.return=j,j=at):(at=fl(Q.type,Q.key,Q.props,null,j.mode,at),Vn(at,Q),at.return=j,j=at)}return G(j);case nn:t:{for(ft=Q.key;K!==null;){if(K.key===ft)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){a(j,K.sibling),at=i(K,Q.children||[]),at.return=j,j=at;break t}else{a(j,K);break}else e(j,K);K=K.sibling}at=Ps(Q,j.mode,at),at.return=j,j=at}return G(j);case Na:return ft=Q._init,Q=ft(Q._payload),Wa(j,K,Q,at)}if(gl(Q))return Xe(j,K,Q,at);if(y(Q)){if(ft=y(Q),typeof ft!="function")throw Error(E(150));return Q=ft.call(Q),ni(j,K,Q,at)}if(typeof Q.then=="function")return Wa(j,K,al(Q),at);if(Q.$$typeof===Ta)return Wa(j,K,ue(j,Q),at);nl(j,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(a(j,K.sibling),at=i(K,Q),at.return=j,j=at):(a(j,K),at=Fs(Q,j.mode,at),at.return=j,j=at),G(j)):a(j,K)}return function(j,K,Q,at){try{In=0;var ft=Wa(j,K,Q,at);return bn=null,ft}catch(gt){if(gt===Wn||gt===Nl)throw gt;var Lt=V(29,gt,null,j.mode);return Lt.lanes=at,Lt.return=j,Lt}finally{}}}function ya(t){var e=t.alternate;o(te,te.current&1),o(Pe,t),ea===null&&(e===null||yn.current!==null||e.memoizedState!==null)&&(ea=t)}function qo(t){if(t.tag===22){if(o(te,te.current),o(Pe,t),ea===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ea=t)}}else _a()}function _a(){o(te,te.current),o(Pe,Pe.current)}function na(t){f(Pe),ea===t&&(ea=null),f(te)}function il(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Is(a)||$s(a)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ds(t,e,a,n){e=t.memoizedState,a=a(n,e),a=a==null?e:Xs({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}function Lo(t,e,a,n,i,l,G){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,G):e.prototype&&e.prototype.isPureReactComponent?!wi(a,n)||!wi(i,l):!0}function Yo(t,e,a,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,n),e.state!==t&&dr.enqueueReplaceState(e,e.state,null)}function qa(t,e){var a=e;if("ref"in e){a={};for(var n in e)n!=="ref"&&(a[n]=e[n])}if(t=t.defaultProps){a===e&&(a=Xs({},a));for(var i in t)a[i]===void 0&&(a[i]=t[i])}return a}function ll(t,e){try{var a=t.onUncaughtError;a(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function Fo(t,e,a){try{var n=t.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function gs(t,e,a){return a=pa(a),a.tag=3,a.payload={element:null},a.callback=function(){ll(t,e)},a}function Po(t){return t=pa(t),t.tag=3,t}function Ko(t,e,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var l=n.value;t.payload=function(){return i(l)},t.callback=function(){Fo(e,a,n)}}var G=a.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(t.callback=function(){Fo(e,a,n),typeof i!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var L=n.stack;this.componentDidCatch(n.value,{componentStack:L!==null?L:""})})}function m0(t,e,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=a.alternate,e!==null&&Ve(e,a,i,!0),a=Pe.current,a!==null){switch(a.tag){case 13:return ea===null?Vs():a.alternate===null&&Pt===0&&(Pt=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Al?a.flags|=16384:(e=a.updateQueue,e===null?a.updateQueue=new Set([n]):e.add(n),Ls(t,n,i)),!1;case 22:return a.flags|=65536,n===Al?a.flags|=16384:(e=a.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=e):(a=e.retryQueue,a===null?e.retryQueue=new Set([n]):a.add(n)),Ls(t,n,i)),!1}throw Error(E(435,a.tag))}return Ls(t,n,i),Vs(),!1}if(Gt)return e=Pe.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==sr&&(t=Error(E(422),{cause:n}),Tt(X(t,a)))):(n!==sr&&(e=Error(E(423),{cause:n}),Tt(X(e,a))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=X(n,a),i=gs(t.stateNode,n,i),Jl(t,i),Pt!==4&&(Pt=2)),!1;var l=Error(E(520),{cause:n});if(l=X(l,a),ti===null?ti=[l]:ti.push(l),Pt!==4&&(Pt=2),e===null)return!0;n=X(n,a),a=e;do{switch(a.tag){case 3:return a.flags|=65536,t=i&-i,a.lanes|=t,t=gs(a.stateNode,n,t),Jl(a,t),!1;case 1:if(e=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Da===null||!Da.has(l))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Po(i),Ko(i,t,a,n),Jl(a,i),!1}a=a.return}while(a!==null);return!1}function ce(t,e,a,n){e.child=t===null?Rc(e,null,a,n):Cn(e,t.child,a,n)}function Xo(t,e,a,n,i){a=a.render;var l=e.ref;if("ref"in n){var G={};for(var L in n)L!=="ref"&&(G[L]=n[L])}else G=n;return Ne(e),n=$l(t,e,a,G,l,i),L=ts(),t!==null&&!ie?(es(t,e,i),ia(t,e,i)):(Gt&&L&&I(e),e.flags|=1,ce(t,e,n,i),e.child)}function jo(t,e,a,n,i){if(t===null){var l=a.type;return typeof l=="function"&&!Ys(l)&&l.defaultProps===void 0&&a.compare===null?(e.tag=15,e.type=l,wo(t,e,l,n,i)):(t=fl(a.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!bs(t,i)){var G=l.memoizedProps;if(a=a.compare,a=a!==null?a:wi,a(G,n)&&t.ref===e.ref)return ia(t,e,i)}return e.flags|=1,t=la(l,n),t.ref=e.ref,t.return=e,e.child=t}function wo(t,e,a,n,i){if(t!==null){var l=t.memoizedProps;if(wi(l,n)&&t.ref===e.ref)if(ie=!1,e.pendingProps=n=l,bs(t,i))(t.flags&131072)!==0&&(ie=!0);else return e.lanes=t.lanes,ia(t,e,i)}return ms(t,e,a,n,i)}function Qo(t,e,a){var n=e.pendingProps,i=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=l!==null?l.baseLanes|a:a,t!==null){for(i=e.child=t.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;e.childLanes=l&~n}else e.childLanes=0,e.child=null;return Zo(t,e,n,a)}if((a&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ji(e,l!==null?l.cachePool:null),l!==null?$r(e,l):Wl(),qo(e);else return e.lanes=e.childLanes=536870912,Zo(t,e,l!==null?l.baseLanes|a:a,a)}else l!==null?(ji(e,l.cachePool),$r(e,l),_a(),e.memoizedState=null):(t!==null&&ji(e,null),Wl(),_a());return ce(t,e,i,a),e.child}function Zo(t,e,a,n){var i=jl();return i=i===null?null:{parent:sa?Ft._currentValue:Ft._currentValue2,pool:i},e.memoizedState={baseLanes:a,cachePool:i},t!==null&&ji(e,null),Wl(),qo(e),t!==null&&Ve(t,e,n,!0),null}function sl(t,e){var a=e.ref;if(a===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(E(284));(t===null||t.ref!==a)&&(e.flags|=4194816)}}function ms(t,e,a,n,i){return Ne(e),a=$l(t,e,a,n,void 0,i),n=ts(),t!==null&&!ie?(es(t,e,i),ia(t,e,i)):(Gt&&n&&I(e),e.flags|=1,ce(t,e,a,i),e.child)}function Jo(t,e,a,n,i,l){return Ne(e),e.updateQueue=null,a=eo(e,n,a,i),to(t),n=ts(),t!==null&&!ie?(es(t,e,l),ia(t,e,l)):(Gt&&n&&I(e),e.flags|=1,ce(t,e,a,l),e.child)}function Wo(t,e,a,n,i){if(Ne(e),e.stateNode===null){var l=un,G=a.contextType;typeof G=="object"&&G!==null&&(l=vt(G)),l=new a(n,l),e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=dr,e.stateNode=l,l._reactInternals=e,l=e.stateNode,l.props=n,l.state=e.memoizedState,l.refs={},Ql(e),G=a.contextType,l.context=typeof G=="object"&&G!==null?vt(G):un,l.state=e.memoizedState,G=a.getDerivedStateFromProps,typeof G=="function"&&(ds(e,a,G,n),l.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(G=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),G!==l.state&&dr.enqueueReplaceState(l,l.state,null),Un(e,n,l,i),Dn(),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){l=e.stateNode;var L=e.memoizedProps,w=qa(a,L);l.props=w;var $=l.context,nt=a.contextType;G=un,typeof nt=="object"&&nt!==null&&(G=vt(nt));var st=a.getDerivedStateFromProps;nt=typeof st=="function"||typeof l.getSnapshotBeforeUpdate=="function",L=e.pendingProps!==L,nt||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(L||$!==G)&&Yo(e,l,n,G),Ma=!1;var ut=e.memoizedState;l.state=ut,Un(e,n,l,i),Dn(),$=e.memoizedState,L||ut!==$||Ma?(typeof st=="function"&&(ds(e,a,st,n),$=e.memoizedState),(w=Ma||Lo(e,a,w,n,ut,$,G))?(nt||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=$),l.props=n,l.state=$,l.context=G,n=w):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,Zl(t,e),G=e.memoizedProps,nt=qa(a,G),l.props=nt,st=e.pendingProps,ut=l.context,$=a.contextType,w=un,typeof $=="object"&&$!==null&&(w=vt($)),L=a.getDerivedStateFromProps,($=typeof L=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(G!==st||ut!==w)&&Yo(e,l,n,w),Ma=!1,ut=e.memoizedState,l.state=ut,Un(e,n,l,i),Dn();var pt=e.memoizedState;G!==st||ut!==pt||Ma||t!==null&&t.dependencies!==null&&oe(t.dependencies)?(typeof L=="function"&&(ds(e,a,L,n),pt=e.memoizedState),(nt=Ma||Lo(e,a,nt,n,ut,pt,w)||t!==null&&t.dependencies!==null&&oe(t.dependencies))?($||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,pt,w),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,pt,w)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||G===t.memoizedProps&&ut===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||G===t.memoizedProps&&ut===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=pt),l.props=n,l.state=pt,l.context=w,n=nt):(typeof l.componentDidUpdate!="function"||G===t.memoizedProps&&ut===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||G===t.memoizedProps&&ut===t.memoizedState||(e.flags|=1024),n=!1)}return l=n,sl(t,e),n=(e.flags&128)!==0,l||n?(l=e.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:l.render(),e.flags|=1,t!==null&&n?(e.child=Cn(e,t.child,null,i),e.child=Cn(e,null,a,i)):ce(t,e,a,i),e.memoizedState=l.state,t=e.child):t=ia(t,e,i),t}function ko(t,e,a,n){return ot(),e.flags|=256,ce(t,e,a,n),e.child}function ps(t){return{baseLanes:t,cachePool:jr()}}function vs(t,e,a){return t=t!==null?t.childLanes&~a:0,e&&(t|=Ke),t}function Io(t,e,a){var n=e.pendingProps,i=!1,l=(e.flags&128)!==0,G;if((G=l)||(G=t!==null&&t.memoizedState===null?!1:(te.current&2)!==0),G&&(i=!0,e.flags&=-129),G=(e.flags&32)!==0,e.flags&=-33,t===null){if(Gt){if(i?ya(e):_a(),Gt){var L=$t,w;(w=L)&&(L=Bf(L,ta),L!==null?(e.memoizedState={dehydrated:L,treeContext:Xa!==null?{id:oa,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},w=V(18,null,null,0),w.stateNode=L,w.return=e,e.child=w,pe=e,$t=null,w=!0):w=!1),w||Y(e)}if(L=e.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return $s(L)?e.lanes=32:e.lanes=536870912,null;na(e)}return L=n.children,n=n.fallback,i?(_a(),i=e.mode,L=rl({mode:"hidden",children:L},i),n=Fa(n,i,a,null),L.return=e,n.return=e,L.sibling=n,e.child=L,i=e.child,i.memoizedState=ps(a),i.childLanes=vs(t,G,a),e.memoizedState=gr,n):(ya(e),ys(e,L))}if(w=t.memoizedState,w!==null&&(L=w.dehydrated,L!==null)){if(l)e.flags&256?(ya(e),e.flags&=-257,e=_s(t,e,a)):e.memoizedState!==null?(_a(),e.child=t.child,e.flags|=128,e=null):(_a(),i=n.fallback,L=e.mode,n=rl({mode:"visible",children:n.children},L),i=Fa(i,L,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Cn(e,t.child,null,a),n=e.child,n.memoizedState=ps(a),n.childLanes=vs(t,G,a),e.memoizedState=gr,e=i);else if(ya(e),$s(L))G=Nf(L).digest,n=Error(E(419)),n.stack="",n.digest=G,Tt({value:n,source:null,stack:null}),e=_s(t,e,a);else if(ie||Ve(t,e,a,!1),G=(a&t.childLanes)!==0,ie||G){if(G=Vt,G!==null&&(n=a&-a,n=(n&42)!==0?1:H(n),n=(n&(G.suspendedLanes|a))!==0?0:n,n!==0&&n!==w.retryLane))throw w.retryLane=n,Ia(t,n),Ge(G,t,n),xc;Is(L)||Vs(),e=_s(t,e,a)}else Is(L)?(e.flags|=192,e.child=t.child,e=null):(t=w.treeContext,qe&&($t=Df(L),pe=e,Gt=!0,ja=null,ta=!1,t!==null&&(Le[Ye++]=oa,Le[Ye++]=ua,Le[Ye++]=Xa,oa=t.id,ua=t.overflow,Xa=e)),e=ys(e,n.children),e.flags|=4096);return e}return i?(_a(),i=n.fallback,L=e.mode,w=t.child,l=w.sibling,n=la(w,{mode:"hidden",children:n.children}),n.subtreeFlags=w.subtreeFlags&65011712,l!==null?i=la(l,i):(i=Fa(i,L,a,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,L=t.child.memoizedState,L===null?L=ps(a):(w=L.cachePool,w!==null?(l=sa?Ft._currentValue:Ft._currentValue2,w=w.parent!==l?{parent:l,pool:l}:w):w=jr(),L={baseLanes:L.baseLanes|a,cachePool:w}),i.memoizedState=L,i.childLanes=vs(t,G,a),e.memoizedState=gr,n):(ya(e),a=t.child,t=a.sibling,a=la(a,{mode:"visible",children:n.children}),a.return=e,a.sibling=null,t!==null&&(G=e.deletions,G===null?(e.deletions=[t],e.flags|=16):G.push(t)),e.child=a,e.memoizedState=null,a)}function ys(t,e){return e=rl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function rl(t,e){return t=V(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _s(t,e,a){return Cn(e,t.child,null,a),t=ys(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $o(t,e,a){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ot(t.return,e,a)}function Ss(t,e,a,n,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=i)}function tu(t,e,a){var n=e.pendingProps,i=n.revealOrder,l=n.tail;if(ce(t,e,n.children,a),n=te.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$o(t,a,e);else if(t.tag===19)$o(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(o(te,n),i){case"forwards":for(a=e.child,i=null;a!==null;)t=a.alternate,t!==null&&il(t)===null&&(i=a),a=a.sibling;a=i,a===null?(i=e.child,e.child=null):(i=a.sibling,a.sibling=null),Ss(e,!1,i,a,l);break;case"backwards":for(a=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&il(t)===null){e.child=i;break}t=i.sibling,i.sibling=a,a=i,i=t}Ss(e,!0,a,null,l);break;case"together":Ss(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ia(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Ga|=e.lanes,(a&e.childLanes)===0)if(t!==null){if(Ve(t,e,a,!1),(a&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,a=la(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=la(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function bs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&oe(t)))}function p0(t,e,a){switch(e.tag){case 3:k(e,e.stateNode.containerInfo),mt(e,Ft,t.memoizedState.cache),ot();break;case 27:case 5:rt(e);break;case 4:k(e,e.stateNode.containerInfo);break;case 10:mt(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(ya(e),e.flags|=128,null):(a&e.child.childLanes)!==0?Io(t,e,a):(ya(e),t=ia(t,e,a),t!==null?t.sibling:null);ya(e);break;case 19:var i=(t.flags&128)!==0;if(n=(a&e.childLanes)!==0,n||(Ve(t,e,a,!1),n=(a&e.childLanes)!==0),i){if(n)return tu(t,e,a);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),o(te,te.current),n)break;return null;case 22:case 23:return e.lanes=0,Qo(t,e,a);case 24:mt(e,Ft,t.memoizedState.cache)}return ia(t,e,a)}function eu(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps)ie=!0;else{if(!bs(t,a)&&(e.flags&128)===0)return ie=!1,p0(t,e,a);ie=(t.flags&131072)!==0}else ie=!1,Gt&&(e.flags&1048576)!==0&&Z(e,Sl,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")Ys(n)?(t=qa(n,t),e.tag=1,e=Wo(null,e,n,t,a)):(e.tag=0,e=ms(null,e,n,t,a));else{if(n!=null){if(i=n.$$typeof,i===ws){e.tag=11,e=Xo(null,e,n,t,a);break t}else if(i===Js){e.tag=14,e=jo(null,e,n,t,a);break t}}throw e=N(n)||n,Error(E(306,e,""))}}return e;case 0:return ms(t,e,e.type,e.pendingProps,a);case 1:return n=e.type,i=qa(n,e.pendingProps),Wo(t,e,n,i,a);case 3:t:{if(k(e,e.stateNode.containerInfo),t===null)throw Error(E(387));var l=e.pendingProps;i=e.memoizedState,n=i.element,Zl(t,e),Un(e,l,null,a);var G=e.memoizedState;if(l=G.cache,mt(e,Ft,l),l!==i.cache&&qt(e,[Ft],a,!0),Dn(),l=G.element,qe&&i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:G.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=ko(t,e,l,a);break t}else if(l!==n){n=X(Error(E(424)),e),Tt(n),e=ko(t,e,l,a);break t}else for(qe&&($t=Gf(e.stateNode.containerInfo),pe=e,Gt=!0,ja=null,ta=!0),a=Rc(e,null,l,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ot(),l===n){e=ia(t,e,a);break t}ce(t,e,l,a)}e=e.child}return e;case 26:if(Ze)return sl(t,e),t===null?(a=fc(e.type,null,e.pendingProps,null))?e.memoizedState=a:Gt||(e.stateNode=Zf(e.type,e.pendingProps,Ra.current,e)):e.memoizedState=fc(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:if(It)return rt(e),t===null&&It&&Gt&&(n=e.stateNode=yc(e.type,e.pendingProps,Ra.current,he.current,!1),pe=e,ta=!0,$t=Uf(e.type,n,$t)),ce(t,e,e.pendingProps.children,a),sl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Gt&&(jf(e.type,e.pendingProps,he.current),(i=n=$t)&&(n=zf(n,e.type,e.pendingProps,ta),n!==null?(e.stateNode=n,pe=e,$t=Of(n),ta=!1,i=!0):i=!1),i||Y(e)),rt(e),i=e.type,l=e.pendingProps,G=t!==null?t.memoizedProps:null,n=l.children,ml(i,l)?n=null:G!==null&&ml(i,G)&&(e.flags|=32),e.memoizedState!==null&&(i=$l(t,e,c0,null,null,a),sa?Ka._currentValue=i:Ka._currentValue2=i),sl(t,e),ce(t,e,n,a),e.child;case 6:return t===null&&Gt&&(wf(e.pendingProps,he.current),(t=a=$t)&&(a=Hf(a,e.pendingProps,ta),a!==null?(e.stateNode=a,pe=e,$t=null,t=!0):t=!1),t||Y(e)),null;case 13:return Io(t,e,a);case 4:return k(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cn(e,null,n,a):ce(t,e,n,a),e.child;case 11:return Xo(t,e,e.type,e.pendingProps,a);case 7:return ce(t,e,e.pendingProps,a),e.child;case 8:return ce(t,e,e.pendingProps.children,a),e.child;case 12:return ce(t,e,e.pendingProps.children,a),e.child;case 10:return n=e.pendingProps,mt(e,e.type,n.value),ce(t,e,n.children,a),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,Ne(e),i=vt(i),n=n(i),e.flags|=1,ce(t,e,n,a),e.child;case 14:return jo(t,e,e.type,e.pendingProps,a);case 15:return wo(t,e,e.type,e.pendingProps,a);case 19:return tu(t,e,a);case 31:return n=e.pendingProps,a=e.mode,n={mode:n.mode,children:n.children},t===null?(a=rl(n,a),a.ref=e.ref,e.child=a,a.return=e,e=a):(a=la(t.child,n),a.ref=e.ref,e.child=a,a.return=e,e=a),e;case 22:return Qo(t,e,a);case 24:return Ne(e),n=vt(Ft),t===null?(i=jl(),i===null&&(i=Vt,l=Re(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=a),i=l),e.memoizedState={parent:n,cache:i},Ql(e),mt(e,Ft,i)):((t.lanes&a)!==0&&(Zl(t,e),Un(e,null,null,a),Dn()),i=t.memoizedState,l=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),mt(e,Ft,n)):(n=l.cache,mt(e,Ft,n),n!==i.cache&&qt(e,[Ft],a,!0))),ce(t,e,e.pendingProps.children,a),e.child;case 29:throw e.pendingProps}throw Error(E(156,e.tag))}function xe(t){t.flags|=4}function au(t,e){if(t!==null&&t.child===e.child)return!1;if((e.flags&16)!==0)return!0;for(t=e.child;t!==null;){if((t.flags&13878)!==0||(t.subtreeFlags&13878)!==0)return!0;t=t.sibling}return!1}function Cs(t,e,a,n){if(ge)for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)ks(t,a.stateNode);else if(!(a.tag===4||It&&a.tag===27)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}else if(Aa)for(var i=e.child;i!==null;){if(i.tag===5){var l=i.stateNode;a&&n&&(l=rc(l,i.type,i.memoizedProps)),ks(t,l)}else if(i.tag===6)l=i.stateNode,a&&n&&(l=oc(l,i.memoizedProps)),ks(t,l);else if(i.tag!==4){if(i.tag===22&&i.memoizedState!==null)l=i.child,l!==null&&(l.return=i),Cs(t,i,!0,!0);else if(i.child!==null){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function nu(t,e,a,n){var i=!1;if(Aa)for(var l=e.child;l!==null;){if(l.tag===5){var G=l.stateNode;a&&n&&(G=rc(G,l.type,l.memoizedProps)),lc(t,G)}else if(l.tag===6)G=l.stateNode,a&&n&&(G=oc(G,l.memoizedProps)),lc(t,G);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)i=l.child,i!==null&&(i.return=l),nu(t,l,!0,!0),i=!0;else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===e)break;for(;l.sibling===null;){if(l.return===null||l.return===e)return i;l=l.return}l.sibling.return=l.return,l=l.sibling}return i}function iu(t,e){if(Aa&&au(t,e)){t=e.stateNode;var a=t.containerInfo,n=ic();nu(n,e,!1,!1),t.pendingChildren=n,xe(e),Tf(a,n)}}function Es(t,e,a,n){if(ge)t.memoizedProps!==n&&xe(e);else if(Aa){var i=t.stateNode,l=t.memoizedProps;if((t=au(t,e))||l!==n){var G=he.current;l=Ef(i,a,l,n,!t,null),l===i?e.stateNode=i:($u(l,a,n,G)&&xe(e),e.stateNode=l,t?Cs(l,e,!1,!1):xe(e))}else e.stateNode=i}}function Ts(t,e,a){if(W0(e,a)){if(t.flags|=16777216,!ec(e,a))if(xu())t.flags|=8192;else throw pn=Al,cr}else t.flags&=-16777217}function lu(t,e){if(Wf(e)){if(t.flags|=16777216,!vc(e))if(xu())t.flags|=8192;else throw pn=Al,cr}else t.flags&=-16777217}function ol(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?A():536870912,t.lanes|=e,Nn|=e)}function qn(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,n=0;if(e)for(var i=t.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=a,e}function v0(t,e,a){var n=e.pendingProps;switch(lt(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Yt(e),null;case 3:return a=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Bt(Ft),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(it(e)?xe(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ht())),iu(t,e),Yt(e),null;case 26:if(Ze){a=e.type;var i=e.memoizedState;return t===null?(xe(e),i!==null?(Yt(e),lu(e,i)):(Yt(e),Ts(e,a,n))):i?i!==t.memoizedState?(xe(e),Yt(e),lu(e,i)):(Yt(e),e.flags&=-16777217):(ge?t.memoizedProps!==n&&xe(e):Es(t,e,a,n),Yt(e),Ts(e,a,n)),null}case 27:if(It){if(ct(e),a=Ra.current,i=e.type,t!==null&&e.stateNode!=null)ge?t.memoizedProps!==n&&xe(e):Es(t,e,i,n);else{if(!n){if(e.stateNode===null)throw Error(E(166));return Yt(e),null}t=he.current,it(e)?J(e,t):(t=yc(i,n,a,t,!0),e.stateNode=t,xe(e))}return Yt(e),null}case 5:if(ct(e),a=e.type,t!==null&&e.stateNode!=null)Es(t,e,a,n);else{if(!n){if(e.stateNode===null)throw Error(E(166));return Yt(e),null}t=he.current,it(e)?J(e,t):(i=P0(a,n,Ra.current,t,e),Cs(i,e,!1,!1),e.stateNode=i,$u(i,a,n,t)&&xe(e))}return Yt(e),Ts(e,e.type,e.pendingProps),null;case 6:if(t&&e.stateNode!=null)a=t.memoizedProps,ge?a!==n&&xe(e):Aa&&(a!==n?(e.stateNode=tc(n,Ra.current,he.current,e),xe(e)):e.stateNode=t.stateNode);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(t=Ra.current,a=he.current,it(e)){if(!qe)throw Error(E(176));if(t=e.stateNode,a=e.memoizedProps,n=null,i=pe,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}qf(t,a,e,n)||Y(e)}else e.stateNode=tc(n,t,a,e)}return Yt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=it(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(!qe)throw Error(E(344));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));Lf(i,e)}else ot(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Yt(e),i=!1}else i=ht(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(na(e),e):(na(e),null)}if(na(e),(e.flags&128)!==0)return e.lanes=a,e;if(a=n!==null,t=t!==null&&t.memoizedState!==null,a){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var l=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048)}return a!==t&&a&&(e.child.flags|=8192),ol(e,e.updateQueue),Yt(e),null;case 4:return tt(),iu(t,e),t===null&&w0(e.stateNode.containerInfo),Yt(e),null;case 10:return Bt(e.type),Yt(e),null;case 19:if(f(te),i=e.memoizedState,i===null)return Yt(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)qn(i,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=il(t),l!==null){for(e.flags|=128,qn(i,!1),t=l.updateQueue,e.updateQueue=t,ol(e,t),e.subtreeFlags=0,t=a,a=e.child;a!==null;)Ku(a,t),a=a.sibling;return o(te,te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Je()>ei&&(e.flags|=128,n=!0,qn(i,!1),e.lanes=4194304)}else{if(!n)if(t=il(l),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,ol(e,t),qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Gt)return Yt(e),null}else 2*Je()-i.renderingStartTime>ei&&a!==536870912&&(e.flags|=128,n=!0,qn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(t=i.last,t!==null?t.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Je(),e.sibling=null,t=te.current,o(te,n?t&1|2:t&1),e):(Yt(e),null);case 22:case 23:return na(e),kl(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(a&536870912)!==0&&(e.flags&128)===0&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),a=e.updateQueue,a!==null&&ol(e,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==a&&(e.flags|=2048),t!==null&&f(Qa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Bt(Ft),Yt(e),null;case 25:return null;case 30:return null}throw Error(E(156,e.tag))}function y0(t,e){switch(lt(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bt(Ft),tt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ct(e),null;case 13:if(na(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ot()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return f(te),null;case 4:return tt(),null;case 10:return Bt(e.type),null;case 22:case 23:return na(e),kl(),t!==null&&f(Qa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Bt(Ft),null;case 25:return null;default:return null}}function su(t,e){switch(lt(e),e.tag){case 3:Bt(Ft),tt();break;case 26:case 27:case 5:ct(e);break;case 4:tt();break;case 13:na(e);break;case 19:f(te);break;case 10:Bt(e.type);break;case 22:case 23:na(e),kl(),t!==null&&f(Qa);break;case 24:Bt(Ft)}}function Ln(t,e){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&t)===t){n=void 0;var l=a.create,G=a.inst;n=l(),G.destroy=n}a=a.next}while(a!==i)}}catch(L){Ut(e,e.return,L)}}function Sa(t,e,a){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){var G=n.inst,L=G.destroy;if(L!==void 0){G.destroy=void 0,i=e;var w=a,$=L;try{$()}catch(nt){Ut(i,w,nt)}}}n=n.next}while(n!==l)}}catch(nt){Ut(e,e.return,nt)}}function ru(t){var e=t.updateQueue;if(e!==null){var a=t.stateNode;try{Ir(e,a)}catch(n){Ut(t,t.return,n)}}}function ou(t,e,a){a.props=qa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(n){Ut(t,e,n)}}function Yn(t,e){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var n=Xn(t.stateNode);break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof a=="function"?t.refCleanup=a(n):a.current=n}}catch(i){Ut(t,e,i)}}function Ie(t,e){var a=t.ref,n=t.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Ut(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Ut(t,e,i)}else a.current=null}function uu(t){var e=t.type,a=t.memoizedProps,n=t.stateNode;try{ff(n,e,a,t)}catch(i){Ut(t,t.return,i)}}function Ns(t,e,a){try{df(t.stateNode,t.type,a,e,t)}catch(n){Ut(t,t.return,n)}}function cu(t){return t.tag===5||t.tag===3||(Ze?t.tag===26:!1)||(It?t.tag===27&&rn(t.type):!1)||t.tag===4}function As(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(It&&t.tag===27&&rn(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rs(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?mf(a,t,e):cf(a,t);else if(n!==4&&(It&&n===27&&rn(t.type)&&(a=t.stateNode,e=null),t=t.child,t!==null))for(Rs(t,e,a),t=t.sibling;t!==null;)Rs(t,e,a),t=t.sibling}function ul(t,e,a){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?gf(a,t,e):uf(a,t);else if(n!==4&&(It&&n===27&&rn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ul(t,e,a),t=t.sibling;t!==null;)ul(t,e,a),t=t.sibling}function hu(t,e,a){t=t.containerInfo;try{sc(t,a)}catch(n){Ut(e,e.return,n)}}function fu(t){var e=t.stateNode,a=t.memoizedProps;try{If(t.type,a,e,t)}catch(n){Ut(t,t.return,n)}}function _0(t,e){for(Y0(t.containerInfo),le=e;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;var a=t.alternate;switch(e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&a!==null){e=void 0;var n=t,i=a.memoizedProps;a=a.memoizedState;var l=n.stateNode;try{var G=qa(n.type,i,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(G,a),l.__reactInternalSnapshotBeforeUpdate=e}catch(L){Ut(n,n.return,L)}}break;case 3:(e&1024)!==0&&ge&&Cf(t.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(E(163))}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}}function du(t,e,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:ba(t,a),n&4&&Ln(5,a);break;case 1:if(ba(t,a),n&4)if(t=a.stateNode,e===null)try{t.componentDidMount()}catch(G){Ut(a,a.return,G)}else{var i=qa(a.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(G){Ut(a,a.return,G)}}n&64&&ru(a),n&512&&Yn(a,a.return);break;case 3:if(ba(t,a),n&64&&(t=a.updateQueue,t!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=Xn(a.child.stateNode);break;case 1:e=a.child.stateNode}try{Ir(t,e)}catch(G){Ut(a,a.return,G)}}break;case 27:It&&e===null&&n&4&&fu(a);case 26:case 5:ba(t,a),e===null&&n&4&&uu(a),n&512&&Yn(a,a.return);break;case 12:ba(t,a);break;case 13:ba(t,a),n&4&&mu(t,a),n&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=A0.bind(null,a),Af(t,a))));break;case 22:if(n=a.memoizedState!==null||ha,!n){e=e!==null&&e.memoizedState!==null||jt,i=ha;var l=jt;ha=n,(jt=e)&&!l?Ca(t,a,(a.subtreeFlags&8772)!==0):ba(t,a),ha=i,jt=l}break;case 30:break;default:ba(t,a)}}function gu(t){var e=t.alternate;e!==null&&(t.alternate=null,gu(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&J0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qe(t,e,a){for(a=a.child;a!==null;)Ms(t,e,a),a=a.sibling}function Ms(t,e,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:if(Ze){jt||Ie(a,e),Qe(t,e,a),a.memoizedState?gc(a.memoizedState):a.stateNode&&pc(a.stateNode);break}case 27:if(It){jt||Ie(a,e);var n=Wt,i=be;rn(a.type)&&(Wt=a.stateNode,be=!1),Qe(t,e,a),_c(a.stateNode),Wt=n,be=i;break}case 5:jt||Ie(a,e);case 6:if(ge){if(n=Wt,i=be,Wt=null,Qe(t,e,a),Wt=n,be=i,Wt!==null)if(be)try{vf(Wt,a.stateNode)}catch(l){Ut(a,e,l)}else try{pf(Wt,a.stateNode)}catch(l){Ut(a,e,l)}}else Qe(t,e,a);break;case 18:ge&&Wt!==null&&(be?Xf(Wt,a.stateNode):Kf(Wt,a.stateNode));break;case 4:ge?(n=Wt,i=be,Wt=a.stateNode.containerInfo,be=!0,Qe(t,e,a),Wt=n,be=i):(Aa&&hu(a.stateNode,a,ic()),Qe(t,e,a));break;case 0:case 11:case 14:case 15:jt||Sa(2,a,e),jt||Sa(4,a,e),Qe(t,e,a);break;case 1:jt||(Ie(a,e),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ou(a,e,n)),Qe(t,e,a);break;case 21:Qe(t,e,a);break;case 22:jt=(n=jt)||a.memoizedState!==null,Qe(t,e,a),jt=n;break;default:Qe(t,e,a)}}function mu(t,e){if(qe&&e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pf(t)}catch(a){Ut(e,e.return,a)}}function S0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Oc),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Oc),e;default:throw Error(E(435,t.tag))}}function xs(t,e){var a=S0(t);e.forEach(function(n){var i=R0.bind(null,t,n);a.has(n)||(a.add(n),n.then(i,i))})}function me(t,e){var a=e.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],l=t,G=e;if(ge){var L=G;t:for(;L!==null;){switch(L.tag){case 27:if(It){if(rn(L.type)){Wt=L.stateNode,be=!1;break t}break}case 5:Wt=L.stateNode,be=!1;break t;case 3:case 4:Wt=L.stateNode.containerInfo,be=!0;break t}L=L.return}if(Wt===null)throw Error(E(160));Ms(l,G,i),Wt=null,be=!1}else Ms(l,G,i);l=i.alternate,l!==null&&(l.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)pu(e,t),e=e.sibling}function pu(t,e){var a=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:me(e,t),Se(t),n&4&&(Sa(3,t,t.return),Ln(3,t),Sa(5,t,t.return));break;case 1:me(e,t),Se(t),n&512&&(jt||a===null||Ie(a,a.return)),n&64&&ha&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:if(Ze){var i=We;if(me(e,t),Se(t),n&512&&(jt||a===null||Ie(a,a.return)),n&4){n=a!==null?a.memoizedState:null;var l=t.memoizedState;a===null?l===null?t.stateNode===null?t.stateNode=Qf(i,t.type,t.memoizedProps,t):mc(i,t.type,t.stateNode):t.stateNode=dc(i,l,t.memoizedProps):n!==l?(n===null?a.stateNode!==null&&pc(a.stateNode):gc(n),l===null?mc(i,t.type,t.stateNode):dc(i,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ns(t,t.memoizedProps,a.memoizedProps)}break}case 27:if(It){me(e,t),Se(t),n&512&&(jt||a===null||Ie(a,a.return)),a!==null&&n&4&&Ns(t,t.memoizedProps,a.memoizedProps);break}case 5:if(me(e,t),Se(t),n&512&&(jt||a===null||Ie(a,a.return)),ge){if(t.flags&32){i=t.stateNode;try{nc(i)}catch(nt){Ut(t,t.return,nt)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Ns(t,i,a!==null?a.memoizedProps:i)),n&1024&&(mr=!0)}break;case 6:if(me(e,t),Se(t),n&4&&ge){if(t.stateNode===null)throw Error(E(162));n=t.memoizedProps,a=a!==null?a.memoizedProps:n,i=t.stateNode;try{hf(i,a,n)}catch(nt){Ut(t,t.return,nt)}}break;case 3:if(Ze?(Jf(),i=We,We=tr(e.containerInfo),me(e,t),We=i):me(e,t),Se(t),n&4){if(ge&&qe&&a!==null&&a.memoizedState.isDehydrated)try{Ff(e.containerInfo)}catch(nt){Ut(t,t.return,nt)}if(Aa){n=e.containerInfo,a=e.pendingChildren;try{sc(n,a)}catch(nt){Ut(t,t.return,nt)}}}mr&&(mr=!1,vu(t));break;case 4:Ze?(a=We,We=tr(t.stateNode.containerInfo),me(e,t),Se(t),We=a):(me(e,t),Se(t)),n&4&&Aa&&hu(t.stateNode,t,t.stateNode.pendingChildren);break;case 12:me(e,t),Se(t);break;case 13:me(e,t),Se(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_r=Je()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,xs(t,n)));break;case 22:i=t.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,L=ha,w=jt;if(ha=L||i,jt=w||G,me(e,t),jt=w,ha=L,Se(t),n&8192&&(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(a===null||G||ha||jt||La(t)),ge)){t:if(a=null,ge)for(e=t;;){if(e.tag===5||Ze&&e.tag===26){if(a===null){G=a=e;try{l=G.stateNode,i?yf(l):Sf(G.stateNode,G.memoizedProps)}catch(nt){Ut(G,G.return,nt)}}}else if(e.tag===6){if(a===null){G=e;try{var $=G.stateNode;i?_f($):bf($,G.memoizedProps)}catch(nt){Ut(G,G.return,nt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;a===e&&(a=null),e=e.return}a===e&&(a=null),e.sibling.return=e.return,e=e.sibling}}n&4&&(n=t.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,xs(t,a))));break;case 19:me(e,t),Se(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,xs(t,n)));break;case 30:break;case 21:break;default:me(e,t),Se(t)}}function Se(t){var e=t.flags;if(e&2){try{if(ge){for(var a,n=t.return;n!==null;){if(cu(n)){a=n;break}n=n.return}if(a==null)throw Error(E(160));switch(a.tag){case 27:if(It){var i=a.stateNode,l=As(t);ul(t,l,i);break}case 5:var G=a.stateNode;a.flags&32&&(nc(G),a.flags&=-33);var L=As(t);ul(t,L,G);break;case 3:case 4:var w=a.stateNode.containerInfo,$=As(t);Rs(t,$,w);break;default:throw Error(E(161))}}}catch(nt){Ut(t,t.return,nt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vu(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;vu(e),e.tag===5&&e.flags&1024&&$0(e.stateNode),t=t.sibling}}function ba(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)du(t,e.alternate,e),e=e.sibling}function La(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Sa(4,e,e.return),La(e);break;case 1:Ie(e,e.return);var a=e.stateNode;typeof a.componentWillUnmount=="function"&&ou(e,e.return,a),La(e);break;case 27:It&&_c(e.stateNode);case 26:case 5:Ie(e,e.return),La(e);break;case 22:e.memoizedState===null&&La(e);break;case 30:La(e);break;default:La(e)}t=t.sibling}}function Ca(t,e,a){for(a=a&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,l=e,G=l.flags;switch(l.tag){case 0:case 11:case 15:Ca(i,l,a),Ln(4,l);break;case 1:if(Ca(i,l,a),n=l,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch($){Ut(n,n.return,$)}if(n=l,i=n.updateQueue,i!==null){var L=n.stateNode;try{var w=i.shared.hiddenCallbacks;if(w!==null)for(i.shared.hiddenCallbacks=null,i=0;i<w.length;i++)kr(w[i],L)}catch($){Ut(n,n.return,$)}}a&&G&64&&ru(l),Yn(l,l.return);break;case 27:It&&fu(l);case 26:case 5:Ca(i,l,a),a&&n===null&&G&4&&uu(l),Yn(l,l.return);break;case 12:Ca(i,l,a);break;case 13:Ca(i,l,a),a&&G&4&&mu(i,l);break;case 22:l.memoizedState===null&&Ca(i,l,a),Yn(l,l.return);break;case 30:break;default:Ca(i,l,a)}e=e.sibling}}function Os(t,e){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qt(a))}function Gs(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qt(t))}function $e(t,e,a,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yu(t,e,a,n),e=e.sibling}function yu(t,e,a,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:$e(t,e,a,n),i&2048&&Ln(9,e);break;case 1:$e(t,e,a,n);break;case 3:$e(t,e,a,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qt(t)));break;case 12:if(i&2048){$e(t,e,a,n),t=e.stateNode;try{var l=e.memoizedProps,G=l.id,L=l.onPostCommit;typeof L=="function"&&L(G,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ut(e,e.return,w)}}else $e(t,e,a,n);break;case 13:$e(t,e,a,n);break;case 23:break;case 22:l=e.stateNode,G=e.alternate,e.memoizedState!==null?l._visibility&2?$e(t,e,a,n):Fn(t,e):l._visibility&2?$e(t,e,a,n):(l._visibility|=2,tn(t,e,a,n,(e.subtreeFlags&10256)!==0)),i&2048&&Os(G,e);break;case 24:$e(t,e,a,n),i&2048&&Gs(e.alternate,e);break;default:$e(t,e,a,n)}}function tn(t,e,a,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var l=t,G=e,L=a,w=n,$=G.flags;switch(G.tag){case 0:case 11:case 15:tn(l,G,L,w,i),Ln(8,G);break;case 23:break;case 22:var nt=G.stateNode;G.memoizedState!==null?nt._visibility&2?tn(l,G,L,w,i):Fn(l,G):(nt._visibility|=2,tn(l,G,L,w,i)),i&&$&2048&&Os(G.alternate,G);break;case 24:tn(l,G,L,w,i),i&&$&2048&&Gs(G.alternate,G);break;default:tn(l,G,L,w,i)}e=e.sibling}}function Fn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var a=t,n=e,i=n.flags;switch(n.tag){case 22:Fn(a,n),i&2048&&Os(n.alternate,n);break;case 24:Fn(a,n),i&2048&&Gs(n.alternate,n);break;default:Fn(a,n)}e=e.sibling}}function Ya(t){if(t.subtreeFlags&En)for(t=t.child;t!==null;)_u(t),t=t.sibling}function _u(t){switch(t.tag){case 26:Ya(t),t.flags&En&&(t.memoizedState!==null?kf(We,t.memoizedState,t.memoizedProps):ac(t.type,t.memoizedProps));break;case 5:Ya(t),t.flags&En&&ac(t.type,t.memoizedProps);break;case 3:case 4:if(Ze){var e=We;We=tr(t.stateNode.containerInfo),Ya(t),We=e}else Ya(t);break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=En,En=16777216,Ya(t),En=e):Ya(t));break;default:Ya(t)}}function Su(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pn(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];le=n,Cu(n,t)}Su(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bu(t),t=t.sibling}function bu(t){switch(t.tag){case 0:case 11:case 15:Pn(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:Pn(t);break;case 12:Pn(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,cl(t)):Pn(t);break;default:Pn(t)}}function cl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var a=0;a<e.length;a++){var n=e[a];le=n,Cu(n,t)}Su(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Sa(8,e,e.return),cl(e);break;case 22:a=e.stateNode,a._visibility&2&&(a._visibility&=-3,cl(e));break;default:cl(e)}t=t.sibling}}function Cu(t,e){for(;le!==null;){var a=le;switch(a.tag){case 0:case 11:case 15:Sa(8,a,e);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Qt(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,le=n;else t:for(a=t;le!==null;){n=le;var i=n.sibling,l=n.return;if(gu(n),n===a){le=null;break t}if(i!==null){i.return=l,le=i;break t}le=l}}}function Ds(t){var e=j0(t);if(e!=null){if(typeof e.memoizedProps["data-testname"]!="string")throw Error(E(364));return e}if(t=af(t),t===null)throw Error(E(362));return t.stateNode.current}function Us(t,e){var a=t.tag;switch(e.$$typeof){case Gl:if(t.type===e.value)return!0;break;case Dl:t:{for(e=e.value,t=[t,0],a=0;a<t.length;){var n=t[a++],i=n.tag,l=t[a++],G=e[l];if(i!==5&&i!==26&&i!==27||!wn(n)){for(;G!=null&&Us(n,G);)l++,G=e[l];if(l===e.length){e=!0;break t}else for(n=n.child;n!==null;)t.push(n,l),n=n.sibling}}e=!1}return e;case Ul:if((a===5||a===26||a===27)&&sf(t.stateNode,e.value))return!0;break;case Hl:if((a===5||a===6||a===26||a===27)&&(t=lf(t),t!==null&&0<=t.indexOf(e.value)))return!0;break;case zl:if((a===5||a===26||a===27)&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(E(365))}return!1}function zs(t){switch(t.$$typeof){case Gl:return"<"+(N(t.value)||"Unknown")+">";case Dl:return":has("+(zs(t)||"")+")";case Ul:return'[role="'+t.value+'"]';case Hl:return'"'+t.value+'"';case zl:return'[data-testname="'+t.value+'"]';default:throw Error(E(365))}}function Eu(t,e){var a=[];t=[t,0];for(var n=0;n<t.length;){var i=t[n++],l=i.tag,G=t[n++],L=e[G];if(l!==5&&l!==26&&l!==27||!wn(i)){for(;L!=null&&Us(i,L);)G++,L=e[G];if(G===e.length)a.push(i);else for(i=i.child;i!==null;)t.push(i,G),i=i.sibling}}return a}function Hs(t,e){if(!jn)throw Error(E(363));t=Ds(t),t=Eu(t,e),e=[],t=Array.from(t);for(var a=0;a<t.length;){var n=t[a++],i=n.tag;if(i===5||i===26||i===27)wn(n)||e.push(n.stateNode);else for(n=n.child;n!==null;)t.push(n),n=n.sibling}return e}function Oe(){if((Nt&2)!==0&&At!==0)return At&-At;if(dt.T!==null){var t=gn;return t!==0?t:Va()}return Q0()}function Tu(){Ke===0&&(Ke=(At&536870912)===0||Gt?v():536870912);var t=Pe.current;return t!==null&&(t.flags|=32),Ke}function Ge(t,e,a){(t===Vt&&(zt===2||zt===9)||t.cancelPendingCommit!==null)&&(en(t,0),Ea(t,At,Ke,!1)),F(t,a),((Nt&2)===0||t!==Vt)&&(t===Vt&&((Nt&2)===0&&(Ja|=a),Pt===4&&Ea(t,At,Ke,!1)),kt(t))}function Nu(t,e,a){if((Nt&6)!==0)throw Error(E(327));var n=!a&&(e&124)===0&&(e&t.expiredLanes)===0||u(t,e),i=n?E0(t,e):qs(t,e,!0),l=n;do{if(i===0){Tn&&!n&&Ea(t,e,0,!1);break}else{if(a=t.current.alternate,l&&!b0(a)){i=qs(t,e,!1),l=!1;continue}if(i===2){if(l=e,t.errorRecoveryDisabledLanes&l)var G=0;else G=t.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){e=G;t:{var L=t;i=ti;var w=qe&&L.current.memoizedState.isDehydrated;if(w&&(en(L,G).flags|=256),G=qs(L,G,!1),G!==2){if(pr&&!w){L.errorRecoveryDisabledLanes|=l,Ja|=l,i=4;break t}l=Ce,Ce=i,l!==null&&(Ce===null?Ce=l:Ce.push.apply(Ce,l))}i=G}if(l=!1,i!==2)continue}}if(i===1){en(t,0),Ea(t,e,0,!0);break}t:{switch(n=t,l=i,l){case 0:case 1:throw Error(E(345));case 4:if((e&4194048)!==e)break;case 6:Ea(n,e,Ke,!Oa);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(E(329))}if((e&62914560)===e&&(i=_r+300-Je(),10<i)){if(Ea(n,e,Ke,!Oa),U(n,0,!0)!==0)break t;n.timeoutHandle=K0(Au.bind(null,n,a,Ce,Bl,yr,e,Ke,Ja,Nn,Oa,l,2,-0,0),i);break t}Au(n,a,Ce,Bl,yr,e,Ke,Ja,Nn,Oa,l,0,-0,0)}}break}while(!0);kt(t)}function Au(t,e,a,n,i,l,G,L,w,$,nt,st,ut,pt){if(t.timeoutHandle=Pa,st=e.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(k0(),_u(e),st=I0(),st!==null)){t.cancelPendingCommit=st(Hu.bind(null,t,e,l,a,n,i,G,L,w,nt,1,ut,pt)),Ea(t,l,G,!$);return}Hu(t,e,l,a,n,i,G,L,w)}function b0(t){for(var e=t;;){var a=e.tag;if((a===0||a===11||a===15)&&e.flags&16384&&(a=e.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],l=i.getSnapshot;i=i.value;try{if(!He(l(),i))return!1}catch{return!1}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ea(t,e,a,n){e&=~vr,e&=~Ja,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var l=31-Ue(i),G=1<<l;n[l]=-1,i&=~G}a!==0&&x(t,a,e)}function Ru(){return(Nt&6)===0?(de(0),!1):!0}function Bs(){if(bt!==null){if(zt===0)var t=bt.return;else t=bt,ca=wa=null,as(t),bn=null,In=0,t=bt;for(;t!==null;)su(t.alternate,t),t=t.return;bt=null}}function en(t,e){var a=t.timeoutHandle;a!==Pa&&(t.timeoutHandle=Pa,X0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bs(),Vt=t,bt=a=la(t.current,null),At=e,zt=0,Be=null,Oa=!1,Tn=u(t,e),pr=!1,Nn=Ke=vr=Ja=Ga=Pt=0,Ce=ti=null,yr=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Ue(n),l=1<<i;e|=t[i],n&=~l}return fa=e,Zi(),a}function Mu(t,e){yt=null,dt.H=Ol,e===Wn||e===Nl?(e=Zr(),zt=3):e===cr?(e=Zr(),zt=4):zt=e===xc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Be=e,bt===null&&(Pt=1,ll(t,X(e,t.current)))}function xu(){var t=Pe.current;return t===null?!0:(At&4194048)===At?ea===null:(At&62914560)===At||(At&536870912)!==0?t===ea:!1}function Ou(){var t=dt.H;return dt.H=Ol,t===null?Ol:t}function Gu(){var t=dt.A;return dt.A=dd,t}function Vs(){Pt=4,Oa||(At&4194048)!==At&&Pe.current!==null||(Tn=!0),(Ga&134217727)===0&&(Ja&134217727)===0||Vt===null||Ea(Vt,At,Ke,!1)}function qs(t,e,a){var n=Nt;Nt|=2;var i=Ou(),l=Gu();(Vt!==t||At!==e)&&(Bl=null,en(t,e)),e=!1;var G=Pt;t:do try{if(zt!==0&&bt!==null){var L=bt,w=Be;switch(zt){case 8:Bs(),G=6;break t;case 3:case 2:case 9:case 6:Pe.current===null&&(e=!0);var $=zt;if(zt=0,Be=null,an(t,L,w,$),a&&Tn){G=0;break t}break;default:$=zt,zt=0,Be=null,an(t,L,w,$)}}C0(),G=Pt;break}catch(nt){Mu(t,nt)}while(!0);return e&&t.shellSuspendCounter++,ca=wa=null,Nt=n,dt.H=i,dt.A=l,bt===null&&(Vt=null,At=0,Zi()),G}function C0(){for(;bt!==null;)Du(bt)}function E0(t,e){var a=Nt;Nt|=2;var n=Ou(),i=Gu();Vt!==t||At!==e?(Bl=null,ei=Je()+500,en(t,e)):Tn=u(t,e);t:do try{if(zt!==0&&bt!==null){e=bt;var l=Be;e:switch(zt){case 1:zt=0,Be=null,an(t,e,l,1);break;case 2:case 9:if(wr(l)){zt=0,Be=null,Uu(e);break}e=function(){zt!==2&&zt!==9||Vt!==t||(zt=7),kt(t)},l.then(e,e);break t;case 3:zt=7;break t;case 4:zt=5;break t;case 7:wr(l)?(zt=0,Be=null,Uu(e)):(zt=0,Be=null,an(t,e,l,7));break;case 5:var G=null;switch(bt.tag){case 26:G=bt.memoizedState;case 5:case 27:var L=bt,w=L.type,$=L.pendingProps;if(G?vc(G):ec(w,$)){zt=0,Be=null;var nt=L.sibling;if(nt!==null)bt=nt;else{var st=L.return;st!==null?(bt=st,hl(st)):bt=null}break e}}zt=0,Be=null,an(t,e,l,5);break;case 6:zt=0,Be=null,an(t,e,l,6);break;case 8:Bs(),Pt=6;break t;default:throw Error(E(462))}}T0();break}catch(ut){Mu(t,ut)}while(!0);return ca=wa=null,dt.H=n,dt.A=i,Nt=a,bt!==null?0:(Vt=null,At=0,Zi(),Pt)}function T0(){for(;bt!==null&&!ed();)Du(bt)}function Du(t){var e=eu(t.alternate,t,fa);t.memoizedProps=t.pendingProps,e===null?hl(t):bt=e}function Uu(t){var e=t,a=e.alternate;switch(e.tag){case 15:case 0:e=Jo(a,e,e.pendingProps,e.type,void 0,At);break;case 11:e=Jo(a,e,e.pendingProps,e.type.render,e.ref,At);break;case 5:as(e);default:su(a,e),e=bt=Ku(e,fa),e=eu(a,e,fa)}t.memoizedProps=t.pendingProps,e===null?hl(t):bt=e}function an(t,e,a,n){ca=wa=null,as(e),bn=null,In=0;var i=e.return;try{if(m0(t,i,e,a,At)){Pt=1,ll(t,X(a,t.current)),bt=null;return}}catch(l){if(i!==null)throw bt=i,l;Pt=1,ll(t,X(a,t.current)),bt=null;return}e.flags&32768?(Gt||n===1?t=!0:Tn||(At&536870912)!==0?t=!1:(Oa=t=!0,(n===2||n===9||n===3||n===6)&&(n=Pe.current,n!==null&&n.tag===13&&(n.flags|=16384))),zu(e,t)):hl(e)}function hl(t){var e=t;do{if((e.flags&32768)!==0){zu(e,Oa);return}t=e.return;var a=v0(e.alternate,e,fa);if(a!==null){bt=a;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);Pt===0&&(Pt=5)}function zu(t,e){do{var a=y0(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!e&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);Pt=6,bt=null}function Hu(t,e,a,n,i,l,G,L,w){t.cancelPendingCommit=null;do Kn();while(fe!==0);if((Nt&6)!==0)throw Error(E(327));if(e!==null){if(e===t.current)throw Error(E(177));if(l=e.lanes|e.childLanes,l|=hr,D(t,a,l,G,L,w),t===Vt&&(bt=Vt=null,At=0),An=e,Ua=t,Rn=a,Sr=l,br=i,Gc=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,M0(nr,function(){return Yu(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=dt.T,dt.T=null,i=ra(),ne(2),G=Nt,Nt|=4;try{_0(t,e,a)}finally{Nt=G,ne(i),dt.T=n}}fe=1,Bu(),Vu(),qu()}}function Bu(){if(fe===1){fe=0;var t=Ua,e=An,a=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||a){a=dt.T,dt.T=null;var n=ra();ne(2);var i=Nt;Nt|=4;try{pu(e,t),F0(t.containerInfo)}finally{Nt=i,ne(n),dt.T=a}}t.current=e,fe=2}}function Vu(){if(fe===2){fe=0;var t=Ua,e=An,a=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||a){a=dt.T,dt.T=null;var n=ra();ne(2);var i=Nt;Nt|=4;try{du(t,e.alternate,e)}finally{Nt=i,ne(n),dt.T=a}}fe=3}}function qu(){if(fe===4||fe===3){fe=0,ad();var t=Ua,e=An,a=Rn,n=Gc;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?fe=5:(fe=0,An=Ua=null,Lu(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Da=null),P(a),e=e.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Qn,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=dt.T,i=ra(),ne(2),dt.T=null;try{for(var l=t.onRecoverableError,G=0;G<n.length;G++){var L=n[G];l(L.value,{componentStack:L.stack})}}finally{dt.T=e,ne(i)}}(Rn&3)!==0&&Kn(),kt(t),i=t.pendingLanes,(a&4194090)!==0&&(i&42)!==0?t===Cr?ai++:(ai=0,Cr=t):ai=0,de(0)}}function Lu(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Qt(e)))}function Kn(t){return Bu(),Vu(),qu(),Yu()}function Yu(){if(fe!==5)return!1;var t=Ua,e=Sr;Sr=0;var a=P(Rn),n=32>a?32:a;a=dt.T;var i=ra();try{ne(n),dt.T=null,n=br,br=null;var l=Ua,G=Rn;if(fe=0,An=Ua=null,Rn=0,(Nt&6)!==0)throw Error(E(331));var L=Nt;if(Nt|=4,bu(l.current),yu(l,l.current,G,n),Nt=L,de(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Qn,l)}catch{}return!0}finally{ne(i),dt.T=a,Lu(t,e)}}function Fu(t,e,a){e=X(a,e),e=gs(t.stateNode,e,2),t=va(t,e,2),t!==null&&(F(t,2),kt(t))}function Ut(t,e,a){if(t.tag===3)Fu(t,t,a);else for(;e!==null;){if(e.tag===3){Fu(e,t,a);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Da===null||!Da.has(n))){t=X(a,t),a=Po(2),n=va(e,a,2),n!==null&&(Ko(a,n,e,t),F(n,2),kt(n));break}}e=e.return}}function Ls(t,e,a){var n=t.pingCache;if(n===null){n=t.pingCache=new gd;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(a)||(pr=!0,i.add(a),t=N0.bind(null,t,e,a),e.then(t,t))}function N0(t,e,a){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Vt===t&&(At&a)===a&&(Pt===4||Pt===3&&(At&62914560)===At&&300>Je()-_r?(Nt&2)===0&&en(t,0):vr|=a,Nn===At&&(Nn=0)),kt(t)}function Pu(t,e){e===0&&(e=A()),t=Ia(t,e),t!==null&&(F(t,e),kt(t))}function A0(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),Pu(t,a)}function R0(t,e){var a=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(E(314))}n!==null&&n.delete(e),Pu(t,a)}function M0(t,e){return yl(t,e)}function x0(t,e,a,n){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(t){return t=t.prototype,!(!t||!t.isReactComponent)}function la(t,e){var a=t.alternate;return a===null?(a=V(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ku(t,e){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,e=a.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function fl(t,e,a,n,i,l){var G=0;if(n=t,typeof t=="function")Ys(t)&&(G=1);else if(typeof t=="string")G=Ze&&It?hc(t,a,he.current)?26:Sc(t)?27:5:Ze?hc(t,a,he.current)?26:5:It&&Sc(t)?27:5;else t:switch(t){case Ws:return t=V(31,a,e,i),t.elementType=Ws,t.lanes=l,t;case ln:return Fa(a.children,i,l,e);case Ju:G=8,i|=24;break;case js:return t=V(12,a,e,i|2),t.elementType=js,t.lanes=l,t;case Qs:return t=V(13,a,e,i),t.elementType=Qs,t.lanes=l,t;case Zs:return t=V(19,a,e,i),t.elementType=Zs,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U0:case Ta:G=10;break t;case Wu:G=9;break t;case ws:G=11;break t;case Js:G=14;break t;case Na:G=16,n=null;break t}G=29,a=Error(E(130,t===null?"null":typeof t,"")),n=null}return e=V(G,a,e,i),e.elementType=t,e.type=n,e.lanes=l,e}function Fa(t,e,a,n){return t=V(7,t,n,e),t.lanes=a,t}function Fs(t,e,a){return t=V(6,t,null,e),t.lanes=a,t}function Ps(t,e,a){return e=V(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O0(t,e,a,n,i,l,G,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Pa,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Xu(t,e,a,n,i,l,G,L,w,$,nt,st){return t=new O0(t,e,a,G,L,w,$,st),e=1,l===!0&&(e|=24),l=V(3,null,null,e),t.current=l,l.stateNode=t,e=Re(),e.refCount++,t.pooledCache=e,e.refCount++,l.memoizedState={element:n,isDehydrated:a,cache:e},Ql(l),t}function ju(t){return t?(t=un,t):un}function wu(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=d(e),t=t!==null?g(t):null,t===null?null:Xn(t.stateNode)}function Qu(t,e,a,n,i,l){i=ju(i),n.context===null?n.context=i:n.pendingContext=i,n=pa(e),n.payload={element:a},l=l===void 0?null:l,l!==null&&(n.callback=l),a=va(t,n,e),a!==null&&(Ge(a,t,e),Gn(a,t,e))}function Zu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function Ks(t,e){Zu(t,e),(t=t.alternate)&&Zu(t,e)}var St={},G0=pd(),De=jh(),Xs=Object.assign,D0=Symbol.for("react.element"),dl=Symbol.for("react.transitional.element"),nn=Symbol.for("react.portal"),ln=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),js=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),Wu=Symbol.for("react.consumer"),Ta=Symbol.for("react.context"),ws=Symbol.for("react.forward_ref"),Qs=Symbol.for("react.suspense"),Zs=Symbol.for("react.suspense_list"),Js=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),Ws=Symbol.for("react.activity"),z0=Symbol.for("react.memo_cache_sentinel"),ku=Symbol.iterator,H0=Symbol.for("react.client.reference"),gl=Array.isArray,dt=G0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B0=c.rendererVersion,V0=c.rendererPackageName,Iu=c.extraDevToolsConfig,Xn=c.getPublicInstance,q0=c.getRootHostContext,L0=c.getChildHostContext,Y0=c.prepareForCommit,F0=c.resetAfterCommit,P0=c.createInstance;c.cloneMutableInstance;var ks=c.appendInitialChild,$u=c.finalizeInitialChildren,ml=c.shouldSetTextContent,tc=c.createTextInstance;c.cloneMutableTextInstance;var K0=c.scheduleTimeout,X0=c.cancelTimeout,Pa=c.noTimeout,sa=c.isPrimaryRenderer;c.warnsIfNotActing;var ge=c.supportsMutation,Aa=c.supportsPersistence,qe=c.supportsHydration,j0=c.getInstanceFromNode;c.beforeActiveInstanceBlur;var w0=c.preparePortalMount;c.prepareScopeUpdate,c.getInstanceFromScope;var ne=c.setCurrentUpdatePriority,ra=c.getCurrentUpdatePriority,Q0=c.resolveUpdatePriority;c.trackSchedulerEvent,c.resolveEventType,c.resolveEventTimeStamp;var Z0=c.shouldAttemptEagerTransition,J0=c.detachDeletedInstance;c.requestPostPaintCallback;var W0=c.maySuspendCommit,ec=c.preloadInstance,k0=c.startSuspendingCommit,ac=c.suspendInstance;c.suspendOnActiveViewTransition;var I0=c.waitForCommitToBeReady,sn=c.NotPendingTransition,Ka=c.HostTransitionContext,$0=c.resetFormInstance;c.bindToConsole;var tf=c.supportsMicrotasks,ef=c.scheduleMicrotask,jn=c.supportsTestSelectors,af=c.findFiberRoot,nf=c.getBoundingRect,lf=c.getTextContent,wn=c.isHiddenSubtree,sf=c.matchAccessibilityRole,rf=c.setFocusIfFocusable,of=c.setupIntersectionObserver,uf=c.appendChild,cf=c.appendChildToContainer,hf=c.commitTextUpdate,ff=c.commitMount,df=c.commitUpdate,gf=c.insertBefore,mf=c.insertInContainerBefore,pf=c.removeChild,vf=c.removeChildFromContainer,nc=c.resetTextContent,yf=c.hideInstance,_f=c.hideTextInstance,Sf=c.unhideInstance,bf=c.unhideTextInstance;c.cancelViewTransitionName,c.cancelRootViewTransitionName,c.restoreRootViewTransitionName,c.cloneRootViewTransitionContainer,c.removeRootViewTransitionClone,c.measureClonedInstance,c.hasInstanceChanged,c.hasInstanceAffectedParent,c.startViewTransition,c.startGestureTransition,c.stopGestureTransition,c.getCurrentGestureOffset,c.subscribeToGestureDirection,c.createViewTransitionInstance;var Cf=c.clearContainer;c.createFragmentInstance,c.updateFragmentInstanceFiber,c.commitNewChildToFragmentInstance,c.deleteChildFromFragmentInstance;var Ef=c.cloneInstance,ic=c.createContainerChildSet,lc=c.appendChildToContainerChildSet,Tf=c.finalizeContainerChildren,sc=c.replaceContainerChildren,rc=c.cloneHiddenInstance,oc=c.cloneHiddenTextInstance,Is=c.isSuspenseInstancePending,$s=c.isSuspenseInstanceFallback,Nf=c.getSuspenseInstanceFallbackErrorDetails,Af=c.registerSuspenseInstanceRetry,Rf=c.canHydrateFormStateMarker,Mf=c.isFormStateMarkerMatching,uc=c.getNextHydratableSibling,xf=c.getNextHydratableSiblingAfterSingleton,Of=c.getFirstHydratableChild,Gf=c.getFirstHydratableChildWithinContainer,Df=c.getFirstHydratableChildWithinSuspenseInstance,Uf=c.getFirstHydratableChildWithinSingleton,zf=c.canHydrateInstance,Hf=c.canHydrateTextInstance,Bf=c.canHydrateSuspenseInstance,Vf=c.hydrateInstance,qf=c.hydrateTextInstance,Lf=c.hydrateSuspenseInstance,Yf=c.getNextHydratableInstanceAfterSuspenseInstance,Ff=c.commitHydratedContainer,Pf=c.commitHydratedSuspenseInstance,Kf=c.clearSuspenseBoundary,Xf=c.clearSuspenseBoundaryFromContainer,cc=c.shouldDeleteUnhydratedTailInstances;c.diffHydratedPropsForDevWarnings,c.diffHydratedTextForDevWarnings,c.describeHydratableInstanceForDevWarnings;var jf=c.validateHydratableInstance,wf=c.validateHydratableTextInstance,Ze=c.supportsResources,hc=c.isHostHoistableType,tr=c.getHoistableRoot,fc=c.getResource,dc=c.acquireResource,gc=c.releaseResource,Qf=c.hydrateHoistable,mc=c.mountHoistable,pc=c.unmountHoistable,Zf=c.createHoistableInstance,Jf=c.prepareToCommitHoistables,Wf=c.mayResourceSuspendCommit,vc=c.preloadResource,kf=c.suspendResource,It=c.supportsSingletons,yc=c.resolveSingletonInstance,If=c.acquireSingletonInstance,_c=c.releaseSingletonInstance,Sc=c.isHostSingletonType,rn=c.isSingletonScope,er=[],on=-1,un={},Ue=Math.clz32?Math.clz32:S,$f=Math.log,td=Math.LN2,pl=256,vl=4194304,yl=De.unstable_scheduleCallback,ar=De.unstable_cancelCallback,ed=De.unstable_shouldYield,ad=De.unstable_requestPaint,Je=De.unstable_now,bc=De.unstable_ImmediatePriority,nd=De.unstable_UserBlockingPriority,nr=De.unstable_NormalPriority,id=De.unstable_IdlePriority,ld=De.log,sd=De.unstable_setDisableYieldValue,Qn=null,ze=null,ir,Cc,lr=!1,Ec=new WeakMap,cn=[],hn=0,_l=null,Sl=0,Le=[],Ye=0,Xa=null,oa=1,ua="",he=T(null),Zn=T(null),Ra=T(null),bl=T(null),pe=null,$t=null,Gt=!1,ja=null,ta=!1,sr=Error(E(519)),He=typeof Object.is=="function"?Object.is:Dt,Cl=T(null),wa=null,ca=null,rd=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(a,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(a){return a()})}},od=De.unstable_scheduleCallback,ud=De.unstable_NormalPriority,Ft={$$typeof:Ta,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},El=null,fn=null,rr=!1,Tl=!1,or=!1,dn=0,Jn=null,ur=0,gn=0,mn=null,Tc=dt.S;dt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Xl(t,e),Tc!==null&&Tc(t,e)};var Qa=T(null),cd=Object.prototype.hasOwnProperty,Wn=Error(E(460)),cr=Error(E(474)),Nl=Error(E(542)),Al={then:function(){}},pn=null,Fe=[],vn=0,hr=0,Ma=!1,fr=!1,yn=T(null),Rl=T(0),xa=0,yt=null,Ht=null,Jt=null,Ml=!1,_n=!1,Za=!1,xl=0,kn=0,Sn=null,hd=0,Ol={readContext:vt,use:ki,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Nc={readContext:vt,use:ki,useCallback:function(t,e){return _e().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:So,useImperativeHandle:function(t,e,a){a=a!=null?a.concat([t]):null,tl(4194308,4,To.bind(null,e,t),a)},useLayoutEffect:function(t,e){return tl(4194308,4,t,e)},useInsertionEffect:function(t,e){tl(4,2,t,e)},useMemo:function(t,e){var a=_e();e=e===void 0?null:e;var n=t();if(Za){h(!0);try{t()}finally{h(!1)}}return a.memoizedState=[n,e],n},useReducer:function(t,e,a){var n=_e();if(a!==void 0){var i=a(e);if(Za){h(!0);try{a(e)}finally{h(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=g0.bind(null,yt,t),[n.memoizedState,t]},useRef:function(t){var e=_e();return t={current:t},e.memoizedState=t},useState:function(t){t=rs(t);var e=t.queue,a=Uo.bind(null,yt,e);return e.dispatch=a,[t.memoizedState,a]},useDebugValue:us,useDeferredValue:function(t,e){var a=_e();return cs(a,t,e)},useTransition:function(){var t=rs(!1);return t=xo.bind(null,yt,t.queue,!0,!1),_e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,a){var n=yt,i=_e();if(Gt){if(a===void 0)throw Error(E(407));a=a()}else{if(a=e(),Vt===null)throw Error(E(349));(At&124)!==0||no(n,e,a)}i.memoizedState=a;var l={value:a,getSnapshot:e};return i.queue=l,So(lo.bind(null,n,l,t),[t]),n.flags|=2048,$a(9,$i(),io.bind(null,n,l,a,e),null),a},useId:function(){var t=_e(),e=Vt.identifierPrefix;if(Gt){var a=ua,n=oa;a=(n&~(1<<32-Ue(n)-1)).toString(32)+a,e=""+e+"R"+a,a=xl++,0<a&&(e+="H"+a.toString(32)),e+=""}else a=hd++,e=""+e+"r"+a.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:hs,useFormState:mo,useActionState:mo,useOptimistic:function(t){var e=_e();e.memoizedState=e.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=a,e=fs.bind(null,yt,!0,a),a.dispatch=e,[t,e]},useMemoCache:is,useCacheRefresh:function(){return _e().memoizedState=d0.bind(null,yt)}},Ac={readContext:vt,use:ki,useCallback:Ao,useContext:vt,useEffect:bo,useImperativeHandle:No,useInsertionEffect:Co,useLayoutEffect:Eo,useMemo:Ro,useReducer:Ii,useRef:_o,useState:function(){return Ii(aa)},useDebugValue:us,useDeferredValue:function(t,e){var a=Zt();return Mo(a,Ht.memoizedState,t,e)},useTransition:function(){var t=Ii(aa)[0],e=Zt().memoizedState;return[typeof t=="boolean"?t:zn(t),e]},useSyncExternalStore:ao,useId:Go,useHostTransitionStatus:hs,useFormState:po,useActionState:po,useOptimistic:function(t,e){var a=Zt();return oo(a,Ht,t,e)},useMemoCache:is,useCacheRefresh:Do},fd={readContext:vt,use:ki,useCallback:Ao,useContext:vt,useEffect:bo,useImperativeHandle:No,useInsertionEffect:Co,useLayoutEffect:Eo,useMemo:Ro,useReducer:ss,useRef:_o,useState:function(){return ss(aa)},useDebugValue:us,useDeferredValue:function(t,e){var a=Zt();return Ht===null?cs(a,t,e):Mo(a,Ht.memoizedState,t,e)},useTransition:function(){var t=ss(aa)[0],e=Zt().memoizedState;return[typeof t=="boolean"?t:zn(t),e]},useSyncExternalStore:ao,useId:Go,useHostTransitionStatus:hs,useFormState:yo,useActionState:yo,useOptimistic:function(t,e){var a=Zt();return Ht!==null?oo(a,Ht,t,e):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:is,useCacheRefresh:Do},bn=null,In=0,Cn=Vo(!0),Rc=Vo(!1),Pe=T(null),ea=null,te=T(0),dr={enqueueSetState:function(t,e,a){t=t._reactInternals;var n=Oe(),i=pa(n);i.payload=e,a!=null&&(i.callback=a),e=va(t,i,n),e!==null&&(Ge(e,t,n),Gn(e,t,n))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var n=Oe(),i=pa(n);i.tag=1,i.payload=e,a!=null&&(i.callback=a),e=va(t,i,n),e!==null&&(Ge(e,t,n),Gn(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Oe(),n=pa(a);n.tag=2,e!=null&&(n.callback=e),e=va(t,n,a),e!==null&&(Ge(e,t,a),Gn(e,t,a))}},Mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xc=Error(E(461)),ie=!1,gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},ha=!1,jt=!1,mr=!1,Oc=typeof WeakSet=="function"?WeakSet:Set,le=null,Wt=null,be=!1,We=null,En=8192,dd={getCacheForType:function(t){var e=vt(Ft),a=e.data.get(t);return a===void 0&&(a=t(),e.data.set(t,a)),a}},Gl=0,Dl=1,Ul=2,zl=3,Hl=4;if(typeof Symbol=="function"&&Symbol.for){var $n=Symbol.for;Gl=$n("selector.component"),Dl=$n("selector.has_pseudo_class"),Ul=$n("selector.role"),zl=$n("selector.test_id"),Hl=$n("selector.text")}var gd=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Vt=null,bt=null,At=0,zt=0,Be=null,Oa=!1,Tn=!1,pr=!1,fa=0,Pt=0,Ga=0,Ja=0,vr=0,Ke=0,Nn=0,ti=null,Ce=null,yr=!1,_r=0,ei=1/0,Bl=null,Da=null,fe=0,Ua=null,An=null,Rn=0,Sr=0,br=null,Gc=null,ai=0,Cr=null;return St.attemptContinuousHydration=function(t){if(t.tag===13){var e=Ia(t,67108864);e!==null&&Ge(e,t,67108864),Ks(t,67108864)}},St.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var e=Oe();e=H(e);var a=Ia(t,e);a!==null&&Ge(a,t,e),Ks(t,e)}},St.attemptSynchronousHydration=function(t){switch(t.tag){case 3:if(t=t.stateNode,t.current.memoizedState.isDehydrated){var e=C(t.pendingLanes);if(e!==0){for(t.pendingLanes|=2,t.entangledLanes|=2;e;){var a=1<<31-Ue(e);t.entanglements[1]|=a,e&=~a}kt(t),(Nt&6)===0&&(ei=Je()+500,de(0))}}break;case 13:e=Ia(t,2),e!==null&&Ge(e,t,2),Ru(),Ks(t,2)}},St.batchedUpdates=function(t,e){return t(e)},St.createComponentSelector=function(t){return{$$typeof:Gl,value:t}},St.createContainer=function(t,e,a,n,i,l,G,L,w,$){return Xu(t,e,!1,null,a,n,l,G,L,w,$,null)},St.createHasPseudoClassSelector=function(t){return{$$typeof:Dl,value:t}},St.createHydrationContainer=function(t,e,a,n,i,l,G,L,w,$,nt,st,ut){return t=Xu(a,n,!0,t,i,l,L,w,$,nt,st,ut),t.context=ju(null),a=t.current,n=Oe(),n=H(n),i=pa(n),i.callback=e??null,va(a,i,n),e=n,t.current.lanes=e,F(t,e),kt(t),t},St.createPortal=function(t,e,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:a}},St.createRoleSelector=function(t){return{$$typeof:Ul,value:t}},St.createTestNameSelector=function(t){return{$$typeof:zl,value:t}},St.createTextSelector=function(t){return{$$typeof:Hl,value:t}},St.defaultOnCaughtError=function(t){console.error(t)},St.defaultOnRecoverableError=function(t){Mc(t)},St.defaultOnUncaughtError=function(t){Mc(t)},St.deferredUpdates=function(t){var e=dt.T,a=ra();try{return ne(32),dt.T=null,t()}finally{ne(a),dt.T=e}},St.discreteUpdates=function(t,e,a,n,i){var l=dt.T,G=ra();try{return ne(2),dt.T=null,t(e,a,n,i)}finally{ne(G),dt.T=l,Nt===0&&(ei=Je()+500)}},St.findAllNodes=Hs,St.findBoundingRects=function(t,e){if(!jn)throw Error(E(363));e=Hs(t,e),t=[];for(var a=0;a<e.length;a++)t.push(nf(e[a]));for(e=t.length-1;0<e;e--){a=t[e];for(var n=a.x,i=n+a.width,l=a.y,G=l+a.height,L=e-1;0<=L;L--)if(e!==L){var w=t[L],$=w.x,nt=$+w.width,st=w.y,ut=st+w.height;if(n>=$&&l>=st&&i<=nt&&G<=ut){t.splice(e,1);break}else if(n!==$||a.width!==w.width||ut<l||st>G){if(!(l!==st||a.height!==w.height||nt<n||$>i)){$>n&&(w.width+=$-n,w.x=n),nt<i&&(w.width=i-$),t.splice(e,1);break}}else{st>l&&(w.height+=st-l,w.y=l),ut<G&&(w.height=G-st),t.splice(e,1);break}}}return t},St.findHostInstance=wu,St.findHostInstanceWithNoPortals=function(t){return t=d(t),t=t!==null?m(t):null,t===null?null:Xn(t.stateNode)},St.findHostInstanceWithWarning=function(t){return wu(t)},St.flushPassiveEffects=Kn,St.flushSyncFromReconciler=function(t){var e=Nt;Nt|=1;var a=dt.T,n=ra();try{if(ne(2),dt.T=null,t)return t()}finally{ne(n),dt.T=a,Nt=e,(Nt&6)===0&&de(0)}},St.flushSyncWork=Ru,St.focusWithin=function(t,e){if(!jn)throw Error(E(363));for(t=Ds(t),e=Eu(t,e),e=Array.from(e),t=0;t<e.length;){var a=e[t++],n=a.tag;if(!wn(a)){if((n===5||n===26||n===27)&&rf(a.stateNode))return!0;for(a=a.child;a!==null;)e.push(a),a=a.sibling}}return!1},St.getFindAllNodesFailureDescription=function(t,e){if(!jn)throw Error(E(363));var a=0,n=[];t=[Ds(t),0];for(var i=0;i<t.length;){var l=t[i++],G=l.tag,L=t[i++],w=e[L];if((G!==5&&G!==26&&G!==27||!wn(l))&&(Us(l,w)&&(n.push(zs(w)),L++,L>a&&(a=L)),L<e.length))for(l=l.child;l!==null;)t.push(l,L),l=l.sibling}if(a<e.length){for(t=[];a<e.length;a++)t.push(zs(e[a]));return`findAllNodes was able to match part of the selector:
  `+(n.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},St.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 27:case 5:return Xn(t.child.stateNode);default:return t.child.stateNode}},St.injectIntoDevTools=function(){var t={bundleType:0,version:B0,rendererPackageName:V0,currentDispatcherRef:dt,reconcilerVersion:"19.1.0"};if(Iu!==null&&(t.rendererConfig=Iu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{Qn=e.inject(t),ze=e}catch{}t=!!e.checkDCE}}return t},St.isAlreadyRendering=function(){return(Nt&6)!==0},St.observeVisibleRects=function(t,e,a,n){if(!jn)throw Error(E(363));t=Hs(t,e);var i=of(t,a,n).disconnect;return{disconnect:function(){i()}}},St.shouldError=function(){return null},St.shouldSuspend=function(){return!1},St.startHostTransition=function(t,e,a,n){if(t.tag!==5)throw Error(E(476));var i=Oo(t).queue;xo(t,i,e,sn,a===null?z:function(){var l=Oo(t).next.queue;return Bn(t,l,{},Oe()),a(n)})},St.updateContainer=function(t,e,a,n){var i=e.current,l=Oe();return Qu(i,l,t,e,a,n),l},St.updateContainerSync=function(t,e,a,n){return Qu(e.current,2,t,e,a,n),2},St},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})}(Ur)),Ur.exports}var qh;function l1(){return qh||(qh=1,Dr.exports=i1()),Dr.exports}var s1=l1();const r1=Xh(s1);var zr={exports:{}},ma={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function o1(){return Lh||(Lh=1,ma.ConcurrentRoot=1,ma.ContinuousEventPriority=8,ma.DefaultEventPriority=32,ma.DiscreteEventPriority=2,ma.IdleEventPriority=268435456,ma.LegacyRoot=0,ma.NoEventPriority=0),ma}var Yh;function u1(){return Yh||(Yh=1,zr.exports=o1()),zr.exports}var Pl=u1(),c1=_t();const Fh={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Ph=!1,Kh=!1;const Pr=".react-konva-event",h1=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,f1=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,d1={};function Kl(r,c,V=d1){if(!Ph&&"zIndex"in c&&(console.warn(f1),Ph=!0),!Kh&&c.draggable){var z=c.x!==void 0||c.y!==void 0,E=c.onDragEnd||c.onDragMove;z&&!E&&(console.warn(h1),Kh=!0)}for(var _ in V)if(!Fh[_]){var p=_.slice(0,2)==="on",d=V[_]!==c[_];if(p&&d){var g=_.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),r.off(g,V[_])}var m=!c.hasOwnProperty(_);m&&r.setAttr(_,void 0)}var y=c._useStrictMode,N={},T=!1;const f={};for(var _ in c)if(!Fh[_]){var p=_.slice(0,2)==="on",o=V[_]!==c[_];if(p&&o){var g=_.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),c[_]&&(f[g]=c[_])}!p&&(c[_]!==V[_]||y&&c[_]!==r.getAttr(_))&&(T=!0,N[_]=c[_])}T&&(r.setAttrs(N),Ba(r));for(var g in f)r.on(g+Pr,f[g])}function Ba(r){if(!c1.Konva.autoDrawEnabled){var c=r.getLayer()||r.getStage();c&&c.batchDraw()}}var Hr=jh();const $h={},g1={};Ll.Node.prototype._applyProps=Kl;let t0=Pl.DefaultEventPriority;function m1(r,c){if(typeof c=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${c}`);return}r.add(c),Ba(r)}function p1(r,c,V){let z=Ll[r];z||(console.error(`Konva has no node with the type ${r}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${r}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),z=Ll.Group);const E={},_={};for(var p in c)if(p!=="ref"){var d=p.slice(0,2)==="on";d?_[p]=c[p]:E[p]=c[p]}const g=new z(E);return Kl(g,_),g}function v1(r,c,V){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${r}"`)}function y1(r,c,V){return!1}function _1(r){return r}function S1(){return null}function b1(){return null}function C1(r,c,V,z){return g1}function E1(){}function T1(r){}function N1(r,c){return!1}function A1(){return $h}function R1(){return $h}const M1=setTimeout,x1=clearTimeout,O1=!0,G1=r=>{r()},D1=-1;function U1(r,c){return!1}const z1=!1,H1=!1,B1=!0,V1=!1,q1=!1;function L1(r,c){c.parent===r?c.moveToTop():r.add(c),Ba(r)}function Y1(r,c){c.parent===r?c.moveToTop():r.add(c),Ba(r)}function e0(r,c,V){c._remove(),r.add(c),c.setZIndex(V.getZIndex()),Ba(r)}function F1(r,c,V){e0(r,c,V)}function P1(r,c){c.destroy(),c.off(Pr),Ba(r)}function K1(r,c){c.destroy(),c.off(Pr),Ba(r)}function X1(r,c,V){console.error(`Text components are not yet supported in ReactKonva. You text is: "${V}"`)}function j1(r,c,V){}function w1(r,c,V,z){Kl(r,z,V)}function Q1(r){r.hide(),Ba(r)}function Z1(r){}function J1(r,c){(c.visible==null||c.visible)&&r.show()}function W1(r,c){}function k1(r){}function I1(){}function $1(){return Pl.DefaultEventPriority}function t2(){}function e2(){return null}function a2(r){t0=r}function n2(){return t0}function i2(){return Pl.DiscreteEventPriority}function l2(){return!1}function s2(){}function r2(){return!1}function o2(){return!0}function u2(){}function c2(){}function h2(){return null}const f2=null;function d2(){}const g2=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:f2,appendChild:L1,appendChildToContainer:Y1,appendInitialChild:m1,cancelTimeout:x1,clearContainer:k1,commitMount:j1,commitTextUpdate:X1,commitUpdate:w1,createInstance:p1,createTextInstance:v1,detachDeletedInstance:I1,finalizeInitialChildren:y1,getChildHostContext:R1,getCurrentEventPriority:$1,getCurrentUpdatePriority:n2,getInstanceFromScope:e2,getPublicInstance:_1,getRootHostContext:A1,hideInstance:Q1,hideTextInstance:Z1,idlePriority:Hr.unstable_IdlePriority,insertBefore:e0,insertInContainerBefore:F1,isPrimaryRenderer:z1,maySuspendCommit:r2,noTimeout:D1,now:Hr.unstable_now,preloadInstance:o2,prepareForCommit:S1,preparePortalMount:b1,prepareScopeUpdate:t2,prepareUpdate:C1,removeChild:P1,removeChildFromContainer:K1,requestPostPaintCallback:s2,resetAfterCommit:E1,resetFormInstance:d2,resetTextContent:T1,resolveUpdatePriority:i2,run:Hr.unstable_runWithPriority,scheduleMicrotask:G1,scheduleTimeout:M1,setCurrentUpdatePriority:a2,shouldAttemptEagerTransition:l2,shouldDeprioritizeSubtree:N1,shouldSetTextContent:U1,startSuspendingCommit:u2,supportsHydration:q1,supportsMicrotasks:O1,supportsMutation:B1,supportsPersistence:V1,suspendInstance:c2,unhideInstance:J1,unhideTextInstance:W1,waitForCommitToBeReady:h2,warnsIfNotActing:H1},Symbol.toStringTag,{value:"Module"}));function a0(r,c,V){if(!r)return;if(V(r)===!0)return r;let z=r.child;for(;z;){const E=a0(z,c,V);if(E)return E;z=z.sibling}}function n0(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const Kr=n0(xt.createContext(null));class i0 extends xt.Component{render(){return xt.createElement(Kr.Provider,{value:this._reactInternals},this.props.children)}}function m2(){const r=xt.useContext(Kr);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const c=xt.useId();return xt.useMemo(()=>{for(const V of[r,r?.alternate]){if(!V)continue;const z=a0(V,!1,E=>{let _=E.memoizedState;for(;_;){if(_.memoizedState===c)return!0;_=_.next}});if(z)return z}},[r,c])}const p2=Symbol.for("react.context"),v2=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===p2;function y2(){const r=m2(),[c]=xt.useState(()=>new Map);c.clear();let V=r;for(;V;){const z=V.type;v2(z)&&z!==Kr&&!c.has(z)&&c.set(z,xt.use(n0(z))),V=V.return}return c}function _2(){const r=y2();return xt.useMemo(()=>Array.from(r.keys()).reduce((c,V)=>z=>xt.createElement(c,null,xt.createElement(V.Provider,{...z,value:r.get(V)})),c=>xt.createElement(i0,{...c})),[r])}if(ae.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function S2(r){const c=ae.useRef({});return ae.useLayoutEffect(()=>{c.current=r}),ae.useLayoutEffect(()=>()=>{c.current={}},[]),c.current}const b2=()=>{const r=ae.useRef(0);return ae.useMemo(()=>{r.current++},[]),r.current>1},C2=r=>{const c=ae.useRef(null),V=ae.useRef(null),z=ae.useRef(null),E=S2(r),_=_2(),p=ae.useRef(!1),d=m=>{const{forwardedRef:y}=r;y&&(typeof y=="function"?y(m):y.current=m)},g=b2();return ae.useLayoutEffect(()=>p.current&&g?()=>{p.current=!1,d(null),On.updateContainer(null,z.current,null),V.current.destroy()}:(p.current=!0,V.current=new Ll.Stage({width:r.width,height:r.height,container:c.current}),d(V.current),z.current=On.createContainer(V.current,Pl.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),On.updateContainer(ae.createElement(_,{},r.children),z.current,null,()=>{}),()=>{g||(d(null),On.updateContainer(null,z.current,null),V.current.destroy())}),[]),ae.useLayoutEffect(()=>{d(V.current),Kl(V.current,r,E),On.updateContainer(ae.createElement(_,{},r.children),z.current,null)}),ae.createElement("div",{ref:c,id:r.id,accessKey:r.accessKey,className:r.className,role:r.role,style:r.style,tabIndex:r.tabIndex,title:r.title})},E2="Layer",T2="RegularPolygon",On=r1(g2);On.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:ae.version,rendererPackageName:"react-konva"});const N2=ae.forwardRef((r,c)=>ae.createElement(i0,{},ae.createElement(C2,{...r,forwardedRef:c}))),A2=r=>3*(r-1)*r+1,l0=r=>6*(r-1)||1,s0=r=>Math.ceil(Math.fround(1/2+Math.sqrt(4*r-1)/(2*Math.sqrt(3)))),r0=({n:r=1,radius:c=10,origin:[V,z]=[0,0],spacing:E=0,rotation:_=0})=>{if(r===1)return[V,z];const p=s0(r),d=A2(p),g=l0(p),m=d-g;r===d?r=m+1:r+=1;const y=r-m-1,N=Math.floor(6*y/g)*60,T=(U,u,s)=>{const[v,A]=s,O=(U+_)*Math.PI/180,F=Math.cos(O),D=Math.sin(O),x=u*(c*Math.sqrt(3)+E);return[v+F*x,A+D*x]},[f,o]=T(N,p-1,[V,z]),S=N+120,C=y%(g/6);return T(S,C,[f,o])};function R2({number:r,setNumber:c,play:V}){const z=xt.useRef(1);xt.useLayoutEffect(()=>{if(!V)return;const E=setTimeout(()=>{c(_=>(_<=1&&(z.current=1),_>=331&&(z.current=-1),_+z.current*1))},1e3/l0(s0(r)));return()=>{clearTimeout(E)}},[V,r,c])}const M2=({x:r,y:c,radius:V,rotation:z,...E})=>{const[_,p]=xt.useState(!1),d=_?"#bbb":"#ccc",g=xt.useRef(null);return xt.useLayoutEffect(()=>{const m=g.current;if(!m||!_)return;const y=m.style.cursor;return m.style.cursor="pointer",()=>{m.style.cursor=y}},[_]),ee.jsx(T2,{ref:m=>{g.current=m?.getStage()?.container()||null},...E,perfectDrawEnabled:!1,x:r,y:c,radius:V,onPointerEnter:({evt:m,pointerId:y})=>{m.target.hasPointerCapture(y)||p(!0)},onPointerLeave:({evt:m,pointerId:y})=>{m.target.hasPointerCapture(y)||p(!1)},sides:6,rotation:z,fill:d})},o0=xt.createContext(r0),x2=xt.memo(({radius:r,spacing:c,n:V,x:z,y:E,rotation:_,children:p})=>{const d=xt.useContext(o0),[g,m]=d({radius:r,spacing:c,n:V,origin:[z,E],rotation:_});return p({correctedX:g,correctedY:m})}),O2=({number:r=0,x:c=0,y:V=0,radius:z=0,spacing:E=0,packingFn:_=r0,rotation:p=0,...d})=>{const g=xt.useCallback(({correctedX:m,correctedY:y})=>ee.jsx(M2,{...d,x:m,y,radius:z,rotation:p}),[z,p,...Object.entries(d).flat(1)]);return ee.jsx(o0.Provider,{value:_,children:Array(r).fill(0).map((m,y)=>{const N=y+1;return ee.jsx(x2,{radius:z,spacing:E,n:N,x:c,y:V,rotation:p,children:g},y)})})};function $2(){const[V,z]=xt.useState(1),[E,_]=xt.useState(60),[p,d]=xt.useState(.5),[g,m]=xt.useState(200*3/4),[y,N]=xt.useState(200*3/4),[T,f]=xt.useState(!1);R2({number:V,setNumber:z,play:T});const o=v=>({x:v,y:v}),S=xt.useRef(null),C=xt.useRef(null),U=xt.useRef(void 0),u=xt.useDeferredValue(E),s=xt.useDeferredValue(V);return ee.jsxs(ee.Fragment,{children:[ee.jsx(N2,{ref:v=>{C.current=v?.container()||null},width:200,height:200,x:g-100,y:y-100,scale:o(p),onPointerDown:({evt:v,pointerId:A})=>{S.current={canvas:{x:g,y},event:{x:v.clientX,y:v.clientY}},v.target.setPointerCapture(A)},onPointerUp:({evt:v,pointerId:A})=>{S.current=null,v.target.releasePointerCapture(A),U.current!==void 0&&(C.current.style.cursor=U.current,U.current=void 0)},onPointerMove:({evt:v})=>{v.pressure>0&&(U.current===void 0&&(U.current=C.current.style.cursor,C.current.style.cursor="move"),m(S.current.canvas.x+v.clientX-S.current.event.x),N(S.current.canvas.y+v.clientY-S.current.event.y))},onWheel:({evt:v,currentTarget:A})=>{v.preventDefault();const O=1.1,D=A.getPointerPosition(),M=(v.deltaY>0?-1:1)>0?p*O:p/O;d(M);const H={x:(D.x-g+100)/p,y:(D.y-y+100)/p};m(D.x-H.x*M+100),N(D.y-H.y*M+100)},children:ee.jsx(E2,{children:ee.jsx(O2,{number:s,stroke:"red",strokeWidth:0,radius:10,x:100,y:100,spacing:1,rotation:u})})}),ee.jsxs("label",{children:["number (",V,"):",ee.jsx("br",{}),ee.jsx("input",{type:"range",min:1,max:10331,value:V,onChange:v=>{f(!1),z(Number(v.target.value))}})]}),ee.jsx("button",{onClick:()=>{f(!1),z(v=>Math.max(1,v-1))},children:"-"}),ee.jsx("button",{onClick:()=>{f(!1),z(v=>Math.min(311,v+1))},children:"+"}),ee.jsx("button",{onClick:()=>f(v=>!v),children:T?"":""}),ee.jsx("br",{}),ee.jsxs("label",{children:["angle (",E,"):",ee.jsx("br",{}),ee.jsx("input",{type:"range",min:0,max:180,value:E,onChange:v=>{_(Number(v.target.value))}})]})]})}export{$2 as PageHexagonsWithoutRules};
//# sourceMappingURL=page-hexagons-without-rules.BdiG8cP7.js.map
